<html><!-- Online page at https://en.cppreference.com/w/cpp/language/new --><head><meta charset="utf-8"><title>new expression</title><link rel="stylesheet" href="../../css_1.css" type="text/css"><link rel="stylesheet" href="../../css_2.css" type="text/css"><link rel="stylesheet" href="../../css_3.css" type="text/css"><link rel="stylesheet" href="../../css_4.css" type="text/css"><link rel="stylesheet" href="../../css_5.css" type="text/css"><link rel="stylesheet" href="../../css_6.css" type="text/css"><link rel="stylesheet" href="../../css_8.css" type="text/css"><link rel="stylesheet" href="../../css_9.css" type="text/css"><link rel="stylesheet" href="../../css_10.css" type="text/css"><link rel="stylesheet" href="../../css_11.css" type="text/css"><script type="text/javascript" src="../../js_1.js"></script><script type="text/javascript" src="../../js_2.js"></script><script type="text/javascript" src="../../js_451.js"></script><script type="text/javascript" src="../../js_4.js"></script><script type="text/javascript" src="../../js_5.js"></script><script type="text/javascript" src="../../js_6.js"></script><script type="text/javascript" src="../../js_7.js"></script><script type="text/javascript" src="../../js_8.js"></script><script type="text/javascript" src="../../js_9.js"></script><script type="text/javascript" src="../../js_10.js"></script><script type="text/javascript" src="../../js_11.js"></script><script type="text/javascript" src="../../js_12.js"></script><script type="text/javascript" src="../../js_13.js"></script><script type="text/javascript" src="../../js_14.js"></script><script type="text/javascript" src="../../js_15.js"></script><style>.t-example-live-link {display:none !important} .t-sidebar-body {display:none}\nbody{min-width:0}\ndiv.mw-geshi{width:95%}\ndiv#content {width:auto !important} div#content{background-image:none; margin-left:0px;} .t-lines {background:inherit !important} pre, div.mw-geshi {width: 100% !important} body {background:white !important} div#content {width:100% !important} pre, div.mw-geshi {width:auto !important} .t-example-live-link, #mw-head, #cpp-footer-base {display:none !important} .t-navbar-menu > div {position:relative !important}</style></head><body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_new skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        <div id="mw-head" class="noprint">
            <div id="cpp-head-first-base">
                <div id="cpp-head-first">
                    <h5><a href="https://en.cppreference.com/">
                        cppreference.com                        </a></h5>
                    <div id="cpp-head-search">
                        
<!-- 0 -->
<div id="p-search">
<form action="https://duckduckgo.com/" method="get">
  <input type="hidden" name="sites" value="cppreference.com">
  <input type="search" name="q">
  <input type="submit" value="Search">
</form>
</div>

<!-- /0 -->
                    </div>
                    <div id="cpp-head-personal">
                        
<!-- 0 -->
<div id="p-personal" class="">
<span id="pt-createaccount"><a href="https://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=cpp%2Flanguage%2Fnew&amp;type=signup">Create account</a></span>	<div class="menu">
        <ul>
<li id="pt-login"><a href="https://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=cpp%2Flanguage%2Fnew" title="You are encouraged to log in; however, it is not mandatory [ctrl-option-o]" accesskey="o">Log in</a></li>        </ul>
    </div>
</div>

<!-- /0 -->
                    </div>

                </div>
            </div>
            <div id="cpp-head-second-base">
                <div id="cpp-head-second">
                    <div id="cpp-head-tools-left">
                        
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="./new.html" title="View the content page [ctrl-option-c]" accesskey="c">Page</a></span></li>
					<li id="ca-talk"><span><a href="https://en.cppreference.com/w/Talk:cpp/language/new" title="Discussion about the content page [ctrl-option-t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                    <div id="cpp-head-tools-right">
                        
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="./new.html">View</a></span></li>
					<li id="ca-edit"><span><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit" title="You can edit this page. Please use the preview button before saving [ctrl-option-e]" accesskey="e">Edit</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=history" title="Past revisions of this page [ctrl-option-h]" accesskey="h">History</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /header -->
        <!-- content -->
<style type="text/css">
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  text-align: center;
  left: -170px;
  max-width: 150px;
  border-radius: 4px;
  border: solid 1px hsla(0, 0%, 0%, .1);
  background-color: hsl(0, 0%, 98%);
  font-size: 12px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  display: block;
  margin-bottom: 8px;
  max-width: 150px;
  line-height: 1;
}

.carbon-img img {
  display: block;
  margin: 0 auto;
  max-width: 150px !important;
  width: 150px;
  height: auto;
}

.carbon-text {
  display: block;
  padding: 0 1em 8px;
}

.carbon-poweredby {
  display: block;
  padding: 8px 12px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
html { font-variant-ligatures: no-common-ligatures; }
</style>
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
<script async="" type="text/javascript" src="../../../../cdn.carbonads.com/carbon.js" id="_carbonads_js"></script>
                <h1 id="firstHeading" class="firstHeading">new expression</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">From cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../../cpp.html" title="cpp">cpp</a>‎ | <a href="../language.html" title="cpp/language">language</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="t-navbar" style=""><div class="t-navbar-sep">&nbsp;</div><div class="t-navbar-head"><a href="../../cpp.html" title="cpp"> C++</a><div class="t-navbar-menu"><div><div><table class="t-nv-begin" cellpadding="0" style="line-height:1.1em;">
<tbody><tr class="t-nv"><td colspan="5"> <a href="../compiler_support.html" title="cpp/compiler support"> Compiler support</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../freestanding.html" title="cpp/freestanding"> Freestanding and hosted</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../language.html" title="cpp/language"> Language</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../standard_library.html" title="cpp/standard library"> Standard library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../header.html" title="cpp/header"> Standard library headers</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../named_req.html" title="cpp/named req"> Named requirements </a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../feature_test.html" title="cpp/feature test"> Feature test macros </a> <span class="t-mark-rev t-since-cxx20">(C++20)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../utility.html#Language_support" title="cpp/utility"> Language support library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../concepts.html" title="cpp/concepts"> Concepts library</a> <span class="t-mark-rev t-since-cxx20">(C++20)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../meta.html" title="cpp/meta"> Metaprogramming library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../error.html" title="cpp/error"> Diagnostics library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../utility.html" title="cpp/utility"> General utilities library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../string.html" title="cpp/string"> Strings library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../container.html" title="cpp/container"> Containers library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../iterator.html" title="cpp/iterator"> Iterators library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../ranges.html" title="cpp/ranges"> Ranges library</a> <span class="t-mark-rev t-since-cxx20">(C++20)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../algorithm.html" title="cpp/algorithm"> Algorithms library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../numeric.html" title="cpp/numeric"> Numerics library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../locale.html" title="cpp/locale"> Localizations library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../io.html" title="cpp/io"> Input/output library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../filesystem.html" title="cpp/filesystem"> Filesystem library</a> <span class="t-mark-rev t-since-cxx17">(C++17)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../regex.html" title="cpp/regex"> Regular expressions library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../thread.html" title="cpp/thread"> Concurrency support library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../experimental.html" title="cpp/experimental"> Technical specifications</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../symbol_index.html" title="cpp/symbol index"> Symbols index</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../links/libs.html" title="cpp/links/libs"> External libraries</a> </td></tr>
</tbody></table></div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&amp;action=edit">[edit]</a></span></div></div></div></div><div class="t-navbar-sep">&nbsp;</div><div class="t-navbar-head"><a href="../language.html" title="cpp/language"> C++ language</a><div class="t-navbar-menu"><div><div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv-h1"><td colspan="5"> General topics</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="../preprocessor.html" title="cpp/preprocessor"> Preprocessor</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../comment.html" title="cpp/comment"> Comments</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="../keyword.html" title="cpp/keyword"> Keywords</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./escape.html" title="cpp/language/escape"> Escape sequences</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> <a href="./statements.html" title="cpp/language/statements"> Flow control</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Conditional execution statements</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./if.html" title="cpp/language/if"><tt>if</tt></a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./switch.html" title="cpp/language/switch"><tt>switch</tt></a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Iteration statements (loops)</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./for.html" title="cpp/language/for"><tt>for</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./range-for.html" title="cpp/language/range-for"> range-<code>for</code></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./while.html" title="cpp/language/while"><tt>while</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./do.html" title="cpp/language/do"> <code>do-while</code></a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Jump statements </td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./continue.html" title="cpp/language/continue"><tt>continue</tt></a> - <a href="./break.html" title="cpp/language/break"><tt>break</tt></a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./goto.html" title="cpp/language/goto"><tt>goto</tt></a> - <a href="./return.html" title="cpp/language/return"><tt>return</tt></a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> <a href="./functions.html" title="cpp/language/functions"> Functions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./function.html" title="cpp/language/function"> Function declaration</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./lambda.html" title="cpp/language/lambda"> Lambda function expression</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./inline.html" title="cpp/language/inline"> <code>inline</code> specifier</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./except_spec.html" title="cpp/language/except spec"> Dynamic exception specifications</a> <span class="t-mark-rev t-until-cxx20">(until C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./noexcept_spec.html" title="cpp/language/noexcept spec"> <code>noexcept</code> specifier</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h1"><td colspan="5"> Exceptions</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./throw.html" title="cpp/language/throw"> <code>throw</code>-expression</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./try_catch.html" title="cpp/language/try catch"> <code>try</code>-<code>catch</code> block</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> Namespaces</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./namespace.html" title="cpp/language/namespace"> Namespace declaration</a> &nbsp;</td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./namespace_alias.html" title="cpp/language/namespace alias"> Namespace aliases</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> Types</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./types.html" title="cpp/language/types"> Fundamental types</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./enum.html" title="cpp/language/enum"> Enumeration types</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./function.html" title="cpp/language/function"> Function types</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./class.html" title="cpp/language/class"> Class/struct types</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./union.html" title="cpp/language/union"> Union types</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Specifiers</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./decltype.html" title="cpp/language/decltype"><tt>decltype</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./auto.html" title="cpp/language/auto"><tt>auto</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./alignas.html" title="cpp/language/alignas"><tt>alignas</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./cv.html" title="cpp/language/cv"> <code>const</code>/<code>volatile</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./constexpr.html" title="cpp/language/constexpr"><tt>constexpr</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./storage_duration.html" title="cpp/language/storage duration"> Storage duration specifiers</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> <a href="./initialization.html" title="cpp/language/initialization"> Initialization</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./default_initialization.html" title="cpp/language/default initialization"> Default initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./value_initialization.html" title="cpp/language/value initialization"> Value initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./zero_initialization.html" title="cpp/language/zero initialization"> Zero initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./copy_initialization.html" title="cpp/language/copy initialization"> Copy initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./direct_initialization.html" title="cpp/language/direct initialization"> Direct initialization</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./aggregate_initialization.html" title="cpp/language/aggregate initialization"> Aggregate initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./list_initialization.html" title="cpp/language/list initialization"> List initialization</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./constant_initialization.html" title="cpp/language/constant initialization"> Constant initialization</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./reference_initialization.html" title="cpp/language/reference initialization"> Reference initialization</a></td></tr>
</tbody></table></div></td></tr>
</tbody></table></div>
</div>
<div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv-h1"><td colspan="5"> <a href="./expressions.html" title="cpp/language/expressions"> Expressions</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./value_category.html" title="cpp/language/value category"> Value categories</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./eval_order.html" title="cpp/language/eval order"> Order of evaluation</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./operators.html" title="cpp/language/operators"> Operators</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_precedence.html" title="cpp/language/operator precedence"> Operator precedence</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_alternative.html" title="cpp/language/operator alternative"> Alternative representations</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> <a href="./expressions.html#Literals" title="cpp/language/expressions"> Literals</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./bool_literal.html" title="cpp/language/bool literal"> Boolean</a> - <a href="./integer_literal.html" title="cpp/language/integer literal"> Integer</a> - <a href="./floating_literal.html" title="cpp/language/floating literal"> Floating-point</a></td></tr>   
<tr class="t-nv"><td colspan="5"> <a href="./character_literal.html" title="cpp/language/character literal"> Character</a> - <a href="./string_literal.html" title="cpp/language/string literal"> String</a> - <a href="./nullptr.html" title="cpp/language/nullptr"><tt>nullptr</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr> 
<tr class="t-nv"><td colspan="5"> <a href="./user_literal.html" title="cpp/language/user literal"> User-defined</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h1"><td colspan="5"> Utilities</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./attributes.html" title="cpp/language/attributes"> Attributes</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Types</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./typedef.html" title="cpp/language/typedef"> <code>typedef</code> declaration</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./type_alias.html" title="cpp/language/type alias"> Type alias declaration</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Casts</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./implicit_conversion.html" title="cpp/language/implicit conversion"> Implicit conversions</a> - <a href="./explicit_cast.html" title="cpp/language/explicit cast"> Explicit conversions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./static_cast.html" title="cpp/language/static cast"><tt>static_cast</tt></a> - <a href="./dynamic_cast.html" title="cpp/language/dynamic cast"><tt>dynamic_cast</tt></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./const_cast.html" title="cpp/language/const cast"><tt>const_cast</tt></a> - <a href="./reinterpret_cast.html" title="cpp/language/reinterpret cast"><tt>reinterpret_cast</tt></a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Memory allocation</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <strong class="selflink"> <code>new</code> expression</strong></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./delete.html" title="cpp/language/delete"> <code>delete</code> expression</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> <a href="./classes.html" title="cpp/language/classes"> Classes</a></td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./class.html" title="cpp/language/class"> Class declaration</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./constructor.html" title="cpp/language/constructor"> Constructors</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./this.html" title="cpp/language/this"> <code>this</code> pointer</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./access.html" title="cpp/language/access"> Access specifiers</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./friend.html" title="cpp/language/friend"> <code>friend</code> specifier</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Class-specific function properties</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./virtual.html" title="cpp/language/virtual"> Virtual function</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./override.html" title="cpp/language/override"> <code>override</code> specifier</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./final.html" title="cpp/language/final"> <code>final</code> specifier</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./explicit.html" title="cpp/language/explicit"><tt>explicit</tt></a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./static.html" title="cpp/language/static"><tt>static</tt></a> </td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Special member functions</td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./default_constructor.html" title="cpp/language/default constructor"> Default constructor</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./copy_constructor.html" title="cpp/language/copy constructor"> Copy constructor</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./move_constructor.html" title="cpp/language/move constructor"> Move constructor</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./copy_assignment.html" title="cpp/language/as operator" class="mw-redirect"> Copy assignment</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./move_assignment.html" title="cpp/language/move operator" class="mw-redirect"> Move assignment</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./destructor.html" title="cpp/language/destructor"> Destructor</a></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"><a href="./templates.html" title="cpp/language/templates"> Templates</a> </td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./class_template.html" title="cpp/language/class template"> Class template </a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./function_template.html" title="cpp/language/function template"> Function template </a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./template_specialization.html" title="cpp/language/template specialization"> Template specialization</a></td></tr>   
<tr class="t-nv"><td colspan="5"> <a href="./parameter_pack.html" title="cpp/language/parameter pack"> Parameter packs</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
</tbody></table></div></td></tr>
<tr class="t-nv-h1"><td colspan="5"> Miscellaneous </td></tr>
<tr class="t-nv-col-table"><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./asm.html" title="cpp/language/asm"> Inline assembly</a></td></tr>
</tbody></table></div></td><td><div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv"><td colspan="5"> <a href="./history.html" title="cpp/language/history"> History of C++</a></td></tr>
</tbody></table></div></td></tr>
</tbody></table></div>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/navbar_content&amp;action=edit">[edit]</a></span></div></div></div></div><div class="t-navbar-sep">&nbsp;</div><div class="t-navbar-head"><a href="./expressions.html" title="cpp/language/expressions"> Expressions</a><div class="t-navbar-menu"><div><div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tbody><tr class="t-nv-h2"><td colspan="5"> General </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./value_category.html" title="cpp/language/value category"> value categories</a> (lvalue, rvalue, xvalue)</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./eval_order.html" title="cpp/language/eval order"> order of evaluation</a> (sequence points)</td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./constant_expression.html" title="cpp/language/constant expression"> constant expressions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./expressions.html#Unevaluated_expressions" title="cpp/language/expressions"> unevaluated expressions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./expressions.html#Primary_expressions" title="cpp/language/expressions"> primary expressions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./lambda.html" title="cpp/language/lambda">lambda-expression</a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Literals </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./integer_literal.html" title="cpp/language/integer literal">integer literals</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./floating_literal.html" title="cpp/language/floating literal">floating-point literals</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./bool_literal.html" title="cpp/language/bool literal">boolean literals</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./character_literal.html" title="cpp/language/character literal">character literals</a> including <a href="./escape.html" title="cpp/language/escape">escape sequences</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./string_literal.html" title="cpp/language/string literal">string literals</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./nullptr.html" title="cpp/language/nullptr">null pointer literal</a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./user_literal.html" title="cpp/language/user literal">user-defined literal</a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Operators </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_assignment.html" title="cpp/language/operator assignment"> Assignment operators</a>: 
<code>a=b</code>, <code>a+=b</code>, <code>a-=b</code>, <code>a*=b</code>, <code>a/=b</code>, <code>a%=b</code>, <code>a&amp;=b</code>, <code>a|=b</code>, <code>a^=b</code>, <code>a&lt;&lt;=b</code>, <code>a&gt;&gt;=b</code></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_incdec.html" title="cpp/language/operator incdec"> Increment and decrement</a>: <code>++a</code>, <code>--a</code>, <code>a++</code>, <code>a--</code></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_arithmetic.html" title="cpp/language/operator arithmetic"> Arithmetic operators</a>:
<code>+a</code>, <code>-a</code>, <code>a+b</code>, <code>a-b</code>, <code>a*b</code>, <code>a/b</code>, <code>a%b</code>, <code>~a</code>, <code>a&amp;b</code>, <code>a|b</code>, <code>a^b</code>, <code>a&lt;&lt;b</code>, <code>a&gt;&gt;b</code> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_logical.html" title="cpp/language/operator logical"> Logical operators</a>: <code>a||b</code>, <code>a&amp;&amp;b</code>, <code>!a</code></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_comparison.html" title="cpp/language/operator comparison"> Comparison operators</a>: <code>a==b</code>, <code>a!=b</code>, <code>a&lt;b</code>, <code>a&gt;b</code>, <code>a&lt;=b</code>, <code>a&gt;=b</code>, <code>a&lt;=&gt;b</code><span class="t-mark-rev t-since-cxx20">(C++20)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_member_access.html" title="cpp/language/operator member access"> Member access operators</a>: <code>a[b]</code>, <code>*a</code>, <code>&amp;a</code>, <code>a-&gt;b</code>, <code>a.b</code>, <code>a-&gt;*b</code>, <code>a.*b</code></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_other.html" title="cpp/language/operator other"> Other operators</a>: <code>a(...)</code>, <code>a,b</code>, <code>a?b:c</code> </td></tr>
<tr class="t-nv"><td colspan="5"> <strong class="selflink">new-expression</strong></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./delete.html" title="cpp/language/delete">delete-expression</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./throw.html" title="cpp/language/throw">throw-expression</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./alignof.html" title="cpp/language/alignof"><code>alignof</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./sizeof.html" title="cpp/language/sizeof"><code>sizeof</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./sizeof....html" title="cpp/language/sizeof..."><code>sizeof...</code></a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./typeid.html" title="cpp/language/typeid"><code>typeid</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./noexcept.html" title="cpp/language/noexcept"><code>noexcept</code></a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./fold.html" title="cpp/language/fold">Fold expression</a><span class="t-mark-rev t-since-cxx17">(C++17)</span></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_alternative.html" title="cpp/language/operator alternative">Alternative representations of operators</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operator_precedence.html" title="cpp/language/operator precedence">Precedence and associativity</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./operators.html" title="cpp/language/operators">Operator overloading</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./default_comparisons.html" title="cpp/language/default comparisons">Default comparisons</a><span class="t-mark-rev t-since-cxx20">(C++20)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Conversions </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./implicit_conversion.html" title="cpp/language/implicit conversion">Implicit conversions</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./const_cast.html" title="cpp/language/const cast"><code>const_cast</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./static_cast.html" title="cpp/language/static cast"><code>static_cast</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./reinterpret_cast.html" title="cpp/language/reinterpret cast"><code>reinterpret_cast</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./dynamic_cast.html" title="cpp/language/dynamic cast"><code>dynamic_cast</code></a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./explicit_cast.html" title="cpp/language/explicit cast">Explicit conversions</a> <code>(T)a</code>, <code>T(a)</code></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="./cast_operator.html" title="cpp/language/cast operator">User-defined conversion</a></td></tr>
</tbody></table></div>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/expressions/navbar_content&amp;action=edit">[edit]</a></span></div></div></div></div><div class="t-navbar-sep">&nbsp;</div></div>
<p>Creates and initializes objects with dynamic <a href="./storage_duration.html" title="cpp/language/storage duration">storage duration</a>, that is, objects whose lifetime is not necessarily limited by the scope in which they were created.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Explanation"><span class="tocnumber">2</span> <span class="toctext">Explanation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Allocation"><span class="tocnumber">2.1</span> <span class="toctext">Allocation</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Placement_new"><span class="tocnumber">2.1.1</span> <span class="toctext">Placement new</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Construction"><span class="tocnumber">2.2</span> <span class="toctext">Construction</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Memory_leaks"><span class="tocnumber">3</span> <span class="toctext">Memory leaks</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Keywords"><span class="tocnumber">4</span> <span class="toctext">Keywords</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Notes"><span class="tocnumber">5</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Defect_reports"><span class="tocnumber">6</span> <span class="toctext">Defect reports</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=1" title="Edit section: Syntax">edit</a>]</span> <span class="mw-headline" id="Syntax">Syntax</span></h3>
<table class="t-sdsc-begin">

<tbody><tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>::</b></code><span class="t-mark">(optional)</span> <code><b>new</b></code> <code><b>(</b></code> <span class="t-spar">type</span> <code><b>)</b></code> <span class="t-spar">initializer</span><span class="t-mark">(optional)</span>
</td>
<td> (1)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>::</b></code><span class="t-mark">(optional)</span> <code><b>new</b></code> <span class="t-spar">new-type</span> <span class="t-spar">initializer</span><span class="t-mark">(optional)</span>
</td>
<td> (2)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>::</b></code><span class="t-mark">(optional)</span> <code><b>new</b></code> <code><b>(</b></code><span class="t-spar">placement-params</span><code><b>)</b></code> <code><b>(</b></code> <span class="t-spar">type</span> <code><b>)</b></code> <span class="t-spar">initializer</span><span class="t-mark">(optional)</span>
</td>
<td> (3)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr>
<tr class="t-sdsc">
<td> <code><b>::</b></code><span class="t-mark">(optional)</span> <code><b>new</b></code> <code><b>(</b></code><span class="t-spar">placement-params</span><code><b>)</b></code> <span class="t-spar">new-type</span> <span class="t-spar">initializer</span><span class="t-mark">(optional)</span>
</td>
<td> (4)
</td>
<td class="t-sdsc-nopad">
</td></tr>



<tr>
<td colspan="10" class="t-sdsc-sep">
</td></tr></tbody></table>
<div class="t-li1"><span class="t-li">1)</span> Attempts to create an object of type, denoted by the <a href="./type.html#Type_naming" title="cpp/language/type">type-id</a> <span class="t-spar">type</span>, which may be array type<span class="t-rev-inl t-since-cxx11"><span>, and may include a <a href="./auto.html" title="cpp/language/auto">placeholder type specifier</a></span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span><span class="t-rev-inl t-since-cxx17"><span>, or include a class template name whose argument is to be deduced by <a href="./class_template_argument_deduction.html" title="cpp/language/class template argument deduction">class template argument deduction</a></span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>.</div>
<div class="t-li1"><span class="t-li">2)</span> Same as (1), but <span class="t-spar">new-type</span> cannot include parentheses:</div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">new <span class="kw4">int</span><span class="br0">(</span><span class="sy2">*</span><span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>    <span class="co1">// error: parsed as (new int) (*[10]) ()</span>
new <span class="br0">(</span><span class="kw4">int</span> <span class="br0">(</span><span class="sy2">*</span><span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// okay: allocates an array of 10 pointers to functions</span></pre></div></div>
<dl><dd>In addition, <span class="t-spar">new-type</span> is greedy: it will include every token that can be a part of a declarator:
</dd></dl>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">new <span class="kw4">int</span> <span class="sy2">+</span> <span class="nu0">1</span><span class="sy4">;</span> <span class="co1">// okay: parsed as (new int) + 1, increments a pointer returned by new int</span>
new <span class="kw4">int</span> <span class="sy2">*</span> <span class="nu0">1</span><span class="sy4">;</span> <span class="co1">// error: parsed as (new int*) (1)</span></pre></div></div>
<div class="t-li1"><span class="t-li">3)</span> Same as (1), but provides additional arguments to the allocation function, see <a href="./new.html#Placement_new" title="cpp/language/new">placement new</a>.</div>
<div class="t-li1"><span class="t-li">4)</span> Same as (2), but provides additional arguments to the allocation function.</div>
<p><br>
The <span class="t-spar">initializer</span> is not optional if
</p>
<ul><li> <span class="t-spar">type</span> or <span class="t-spar">new-type</span> is an <a href="./array.html#Arrays_of_unknown_bound" title="cpp/language/array">array of unknown bound</a> 
</li></ul>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<ul><li> a <a href="./auto.html" title="cpp/language/auto">placeholder</a> is used in <span class="t-spar">type</span> or <span class="t-spar">new-type</span>, that is, <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">auto</span></span></span> <span class="t-rev-inl t-since-cxx14"><span>or <span class="t-c"><span class="mw-geshi cpp source-cpp">decltype<span class="br0">(</span><span class="kw4">auto</span><span class="br0">)</span></span></span></span> <span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span><span class="t-rev-inl t-since-cxx20"><span>, possibly combined with a <a href="./constraints.html#Concepts" title="cpp/language/constraints">type constraint</a></span> <span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span>
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
<tr class="t-rev t-since-cxx17"><td>
<ul><li> a class template is used in <span class="t-spar">type</span> or <span class="t-spar">new-type</span> whose arguments need to be <a href="./class_template_argument_deduction.html" title="cpp/language/class template argument deduction">deduced</a>
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
</tbody></table>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">double</span><span class="sy2">*</span> p <span class="sy1">=</span> new <span class="kw4">double</span><span class="br0">[</span><span class="br0">]</span><span class="br0">{</span><span class="nu0">1</span>,<span class="nu0">2</span>,<span class="nu0">3</span><span class="br0">}</span><span class="sy4">;</span> <span class="co1">// creates an array of type double[3]</span>
<span class="kw4">auto</span> p <span class="sy1">=</span> new <span class="kw4">auto</span><span class="br0">(</span><span class="st0">'c'</span><span class="br0">)</span><span class="sy4">;</span>          <span class="co1">// creates a single object of type char. p is a char*</span>
&nbsp;
<span class="kw4">auto</span> q <span class="sy1">=</span> new <a href="../concepts/integral.html"><span class="kw2941">std::<span class="me2">integral</span></span></a> <span class="kw4">auto</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="sy4">;</span>         <span class="co1">// OK: q is a int*</span>
<span class="kw4">auto</span> q <span class="sy1">=</span> new <a href="../concepts/floating_point.html"><span class="kw2944">std::<span class="me2">floating_point</span></span></a> <span class="kw4">auto</span><span class="br0">(</span><span class="kw2">true</span><span class="br0">)</span> <span class="co1">// ERROR: type constraint not satisfied</span>
&nbsp;
<span class="kw4">auto</span> r <span class="sy1">=</span> new <a href="../utility/pair.html"><span class="kw1099">std::<span class="me2">pair</span></span></a><span class="br0">(</span><span class="nu0">1</span>, <span class="kw2">true</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// OK: r is a std::pair&lt;int, bool&gt;*</span>
<span class="kw4">auto</span> r <span class="sy1">=</span> new <a href="../container/vector.html"><span class="kw1272">std::<span class="me2">vector</span></span></a><span class="sy4">;</span>        <span class="co1">// ERROR: element type can't be deduced</span></pre></div></div>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=2" title="Edit section: Explanation">edit</a>]</span> <span class="mw-headline" id="Explanation">Explanation</span></h3>
<p>The <code>new</code> expression attempts to allocate storage and then attempts to construct and initialize either a single unnamed object, or an unnamed array of objects in the allocated storage. The new-expression returns a prvalue pointer to the constructed object or, if an array of objects was constructed, a pointer to the initial element of the array.
</p><p>If <code>type</code> is an array type, all dimensions other than the first must be specified as positive <span class="t-rev-inl t-until-cxx14"><span><a href="./constant_expression.html" title="cpp/language/constant expression">integral constant expression</a></span> <span><span class="t-mark-rev t-until-cxx14">(until C++14)</span></span></span><span class="t-rev-inl t-since-cxx14"><span><a href="./constant_expression.html" title="cpp/language/constant expression">converted constant expression</a> of type <span class="t-lc"><a href="../types/size_t.html" title="cpp/types/size t">std::size_t</a></span></span> <span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>, but (only when using un-parenthesized syntaxes  <span class="t-v">(2)</span> and <span class="t-v">(4)</span>) the first dimension may be <span class="t-rev-inl t-until-cxx14"><span>an expression of integral type, enumeration type, or class type with a single non-explicit conversion function to integral or enumeration type</span> <span><span class="t-mark-rev t-until-cxx14">(until C++14)</span></span></span><span class="t-rev-inl t-since-cxx14"><span>any expression convertible to <span class="t-lc"><a href="../types/size_t.html" title="cpp/types/size t">std::size_t</a></span></span> <span><span class="t-mark-rev t-since-cxx14">(since C++14)</span></span></span>. This is the only way to directly create an array with size defined at runtime, such arrays are often referred to as <i>dynamic arrays</i>:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span> n <span class="sy1">=</span> <span class="nu0">42</span><span class="sy4">;</span>
<span class="kw4">double</span> a<span class="br0">[</span>n<span class="br0">]</span><span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy4">;</span> <span class="co1">// error</span>
<span class="kw4">auto</span> p1 <span class="sy1">=</span> new  <span class="kw4">double</span><span class="br0">[</span>n<span class="br0">]</span><span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy4">;</span>  <span class="co1">// OK</span>
<span class="kw4">auto</span> p2 <span class="sy1">=</span> new  <span class="kw4">double</span><span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">[</span>n<span class="br0">]</span><span class="sy4">;</span>  <span class="co1">// error: only the first dimension may be non-constant</span>
<span class="kw4">auto</span> p3 <span class="sy1">=</span> new <span class="br0">(</span><span class="kw4">double</span><span class="br0">[</span>n<span class="br0">]</span><span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// error: syntax (1) cannot be used for dynamic arrays</span></pre></div></div>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-until-cxx11"><td>
<p>The behavior is undefined if the value in the first dimension (converted to integral or enumeration type if needed) is negative.
</p>
</td>
<td><span class="t-mark-rev t-until-cxx11">(until C++11)</span></td></tr>
<tr class="t-rev t-since-cxx11"><td>
<p>In the following cases the expression specifying the first dimension is erroneous:
</p>
<ul><li> the expression is of non-class type and its value before conversion to <span class="t-lc"><a href="../types/size_t.html" title="cpp/types/size t">std::size_t</a></span> is negative;
</li><li> the expression is of class type and its value after user-defined conversion function and before the <a href="./implicit_conversion.html" title="cpp/language/implicit conversion">second standard conversion</a> is negative;
</li><li> the value of the expression is larger than some implementation-defined limit;
</li><li> the value is smaller than the number of array elements provided in <a href="./aggregate_initialization.html" title="cpp/language/aggregate initialization">the brace-enclosed initializer</a> (including the terminating <code>'\0'</code> on a <a href="./string_literal.html" title="cpp/language/string literal">string literal</a>).
</li></ul>
<p>If the value in the first dimension is erroneous for any of these reasons,
</p>
<ul><li> if, after conversion to <span class="t-lc"><a href="../types/size_t.html" title="cpp/types/size t">std::size_t</a></span>, the first dimension is a <a href="./constant_expression.html" title="cpp/language/constant expression">core constant expression</a>, the program is ill-formed (a compile-time error is issued);
</li><li> Otherwise, if the allocation function that would have been called is non-throwing, the new-expression returns the null pointer of the required result type
</li><li> Otherwise, the new-expression does not call the allocation function, and instead throws an exception of type <span class="t-lc"><a href="../memory/new/bad_array_new_length.html" title="cpp/memory/new/bad array new length">std::bad_array_new_length</a></span> or derived from it
</li></ul>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<p>The first dimension of zero is acceptable, and the allocation function is called.
</p><p>Note: <span class="t-lc"><a href="../container/vector.html" title="cpp/container/vector">std::vector</a></span> offers similar functionality for one-dimensional dynamic arrays.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=3" title="Edit section: Allocation">edit</a>]</span> <span class="mw-headline" id="Allocation">Allocation</span></h4>
<p>The new-expression allocates storage by calling the appropriate <a href="../memory/new/operator_new.html" title="cpp/memory/new/operator new">allocation function</a>. If <code>type</code> is a non-array type, the name of the function is <code>operator new</code>. If <code>type</code> is an array type, the name of the function is <code>operator new[]</code>. 
</p><p>As described in <a href="../memory/new/operator_new.html" title="cpp/memory/new/operator new">allocation function</a>, the C++ program may provide global and class-specific replacements for these functions. If the new-expression begins with the optional <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy4">::</span></span></span> operator, as in <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy4">::</span><span class="me2">new</span> T</span></span> or <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy4">::</span><span class="me2">new</span> T<span class="br0">[</span>n<span class="br0">]</span></span></span>, class-specific replacements will be ignored (the function is <a href="./lookup.html" title="cpp/language/lookup">looked up</a> in global <a href="./scope.html" title="cpp/language/scope">scope</a>). Otherwise, if <code>T</code> is a class type, lookup begins in the class scope of <code>T</code>.
</p><p>When calling the allocation function, the new-expression passes the number of bytes requested as the first argument, of type <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../types/size_t.html"><span class="kw106">std::<span class="me2">size_t</span></span></a></span></span>, which is exactly <span class="t-c"><span class="mw-geshi cpp source-cpp">sizeof<span class="br0">(</span>T<span class="br0">)</span></span></span> for non-array <code>T</code>.
</p><p>Array allocation may supply unspecified overhead, which may vary from one call to new to the next, unless the allocation function selected is the standard non-allocating form. The pointer returned by the new-expression will be offset by that value from the pointer returned by the allocation function. Many implementations use the array overhead to store the number of objects in the array which is used by the <a href="./delete.html" title="cpp/language/delete"><span class="t-c"><span class="mw-geshi cpp source-cpp">delete<span class="br0">[</span><span class="br0">]</span></span></span></a> expression to call the correct number of destructors. In addition, if the new-expression is used to allocate an array of <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">char</span></span></span>, <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">unsigned</span> <span class="kw4">char</span></span></span><span class="t-rev-inl t-since-cxx17"><span>, or <a href="../types/byte.html" title="cpp/types/byte"><tt>std::byte</tt></a></span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>, it may request additional memory from the allocation function if necessary to guarantee correct alignment of objects of all types no larger than the requested array size, if one is later placed into the allocated array. 
</p>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx14"><td>
<p>New-expressions are allowed to elide or combine allocations made through replaceable allocation functions. In case of elision, the storage may be provided by the compiler without making the call to an allocation function (this also permits optimizing out unused new-expression). In case of combining, the allocation made by a new-expression E1 may be extended to provide additional storage for another new-expression E2 if all of the following is true:
</p>
<div class="t-li1"><span class="t-li">1)</span> The lifetime of the object allocated by E1 strictly contains the lifetime of the object allocated by E2,</div>
<div class="t-li1"><span class="t-li">2)</span> E1 and E2 would invoke the same replaceable global allocation function</div>
<div class="t-li1"><span class="t-li">3)</span> For a throwing allocation function, exceptions in E1 and E2 would be first caught in the same handler.</div>
<p>Note that this optimization is only permitted when new-expressions are used, not any other methods to call a replaceable allocation function: <span class="t-c"><span class="mw-geshi cpp source-cpp">delete<span class="br0">[</span><span class="br0">]</span> new <span class="kw4">int</span><span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy4">;</span></span></span> can be optimized out, but <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/new/operator_delete.html"><span class="kw691">operator delete</span></a><span class="br0">(</span><a href="../memory/new/operator_new.html"><span class="kw689">operator new</span></a><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span></span></span> cannot.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx14">(since C++14)</span></td></tr>
<tr class="t-rev t-since-cxx20"><td>
<p>During an evaluation of a <a href="./constant_expression.html" title="cpp/language/constant expression">constant expression</a>, a call to an allocation function is always omitted. Only new-expressions that would otherwise result in a call to a replaceable global allocation function can be evaluated in constant expressions.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<h5><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=4" title="Edit section: Placement new">edit</a>]</span> <span class="mw-headline" id="Placement_new">Placement new</span></h5>
<p>If <code>placement-params</code> are provided, they are passed to the allocation function as additional arguments. Such allocation functions are known as "placement new", after the standard allocation function <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">void</span><span class="sy2">*</span> <a href="../memory/new/operator_new.html"><span class="kw689">operator new</span></a><span class="br0">(</span><a href="../types/size_t.html"><span class="kw106">std::<span class="me2">size_t</span></span></a>, <span class="kw4">void</span><span class="sy2">*</span><span class="br0">)</span></span></span>, which simply returns its second argument unchanged. This is used to construct objects in allocated storage:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// within any block scope...</span>
<span class="br0">{</span>
    <span class="co1">// Statically allocate the storage with automatic storage duration</span>
    <span class="co1">// which is large enough for any object of type `T`.</span>
    alignas<span class="br0">(</span>T<span class="br0">)</span> <span class="kw4">unsigned</span> <span class="kw4">char</span> buf<span class="br0">[</span>sizeof<span class="br0">(</span>T<span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
&nbsp;
    T<span class="sy2">*</span> tptr <span class="sy1">=</span> new<span class="br0">(</span>buf<span class="br0">)</span> T<span class="sy4">;</span> <span class="co1">// Construct a `T` object, placing it directly into your </span>
                          <span class="co1">// pre-allocated storage at memory address `buf`.</span>
&nbsp;
    tptr<span class="sy2">-</span><span class="sy1">&gt;</span>~T<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>           <span class="co1">// You must **manually** call the object's destructor</span>
                          <span class="co1">// if its side effects is depended by the program.</span>
<span class="br0">}</span>                         <span class="co1">// Leaving this block scope automatically deallocates `buf`.</span></pre></div></div>
<p>Note: this functionality is encapsulated by the member functions of the <a href="../named_req/Allocator.html" title="cpp/named req/Allocator"><span style="font-family: Georgia, 'DejaVu Serif', serif; font-style:italic">Allocator</span></a> classes.
</p>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx17"><td>
<p>When allocating an object whose alignment requirement exceeds <code>__STDCPP_DEFAULT_NEW_ALIGNMENT__</code> or an array of such objects, the new-expression passes the alignment requirement (wrapped in <span class="t-lc"><a href="../memory/new/align_val_t.html" title="cpp/memory/new/align val t">std::align_val_t</a></span>) as the second argument for the allocation function (for placement forms, <code>placement-params</code> appear after the alignment, as the third, fourth, etc arguments). If overload resolution fails (which happens when a class-specific allocation function is defined with a different signature, since it hides the globals), overload resolution is attempted a second time, without alignment in the argument list. This allows alignment-unaware class-specific allocation functions to take precedence over the global alignment-aware allocation functions.
</p>
</td>
<td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td></tr>
</tbody></table>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1">new T<span class="sy4">;</span>      <span class="co1">// calls operator new(sizeof(T))</span>
            <span class="co1">// (C++17) or operator new(sizeof(T), std::align_val_t(alignof(T))))</span>
new T<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy4">;</span>   <span class="co1">// calls operator new[](sizeof(T)*5 + overhead)</span>
            <span class="co1">// (C++17) or operator new(sizeof(T)*5+overhead, std::align_val_t(alignof(T))))</span>
new<span class="br0">(</span><span class="nu0">2</span>,f<span class="br0">)</span> T<span class="sy4">;</span> <span class="co1">// calls operator new(sizeof(T), 2, f)</span>
            <span class="co1">// (C++17) or operator new(sizeof(T), std::align_val_t(alignof(T)), 2, f)</span></pre></div></div>
<p>If a non-throwing allocation function (e.g. the one selected by <span class="t-c"><span class="mw-geshi cpp source-cpp">new<span class="br0">(</span><a href="../memory/new/nothrow.html"><span class="kw700">std::<span class="me2">nothrow</span></span></a><span class="br0">)</span> T</span></span>) returns a null pointer because of an allocation failure, then the new-expression returns immediately, it does not attempt to initialize an object or to call a deallocation function. If a null pointer is passed as the argument to a non-allocating placement new-expression, which makes the selected standard non-allocating placement allocation function return a null pointer, the behavior is undefined.
</p>
<h4><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=5" title="Edit section: Construction">edit</a>]</span> <span class="mw-headline" id="Construction">Construction</span></h4>
<p>The object created by a new-expression is initialized according to the following rules:
</p>
<ul><li> For non-array <code>type</code>, the single object is constructed in the acquired memory area.
</li></ul>
<dl><dd><ul><li> If <span class="t-spar">initializer</span> is absent, the object is <a href="./default_initialization.html" title="cpp/language/default initialization">default-initialized</a>.
</li><li> If <span class="t-spar">initializer</span> is a parenthesized list of arguments, the object is <a href="./direct_initialization.html" title="cpp/language/direct initialization">direct-initialized</a>.
</li></ul>
</dd></dl>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<dl><dd><ul><li> If <span class="t-spar">initializer</span> is a brace-enclosed list of arguments, the object is <a href="./list_initialization.html" title="cpp/language/list initialization">list-initialized</a>.
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
</tbody></table>
<ul><li> If <span class="t-spar">type</span> or <span class="t-spar">new-type</span> is an array type, an array of objects is initialized.
</li></ul>
<dl><dd><ul><li> If <span class="t-spar">initializer</span> is absent, each element is <a href="./default_initialization.html" title="cpp/language/default initialization">default-initialized</a>
</li><li> If <span class="t-spar">initializer</span> is an empty pair of parentheses, each element is <a href="./value_initialization.html" title="cpp/language/value initialization">value-initialized</a>.
</li></ul>
</dd></dl>
 <table class="t-rev-begin">
<tbody><tr class="t-rev t-since-cxx11"><td>
<dl><dd><ul><li> If <span class="t-spar">initializer</span> is a brace-enclosed list of arguments, the array is <a href="./aggregate_initialization.html" title="cpp/language/aggregate initialization">aggregate-initialized</a>.
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td></tr>
<tr class="t-rev t-since-cxx20"><td>
<dl><dd><ul><li> If <span class="t-spar">initializer</span> is a parenthesized list of arguments, the array is <a href="./aggregate_initialization.html" title="cpp/language/aggregate initialization">aggregate-initialized</a>.
</li></ul>
</dd></dl>
</td>
<td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td></tr>
</tbody></table>
<p>If initialization terminates by throwing an exception (e.g. from the constructor), if new-expression allocated any storage, it calls the appropriate <a href="../memory/new/operator_delete.html" title="cpp/memory/new/operator delete">deallocation function</a>: <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/new/operator_delete.html"><span class="kw691">operator delete</span></a></span></span> for non-array <code>type</code>, <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../memory/new/operator_delete.html"><span class="kw691">operator delete</span></a><span class="br0">[</span><span class="br0">]</span></span></span> for array <code>type</code>. The deallocation function is looked up in global scope if the new-expression used the <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy4">::</span><span class="me2">new</span></span></span> syntax, otherwise it is looked up in the scope of <code>T</code>, if <code>T</code> is a class type. If the failed allocation function was usual (non-placement), lookup for the deallocation function follows the rules described in <a href="./delete.html" title="cpp/language/delete">delete-expression</a>. For a failed placement new, all parameter types, except the first, of the matching deallocation function must be identical to the parameters of the placement new. The call to the deallocation function is made the value obtained earlier from the allocation function passed as the first argument<span class="t-rev-inl t-since-cxx17"><span>, alignment passed as the optional alignment argument</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>, and <code>placement-params</code>, if any, passed as the additional placement arguments. If no deallocation function is found, memory is not deallocated.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=6" title="Edit section: Memory leaks">edit</a>]</span> <span class="mw-headline" id="Memory_leaks">Memory leaks</span></h3>
<p>The objects created by new-expressions (objects with dynamic storage duration) persist until the pointer returned by the new-expression is used in a matching <a href="./delete.html" title="cpp/language/delete">delete-expression</a>. If the original value of pointer is lost, the object becomes unreachable and cannot be deallocated: a <i>memory leak</i> occurs.
</p><p>This may happen if the pointer is assigned to:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span><span class="sy2">*</span> p <span class="sy1">=</span> new <span class="kw4">int</span><span class="br0">(</span><span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// dynamically allocated int with value 7</span>
p <span class="sy1">=</span> nullptr<span class="sy4">;</span> <span class="co1">// memory leak</span></pre></div></div>
<p>or if the pointer goes out of scope:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">int</span><span class="sy2">*</span> p <span class="sy1">=</span> new <span class="kw4">int</span><span class="br0">(</span><span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span> <span class="co1">// memory leak</span></pre></div></div>
<p>or due to exception:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">void</span> f<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">int</span><span class="sy2">*</span> p <span class="sy1">=</span> new <span class="kw4">int</span><span class="br0">(</span><span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span>
    g<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>      <span class="co1">// may throw</span>
    delete p<span class="sy4">;</span> <span class="co1">// okay if no exception</span>
<span class="br0">}</span> <span class="co1">// memory leak if g() throws</span></pre></div></div>
<p>To simplify management of dynamically-allocated objects, the result of a new-expression is often stored in a <i><a href="../memory.html#Smart_pointers" title="cpp/memory">smart pointer</a></i>: <span class="t-rev-inl t-until-cxx17"><span><span class="t-lc"><a href="../memory/auto_ptr.html" title="cpp/memory/auto ptr">std::auto_ptr</a></span> </span> <span><span class="t-mark-rev t-until-cxx17">(until C++17)</span></span></span><span class="t-rev-inl t-since-cxx11"><span><span class="t-lc"><a href="../memory/unique_ptr.html" title="cpp/memory/unique ptr">std::unique_ptr</a></span>, or <span class="t-lc"><a href="../memory/shared_ptr.html" title="cpp/memory/shared ptr">std::shared_ptr</a></span></span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>. These pointers guarantee that the delete expression is executed in the situations shown above.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=7" title="Edit section: Keywords">edit</a>]</span> <span class="mw-headline" id="Keywords">Keywords</span></h3>
<p><a href="../keyword/new.html" title="cpp/keyword/new"><tt>new</tt></a>
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=8" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<p><a rel="nofollow" class="external text" href="https://itanium-cxx-abi.github.io/cxx-abi/abi.html#array-cookies">Itanium C++ ABI</a> requires that the array allocation overhead is zero if the element type of the created array is trivially destructible. So does MSVC.
</p><p>Some implementations (e.g. MSVC before VS 2019 v16.7) require non-zero array allocation overhead on non-allocating placement array new if the element type is not trivially destructible, which is no longer conforming since <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2382.html">CWG  2382</a>.
</p><p>A non-allocating placement array new-expression that creates an array of <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">char</span></span></span>, <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="kw4">unsigned</span> <span class="kw4">char</span></span></span><span class="t-rev-inl t-since-cxx17"><span>, or <a href="../types/byte.html" title="cpp/types/byte"><tt>std::byte</tt></a></span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> can be used to implicitly create objects on given region of storage: it ends lifetime of objects overlapping with the array, and then implicitly creates objects of implicit-lifetime types in the array.
</p>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=9" title="Edit section: Defect reports">edit</a>]</span> <span class="mw-headline" id="Defect_reports">Defect reports</span></h3>
<p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.
</p>
<table class="dsctable" style="font-size:0.8em">
<tbody><tr>
<th> DR
</th>
<th> Applied to
</th>
<th> Behavior as published
</th>
<th> Correct behavior
</th></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/74.html">CWG 74</a>
</td>
<td> C++98
</td>
<td> value in the first dimension must have integral type
</td>
<td> enumeration types permitted
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/299.html">CWG 299</a>
</td>
<td> C++98
</td>
<td> value in the first dimension must<br>have integral or enumeration type
</td>
<td> class types with a single<br>conversion function to integral<br>or enumeration type permitted
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/624.html">CWG 624</a>
</td>
<td> C++98
</td>
<td> the behavior was unspecified when the<br>size of the allocated object would exceed<br>the implementation-defined limit
</td>
<td> no storage is obtained and an<br>exception is thrown in this case
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1748.html">CWG 1748</a>
</td>
<td> C++98
</td>
<td> non-allocating placement new need<br>to check if the argument is null
</td>
<td> undefined behavior for null argument
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1992.html">CWG 1992</a>
</td>
<td> C++11
</td>
<td> <span class="t-c"><span class="mw-geshi cpp source-cpp">new <span class="br0">(</span><a href="../memory/new/nothrow.html"><span class="kw700">std::<span class="me2">nothrow</span></span></a><span class="br0">)</span> <span class="kw4">int</span><span class="br0">[</span>N<span class="br0">]</span></span></span><br>could throw <code>bad_array_new_length</code>
</td>
<td> changed to return a null pointer
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://wg21.link/P1009R2">P1009R2</a>
</td>
<td> C++11
</td>
<td> the array bound cannot be<br>deduced in a new expression
</td>
<td> deduction permitted
</td></tr>
<tr>
<td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2382.html">CWG 2382</a>
</td>
<td> C++98
</td>
<td> non-allocating placement array new<br>could require allocation overhead
</td>
<td> such allocation overhead disallowed
</td></tr></tbody></table>
<h3><span class="editsection">[<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=edit&amp;section=10" title="Edit section: See also">edit</a>]</span> <span class="mw-headline" id="See_also">See also</span></h3>
<ul><li> <a href="./constructor.html" title="cpp/language/constructor">constructor</a>
</li><li> <a href="./copy_elision.html" title="cpp/language/copy elision">copy elision</a>
</li><li> <a href="./default_constructor.html" title="cpp/language/default constructor">default constructor</a>
</li><li> <a href="./delete.html" title="cpp/language/delete"><code>delete</code></a>
</li><li> <a href="./destructor.html" title="cpp/language/destructor">destructor</a>
</li><li> <a href="./initialization.html" title="cpp/language/initialization">initialization</a>
<ul><li> <a href="./aggregate_initialization.html" title="cpp/language/aggregate initialization">aggregate initialization</a>
</li><li> <a href="./default_initialization.html" title="cpp/language/default initialization">default initialization</a>
</li><li> <a href="./direct_initialization.html" title="cpp/language/direct initialization">direct initialization</a>
</li><li> <a href="./list_initialization.html" title="cpp/language/list initialization">list initialization</a>
</li><li> <a href="./value_initialization.html" title="cpp/language/value initialization">value initialization</a>
</li></ul>
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 5703/1000000
Preprocessor generated node count: 12543/1000000
Post‐expand include size: 181540/2097152 bytes
Template argument size: 34442/2097152 bytes
Highest expansion depth: 15/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:700-0!*!0!!en!*!* and timestamp 20221009033930 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;oldid=139371">https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;oldid=139371</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id="catlinks" class="catlinks catlinks-allhidden"><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="https://en.cppreference.com/w/Category:Pages_with_unreviewed_CWG_DR_marker" title="Category:Pages with unreviewed CWG DR marker">Pages with unreviewed CWG DR marker</a></li></ul></div></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        <div id="cpp-footer-base" class="noprint">
            <div id="footer">
                        <div id="cpp-navigation">
            <h5>Navigation</h5>
            <ul>
<li id="n-Support-us"><a href="http://www.cppreference.com/support" rel="nofollow">Support us</a></li><li id="n-recentchanges"><a href="https://en.cppreference.com/w/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-FAQ"><a href="https://en.cppreference.com/w/Cppreference:FAQ">FAQ</a></li><li id="n-Offline-version"><a href="https://en.cppreference.com/w/Cppreference:Archives">Offline version</a></li>            </ul>
        </div>
                        <div id="cpp-toolbox">
            <h5><span>Toolbox</span><a href="#"></a></h5>
            <ul>
<li id="t-whatlinkshere"><a href="https://en.cppreference.com/w/Special:WhatLinksHere/cpp/language/new" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://en.cppreference.com/w/Special:RecentChangesLinked/cpp/language/new" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="http://upload.cppreference.com/w/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="https://en.cppreference.com/w/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;oldid=139371" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/language/new&amp;action=info">Page information</a></li>            </ul>
        </div>
                        <div id="cpp-languages">
            <div><ul><li>In other languages</li></ul></div>
            <div><ul>
<li class="interwiki-de"><a href="http://de.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="de" hreflang="de">Deutsch</a></li><li class="interwiki-es"><a href="http://es.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="es" hreflang="es">Español</a></li><li class="interwiki-fr"><a href="http://fr.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="fr" hreflang="fr">Français</a></li><li class="interwiki-it"><a href="http://it.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="it" hreflang="it">Italiano</a></li><li class="interwiki-ja"><a href="http://ja.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="ja" hreflang="ja">日本語</a></li><li class="interwiki-pt"><a href="http://pt.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="pt" hreflang="pt">Português</a></li><li class="interwiki-ru"><a href="http://ru.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="ru" hreflang="ru">Русский</a></li><li class="interwiki-zh"><a href="http://zh.cppreference.com/w/cpp/language/new" title="cpp/language/new" lang="zh" hreflang="zh">中文</a></li>            </ul></div>
        </div>
            <ul id="footer-info">
                                    <li id="footer-info-lastmod"> This page was last modified on 21 April 2022, at 20:14.</li>
                                    <li id="footer-info-viewcount">This page has been accessed 670,852 times.</li>
                            </ul>
                    <ul id="footer-places">
                                    <li id="footer-places-privacy"><a href="https://en.cppreference.com/w/Cppreference:Privacy_policy" title="Cppreference:Privacy policy">Privacy policy</a></li>
                                    <li id="footer-places-about"><a href="https://en.cppreference.com/w/Cppreference:About" title="Cppreference:About">About cppreference.com</a></li>
                                    <li id="footer-places-disclaimer"><a href="https://en.cppreference.com/w/Cppreference:General_disclaimer" title="Cppreference:General disclaimer">Disclaimers</a></li>
                            </ul>
                                    <ul id="footer-icons" class="noprint">
                                    <li id="footer-poweredbyico">
                                            <a href="https://www.mediawiki.org/"><img src="../../../mwiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a>                                            <a href="http://qbnz.com/highlighter/"><img src="../../../../upload.cppreference.com/mwiki/images/2/2b/powered_by_geshi_88x31.png" alt="Powered by GeSHi" height="31" width="88"></a>                                            <a href="http://www.tigertech.net/referral/cppreference.com"><img src="../../../../upload.cppreference.com/mwiki/images/9/94/powered_by_tigertech_88x31.png" alt="Hosted by Tiger Technologies" height="31" width="88"></a>                                        </li>
                                </ul>
                        <div style="clear:both">
            </div>
            </div>
        </div>
        <!-- /footer -->
        



<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-2828341-1']);
_gaq.push(['_setDomainName', 'cppreference.com']);
_gaq.push(['_trackPageview']);
</script><!-- Served in 3.344 secs. -->
	
<!-- Cached 20221009033930 -->

</body></html>
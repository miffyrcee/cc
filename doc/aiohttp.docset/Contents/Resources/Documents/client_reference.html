<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Client Reference — aiohttp 3.4.4 documentation</title>
<link href="_static/aiohttp.css" rel="stylesheet" type="text/css"/>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js" type="text/javascript"></script>
<script src="_static/jquery.js" type="text/javascript"></script>
<script src="_static/underscore.js" type="text/javascript"></script>
<script src="_static/doctools.js" type="text/javascript"></script>
<link href="_static/favicon.ico" rel="shortcut icon"/>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="tracing_reference.html" rel="next" title="Tracing Reference"/>
<link href="client_advanced.html" rel="prev" title="Advanced Client Usage"/>
<link href="_static/custom.css" rel="stylesheet" type="text/css"/>
<link href="http://docs.aiohttp.org/en/stable/client_reference.html" rel="canonical"/>
<meta content="width=device-width, initial-scale=0.9, maximum-scale=0.9" name="viewport"/>
<link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet"/>
</head><body>
<div class="document">
<div class="documentwrapper">
<div class="body" role="main">
<div class="section" id="module-aiohttp">
<span id="client-reference"></span><span id="aiohttp-client-reference"></span><h1>Client Reference<a class="headerlink" href="#module-aiohttp" title="Permalink to this headline">¶</a></h1>
<div class="section" id="client-session">
<h2>Client Session<a class="headerlink" href="#client-session" title="Permalink to this headline">¶</a></h2>
<p>Client session is the recommended interface for making HTTP requests.</p>
<p>Session encapsulates a <em>connection pool</em> (<em>connector</em> instance) and
supports keepalives by default. Unless you are connecting to a large,
unknown number of different servers over the lifetime of your
application, it is suggested you use a single session for the
lifetime of your application to benefit from connection pooling.</p>
<p>Usage example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aiohttp</span>
<span class="kn">import</span> <span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://python.org'</span><span class="p">)</span> <span class="k">as</span> <span class="n">resp</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">resp</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
        <span class="n">html</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fetch</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
<span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<p>The client session supports the context manager protocol for self closing.</p>
<dl class="class">
<dt id="aiohttp.ClientSession"><a name="//apple_ref/cpp/Class/aiohttp.ClientSession"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientSession</code><span class="sig-paren">(</span><em>*</em>, <em>connector=None</em>, <em>loop=None</em>, <em>cookies=None</em>, <em>headers=None</em>, <em>skip_auto_headers=None</em>, <em>auth=None</em>, <em>json_serialize=json.dumps</em>, <em>version=aiohttp.HttpVersion11</em>, <em>cookie_jar=None</em>, <em>read_timeout=None</em>, <em>conn_timeout=None</em>, <em>timeout=sentinel</em>, <em>raise_for_status=False</em>, <em>connector_owner=True</em>, <em>auto_decompress=True</em>, <em>proxies=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession" title="Permalink to this definition">¶</a></dt>
<dd><p>The class for creating client sessions and making requests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connector</strong> (<em>aiohttp.connector.BaseConnector</em>) – BaseConnector
sub-class instance to support connection pooling.</li>
<li><strong>loop</strong> – <p><a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.7)"><span class="xref std std-ref">event loop</span></a> used for
processing HTTP requests.</p>
<p>If <em>loop</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> the constructor
borrows it from <em>connector</em> if specified.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_event_loop" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code></a> is used for getting default event
loop otherwise.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.</span></p>
</div>
</li>
<li><strong>cookies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Cookies to send with the request (optional)</li>
<li><strong>headers</strong> – <p>HTTP Headers to send with every request (optional).</p>
<p>May be either <em>iterable of key-value pairs</em> or
<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a>
(e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>,
<a class="reference external" href="https://multidict.readthedocs.io/en/stable/multidict.html#multidict.CIMultiDict" title="(in multidict v4.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CIMultiDict</span></code></a>).</p>
</li>
<li><strong>skip_auto_headers</strong> – <p>set of headers for which autogeneration
should be skipped.</p>
<p><em>aiohttp</em> autogenerates headers like <code class="docutils literal notranslate"><span class="pre">User-Agent</span></code> or
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> if these headers are not explicitly
passed. Using <code class="docutils literal notranslate"><span class="pre">skip_auto_headers</span></code> parameter allows to skip
that generation. Note that <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> autogeneration can’t
be skipped.</p>
<p>Iterable of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">istr</span></code> (optional)</p>
</li>
<li><strong>auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents HTTP Basic
Authorization (optional)</li>
<li><strong>version</strong> – supported HTTP version, <code class="docutils literal notranslate"><span class="pre">HTTP</span> <span class="pre">1.1</span></code> by default.</li>
<li><strong>cookie_jar</strong> – <p>Cookie Jar, <code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractCookieJar</span></code> instance.</p>
<p>By default every session instance has own private cookie jar for
automatic cookies processing but user may redefine this behavior
by providing own jar implementation.</p>
<p>One example is not processing cookies at all when working in
proxy mode.</p>
<p>If no cookie processing is needed, a
<a class="reference internal" href="#aiohttp.DummyCookieJar" title="aiohttp.DummyCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.DummyCookieJar</span></code></a> instance can be
provided.</p>
</li>
<li><strong>json_serialize</strong> (<em>callable</em>) – <p>Json <em>serializer</em> callable.</p>
<p>By default <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a> function.</p>
</li>
<li><strong>raise_for_status</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>Automatically call <a class="reference internal" href="#aiohttp.ClientResponse.raise_for_status" title="aiohttp.ClientResponse.raise_for_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientResponse.raise_for_status()</span></code></a> for
each response, <code class="docutils literal notranslate"><span class="pre">False</span></code> by default.</p>
<p>This parameter can be overridden when you making a request, e.g.:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">client_session</span> <span class="o">=</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">(</span><span class="n">raise_for_status</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">resp</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">resp</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">200</span>
</pre></div>
</div>
<p>Set the parameter to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you need <code class="docutils literal notranslate"><span class="pre">raise_for_status</span></code>
for most of cases but override <code class="docutils literal notranslate"><span class="pre">raise_for_status</span></code> for those
requests where you need to handle responses with status 400 or
higher.</p>
</li>
<li><strong>timeout</strong> – <dl class="docutils">
<dt>a <a class="reference internal" href="#aiohttp.ClientTimeout" title="aiohttp.ClientTimeout"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientTimeout</span></code></a> settings structure, 5min</dt>
<dd>total timeout by default.</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</li>
<li><strong>read_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – <p>Request operations timeout. <code class="docutils literal notranslate"><span class="pre">read_timeout</span></code> is
cumulative for all request operations (request, redirects, responses,
data consuming). By default, the read timeout is 5*60 seconds.
Use <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> to disable timeout checks.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.3: </span>Use <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter instead.</p>
</div>
</li>
<li><strong>conn_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – <p>timeout for connection establishing
(optional). Values <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> mean no timeout.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.3: </span>Use <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter instead.</p>
</div>
</li>
<li><strong>connector_owner</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>Close connector instance on session closing.</p>
<p>Setting the parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code> allows to share
connection pool between sessions without sharing session state:
cookies etc.</p>
</li>
<li><strong>auto_decompress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <dl class="docutils">
<dt>Automatically decompress response body,</dt>
<dd><code class="docutils literal notranslate"><span class="pre">True</span></code> by default</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</li>
<li><strong>trust_env</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>Get proxies information from <em>HTTP_PROXY</em> /
<em>HTTPS_PROXY</em> environment variables if the parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>
(<code class="docutils literal notranslate"><span class="pre">False</span></code> by default).</p>
<p>Get proxy credentials from <code class="docutils literal notranslate"><span class="pre">~/.netrc</span></code> file if present.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">.netrc</span></code> documentation: <a class="reference external" href="https://www.gnu.org/software/inetutils/manual/html_node/The-_002enetrc-file.html">https://www.gnu.org/software/inetutils/manual/html_node/The-_002enetrc-file.html</a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>Added support for <code class="docutils literal notranslate"><span class="pre">~/.netrc</span></code> file.</p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aiohttp.ClientSession.closed"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientSession.closed"></a>
<code class="descname">closed</code><a class="headerlink" href="#aiohttp.ClientSession.closed" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the session has been closed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<p>A read-only property.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientSession.connector"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientSession.connector"></a>
<code class="descname">connector</code><a class="headerlink" href="#aiohttp.ClientSession.connector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.connector.BaseConnector</span></code> derived instance used</dt>
<dd><p class="first">for the session.</p>
<p class="last">A read-only property.</p>
</dd>
</dl>
<dl class="attribute">
<dt id="aiohttp.ClientSession.cookie_jar"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientSession.cookie_jar"></a>
<code class="descname">cookie_jar</code><a class="headerlink" href="#aiohttp.ClientSession.cookie_jar" title="Permalink to this definition">¶</a></dt>
<dd><p>The session cookies, <code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractCookieJar</span></code> instance.</p>
<p>Gives access to cookie jar’s content and modifiers.</p>
<p>A read-only property.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientSession.requote_redirect_url"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientSession.requote_redirect_url"></a>
<code class="descname">requote_redirect_url</code><a class="headerlink" href="#aiohttp.ClientSession.requote_redirect_url" title="Permalink to this definition">¶</a></dt>
<dd><p>aiohttp re quote’s redirect urls by default, but some servers
require exact url from location header. To disable <em>re-quote</em> system
set <a class="reference internal" href="#aiohttp.ClientSession.requote_redirect_url" title="aiohttp.ClientSession.requote_redirect_url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">requote_redirect_url</span></code></a> attribute to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This parameter affects all subsequent requests.</p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientSession.loop"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientSession.loop"></a>
<code class="descname">loop</code><a class="headerlink" href="#aiohttp.ClientSession.loop" title="Permalink to this definition">¶</a></dt>
<dd><p>A loop instance used for session creation.</p>
<p>A read-only property.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.request"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.request"></a>
<em class="property">coroutine async-with </em><code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>*</em>, <em>params=None</em>, <em>data=None</em>, <em>json=None</em>, <em>headers=None</em>, <em>skip_auto_headers=None</em>, <em>auth=None</em>, <em>allow_redirects=True</em>, <em>max_redirects=10</em>, <em>compress=None</em>, <em>chunked=None</em>, <em>expect100=False</em>, <em>raise_for_status=None</em>, <em>read_until_eof=True</em>, <em>proxy=None</em>, <em>proxy_auth=None</em>, <em>timeout=sentinel</em>, <em>ssl=None</em>, <em>verify_ssl=None</em>, <em>fingerprint=None</em>, <em>ssl_context=None</em>, <em>proxy_headers=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an asynchronous HTTP request. Returns a response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – HTTP method</li>
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a>.</li>
<li><strong>params</strong> – <p>Mapping, iterable of tuple of <em>key</em>/<em>value</em> pairs or
string to be sent as parameters in the query
string of the new request. Ignored for subsequent
redirected requests (optional)</p>
<p>Allowed values are:</p>
<ul>
<li><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a> e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.MultiDict</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.MultiDictProxy</span></code></li>
<li><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Iterable</span></code></a> e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> or
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> with preferably url-encoded content
(<strong>Warning:</strong> content will not be encoded by <em>aiohttp</em>)</li>
</ul>
</li>
<li><strong>data</strong> – Dictionary, bytes, or file-like object to
send in the body of the request (optional)</li>
<li><strong>json</strong> – Any json compatible python object
(optional). <em>json</em> and <em>data</em> parameters could not
be used at the same time.</li>
<li><strong>headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – HTTP Headers to send with
the request (optional)</li>
<li><strong>skip_auto_headers</strong> – <p>set of headers for which autogeneration
should be skipped.</p>
<p><em>aiohttp</em> autogenerates headers like <code class="docutils literal notranslate"><span class="pre">User-Agent</span></code> or
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> if these headers are not explicitly
passed. Using <code class="docutils literal notranslate"><span class="pre">skip_auto_headers</span></code> parameter allows to skip
that generation.</p>
<p>Iterable of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">istr</span></code>
(optional)</p>
</li>
<li><strong>auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents HTTP
Basic Authorization (optional)</li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, do not follow redirects.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
<li><strong>max_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum number of redirects to follow.
<code class="docutils literal notranslate"><span class="pre">10</span></code> by default.</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if request has to be compressed
with deflate encoding. If <cite>compress</cite> can not be combined
with a <em>Content-Encoding</em> and <em>Content-Length</em> headers.
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</li>
<li><strong>chunked</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Enable chunked transfer encoding.
It is up to the developer
to decide how to chunk data streams. If chunking is enabled, aiohttp
encodes the provided chunks in the “Transfer-encoding: chunked” format.
If <em>chunked</em> is set, then the <em>Transfer-encoding</em> and <em>content-length</em>
headers are disallowed. <code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</li>
<li><strong>expect100</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Expect 100-continue response from server.
<code class="docutils literal notranslate"><span class="pre">False</span></code> by default (optional).</li>
<li><strong>raise_for_status</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <dl class="docutils">
<dt>Automatically call <a class="reference internal" href="#aiohttp.ClientResponse.raise_for_status" title="aiohttp.ClientResponse.raise_for_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientResponse.raise_for_status()</span></code></a> for</dt>
<dd>response if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> value from <code class="docutils literal notranslate"><span class="pre">ClientSession</span></code> will be used.
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</li>
<li><strong>read_until_eof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Read response until EOF if response
does not have Content-Length header.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
<li><strong>proxy</strong> – Proxy URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> (optional)</li>
<li><strong>proxy_auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents proxy HTTP
Basic Authorization (optional)</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <p>override the session’s timeout.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>The parameter is <a class="reference internal" href="#aiohttp.ClientTimeout" title="aiohttp.ClientTimeout"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientTimeout</span></code></a> instance,
<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> is still supported for sake of backward
compatibility.</p>
<p>If <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> is passed it is a <em>total</em> timeout.</p>
</div>
</li>
<li><strong>ssl</strong> – <dl class="docutils">
<dt>SSL validation mode. <code class="docutils literal notranslate"><span class="pre">None</span></code> for default SSL check</dt>
<dd>(<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.create_default_context" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.create_default_context()</span></code></a> is used),
<code class="docutils literal notranslate"><span class="pre">False</span></code> for skip SSL certificate validation,
<a class="reference internal" href="#aiohttp.Fingerprint" title="aiohttp.Fingerprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.Fingerprint</span></code></a> for fingerprint
validation, <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> for custom SSL
certificate validation.<p class="last">Supersedes <em>verify_ssl</em>, <em>ssl_context</em> and
<em>fingerprint</em> parameters.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</li>
<li><strong>verify_ssl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>Perform SSL certificate validation for
<em>HTTPS</em> requests (enabled by default). May be disabled to
skip validation for sites with invalid certificates.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=False</span></code></p>
</div>
</li>
<li><strong>fingerprint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – <p>Pass the SHA256 digest of the expected
certificate in DER format to verify that the certificate the
server presents matches. Useful for <a class="reference external" href="https://en.wikipedia.org/wiki/Transport_Layer_Security#Certificate_pinning">certificate pinning</a>.</p>
<p>Warning: use of MD5 or SHA1 digests is insecure and removed.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=aiohttp.Fingerprint(digest)</span></code></p>
</div>
</li>
<li><strong>ssl_context</strong> (<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><em>ssl.SSLContext</em></a>) – <p>ssl context used for processing
<em>HTTPS</em> requests (optional).</p>
<p><em>ssl_context</em> may be used for configuring certification
authority channel, supported SSL options etc.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=ssl_context</span></code></p>
</div>
</li>
<li><strong>proxy_headers</strong> (<em>abc.Mapping</em>) – <p>HTTP headers to send to the proxy if the
parameter proxy has been provided.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</li>
<li><strong>trace_request_ctx</strong> – <p>Object used to give as a kw param for each new
<a class="reference internal" href="tracing_reference.html#aiohttp.TraceConfig" title="aiohttp.TraceConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">TraceConfig</span></code></a> object instantiated,
used to give information to the
tracers that is only available at request time.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</div></blockquote>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a>
object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.get"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.get"></a>
<em class="property">coroutine async-with </em><code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>allow_redirects=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">GET</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, do not follow redirects.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.post"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.post"></a>
<em class="property">coroutine async-with </em><code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">POST</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>data</strong> – Dictionary, bytes, or file-like object to
send in the body of the request (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.put"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.put"></a>
<em class="property">coroutine async-with </em><code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">PUT</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>data</strong> – Dictionary, bytes, or file-like object to
send in the body of the request (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.delete"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.delete"></a>
<em class="property">coroutine async-with </em><code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.head"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.head"></a>
<em class="property">coroutine async-with </em><code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>allow_redirects=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, do not follow redirects.
<code class="docutils literal notranslate"><span class="pre">False</span></code> by default (optional).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.options"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.options"></a>
<em class="property">coroutine async-with </em><code class="descname">options</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>allow_redirects=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, do not follow redirects.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.patch"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.patch"></a>
<em class="property">coroutine async-with </em><code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">PATCH</span></code> request.</p>
<p>In order to modify inner
<a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>
parameters, provide <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> – Request URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>data</strong> – Dictionary, bytes, or file-like object to
send in the body of the request (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.ws_connect"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.ws_connect"></a>
<em class="property">coroutine async-with </em><code class="descname">ws_connect</code><span class="sig-paren">(</span><em>url</em>, <em>*</em>, <em>protocols=()</em>, <em>timeout=10.0</em>, <em>receive_timeout=None</em>, <em>auth=None</em>, <em>autoclose=True</em>, <em>autoping=True</em>, <em>heartbeat=None</em>, <em>origin=None</em>, <em>headers=None</em>, <em>proxy=None</em>, <em>proxy_auth=None</em>, <em>ssl=None</em>, <em>verify_ssl=None</em>, <em>fingerprint=None</em>, <em>ssl_context=None</em>, <em>proxy_headers=None</em>, <em>compress=0</em>, <em>max_msg_size=4194304</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.ws_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a websocket connection. Returns a
<a class="reference internal" href="#aiohttp.ClientWebSocketResponse" title="aiohttp.ClientWebSocketResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientWebSocketResponse</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> – Websocket server url, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>protocols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – Websocket protocols</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Timeout for websocket to close. <code class="docutils literal notranslate"><span class="pre">10</span></code> seconds
by default</li>
<li><strong>receive_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Timeout for websocket to receive
complete message.  <code class="docutils literal notranslate"><span class="pre">None</span></code> (unlimited)
seconds by default</li>
<li><strong>auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents HTTP
Basic Authorization (optional)</li>
<li><strong>autoclose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Automatically close websocket connection on close
message from server. If <em>autoclose</em> is False
then close procedure has to be handled manually.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default</li>
<li><strong>autoping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – automatically send <em>pong</em> on <em>ping</em>
message from server. <code class="docutils literal notranslate"><span class="pre">True</span></code> by default</li>
<li><strong>heartbeat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Send <em>ping</em> message every <em>heartbeat</em>
seconds and wait <em>pong</em> response, if
<em>pong</em> response is not received then
close connection. The timer is reset on any data
reception.(optional)</li>
<li><strong>origin</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Origin header to send to server(optional)</li>
<li><strong>headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – HTTP Headers to send with
the request (optional)</li>
<li><strong>proxy</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Proxy URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> (optional)</li>
<li><strong>proxy_auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents proxy HTTP
Basic Authorization (optional)</li>
<li><strong>ssl</strong> – <dl class="docutils">
<dt>SSL validation mode. <code class="docutils literal notranslate"><span class="pre">None</span></code> for default SSL check</dt>
<dd>(<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.create_default_context" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.create_default_context()</span></code></a> is used),
<code class="docutils literal notranslate"><span class="pre">False</span></code> for skip SSL certificate validation,
<a class="reference internal" href="#aiohttp.Fingerprint" title="aiohttp.Fingerprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.Fingerprint</span></code></a> for fingerprint
validation, <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> for custom SSL
certificate validation.<p class="last">Supersedes <em>verify_ssl</em>, <em>ssl_context</em> and
<em>fingerprint</em> parameters.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</li>
<li><strong>verify_ssl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>Perform SSL certificate validation for
<em>HTTPS</em> requests (enabled by default). May be disabled to
skip validation for sites with invalid certificates.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=False</span></code></p>
</div>
</li>
<li><strong>fingerprint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – <p>Pass the SHA256 digest of the expected
certificate in DER format to verify that the certificate the
server presents matches. Useful for <a class="reference external" href="https://en.wikipedia.org/wiki/Transport_Layer_Security#Certificate_pinning">certificate pinning</a>.</p>
<p>Note: use of MD5 or SHA1 digests is insecure and deprecated.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=aiohttp.Fingerprint(digest)</span></code></p>
</div>
</li>
<li><strong>ssl_context</strong> (<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><em>ssl.SSLContext</em></a>) – <p>ssl context used for processing
<em>HTTPS</em> requests (optional).</p>
<p><em>ssl_context</em> may be used for configuring certification
authority channel, supported SSL options etc.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.0: </span>Use <code class="docutils literal notranslate"><span class="pre">ssl=ssl_context</span></code></p>
</div>
</li>
<li><strong>proxy_headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <p>HTTP headers to send to the proxy if the
parameter proxy has been provided.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <dl class="docutils">
<dt>Enable Per-Message Compress Extension support.</dt>
<dd>0 for disable, 9 to 15 for window bit support.
Default value is 0.</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</li>
<li><strong>max_msg_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <dl class="docutils">
<dt>maximum size of read websocket message,</dt>
<dd>4 MB by default. To disable the size
limit use <code class="docutils literal notranslate"><span class="pre">0</span></code>.</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.close"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.close"></a>
<em class="property">coroutine </em><code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close underlying connector.</p>
<p>Release all acquired resources.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientSession.detach"><a name="//apple_ref/cpp/Method/aiohttp.ClientSession.detach"></a>
<code class="descname">detach</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientSession.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach connector from session without closing the former.</p>
<p>Session is switched to closed state anyway.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="basic-api">
<h2>Basic API<a class="headerlink" href="#basic-api" title="Permalink to this headline">¶</a></h2>
<p>While we encourage <a class="reference internal" href="#aiohttp.ClientSession" title="aiohttp.ClientSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientSession</span></code></a> usage we also provide simple
coroutines for making HTTP requests.</p>
<p>Basic API is good for performing simple HTTP requests without
keepaliving, cookies and complex connection stuff like properly configured SSL
certification chaining.</p>
<dl class="function">
<dt id="aiohttp.request"><a name="//apple_ref/cpp/Function/aiohttp.request"></a>
<em class="property">coroutine </em><code class="descclassname">aiohttp.</code><code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>*</em>, <em>params=None</em>, <em>data=None</em>, <em>json=None</em>, <em>headers=None</em>, <em>cookies=None</em>, <em>auth=None</em>, <em>allow_redirects=True</em>, <em>max_redirects=10</em>, <em>encoding='utf-8'</em>, <em>version=HttpVersion(major=1</em>, <em>minor=1)</em>, <em>compress=None</em>, <em>chunked=None</em>, <em>expect100=False</em>, <em>raise_for_status=None</em>, <em>connector=None</em>, <em>loop=None</em>, <em>read_until_eof=True</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.request" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Async-with:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p>Asynchronous context manager for performing an asynchronous HTTP
request. Returns a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientResponse</span></code></a> response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – HTTP method</li>
<li><strong>url</strong> – Requested URL, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></li>
<li><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Parameters to be sent in the query
string of the new request (optional)</li>
<li><strong>data</strong> – Dictionary, bytes, or file-like object to
send in the body of the request (optional)</li>
<li><strong>json</strong> – Any json compatible python object (optional). <em>json</em> and <em>data</em>
parameters could not be used at the same time.</li>
<li><strong>headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – HTTP Headers to send with the request (optional)</li>
<li><strong>cookies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Cookies to send with the request (optional)</li>
<li><strong>auth</strong> (<a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><em>aiohttp.BasicAuth</em></a>) – an object that represents HTTP Basic
Authorization (optional)</li>
<li><strong>allow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, do not follow redirects.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
<li><strong>version</strong> (<em>aiohttp.protocol.HttpVersion</em>) – Request HTTP version (optional)</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if request has to be compressed
with deflate encoding.
<code class="docutils literal notranslate"><span class="pre">False</span></code> instructs aiohttp to not compress data.
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</li>
<li><strong>chunked</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Enables chunked transfer encoding.
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</li>
<li><strong>expect100</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Expect 100-continue response from server.
<code class="docutils literal notranslate"><span class="pre">False</span></code> by default (optional).</li>
<li><strong>raise_for_status</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <dl class="docutils">
<dt>Automatically call</dt>
<dd><a class="reference internal" href="#aiohttp.ClientResponse.raise_for_status" title="aiohttp.ClientResponse.raise_for_status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientResponse.raise_for_status()</span></code></a>
for response if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  If
set to <code class="docutils literal notranslate"><span class="pre">None</span></code> value from
<code class="docutils literal notranslate"><span class="pre">ClientSession</span></code> will be used.
<code class="docutils literal notranslate"><span class="pre">None</span></code> by default (optional).</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</li>
<li><strong>connector</strong> (<em>aiohttp.connector.BaseConnector</em>) – BaseConnector sub-class
instance to support connection pooling.</li>
<li><strong>read_until_eof</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Read response until EOF if response
does not have Content-Length header.
<code class="docutils literal notranslate"><span class="pre">True</span></code> by default (optional).</li>
<li><strong>loop</strong> – <dl class="docutils">
<dt><a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.7)"><span class="xref std std-ref">event loop</span></a></dt>
<dd>used for processing HTTP requests.
If param is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_event_loop" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code></a>
is used for getting default event loop.</dd>
</dl>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.</span></p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return ClientResponse:</th></tr>
<tr class="field-even field"><td> </td><td class="field-body"><p class="first last">a <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">client</span> <span class="pre">response</span></code></a> object.</p>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aiohttp</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">fetch</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span>
            <span class="s1">'http://python.org/'</span><span class="p">)</span> <span class="k">as</span> <span class="n">resp</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">resp</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="nb">print</span><span class="p">(</span><span class="k">await</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>
</div>
<div class="section" id="connectors">
<span id="aiohttp-client-reference-connectors"></span><h2>Connectors<a class="headerlink" href="#connectors" title="Permalink to this headline">¶</a></h2>
<p>Connectors are transports for aiohttp client API.</p>
<p>There are standard connectors:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#aiohttp.TCPConnector" title="aiohttp.TCPConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCPConnector</span></code></a> for regular <em>TCP sockets</em> (both <em>HTTP</em> and
<em>HTTPS</em> schemes supported).</li>
<li><a class="reference internal" href="#aiohttp.UnixConnector" title="aiohttp.UnixConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnixConnector</span></code></a> for connecting via UNIX socket (it’s used mostly for
testing purposes).</li>
</ol>
<p>All connector classes should be derived from <a class="reference internal" href="#aiohttp.BaseConnector" title="aiohttp.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a>.</p>
<p>By default all <em>connectors</em> support <em>keep-alive connections</em> (behavior
is controlled by <em>force_close</em> constructor’s parameter).</p>
<div class="section" id="baseconnector">
<h3>BaseConnector<a class="headerlink" href="#baseconnector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.BaseConnector"><a name="//apple_ref/cpp/Class/aiohttp.BaseConnector"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">BaseConnector</code><span class="sig-paren">(</span><em>*</em>, <em>keepalive_timeout=15</em>, <em>force_close=False</em>, <em>limit=100</em>, <em>limit_per_host=0</em>, <em>enable_cleanup_closed=False</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BaseConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all connectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>keepalive_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – timeout for connection reusing
after releasing (optional). Values
<code class="docutils literal notranslate"><span class="pre">0</span></code>. For disabling <em>keep-alive</em>
feature use <code class="docutils literal notranslate"><span class="pre">force_close=True</span></code>
flag.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – total number simultaneous connections. If <em>limit</em> is
<code class="docutils literal notranslate"><span class="pre">None</span></code> the connector has no limit (default: 100).</li>
<li><strong>limit_per_host</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – limit simultaneous connections to the same
endpoint.  Endpoints are the same if they are
have equal <code class="docutils literal notranslate"><span class="pre">(host,</span> <span class="pre">port,</span> <span class="pre">is_ssl)</span></code> triple.
If <em>limit</em> is <code class="docutils literal notranslate"><span class="pre">0</span></code> the connector has no limit (default: 0).</li>
<li><strong>force_close</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – close underlying sockets after
connection releasing (optional).</li>
<li><strong>enable_cleanup_closed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – some SSL servers do not properly complete
SSL shutdown process, in that case asyncio leaks ssl connections.
If this parameter is set to True, aiohttp additionally aborts underlining
transport after 2 seconds. It is off by default.</li>
<li><strong>loop</strong> – <p><a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.7)"><span class="xref std std-ref">event loop</span></a>
used for handling connections.
If param is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_event_loop" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop()</span></code></a>
is used for getting default event loop.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.</span></p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aiohttp.BaseConnector.closed"><a name="//apple_ref/cpp/Attribute/aiohttp.BaseConnector.closed"></a>
<code class="descname">closed</code><a class="headerlink" href="#aiohttp.BaseConnector.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property, <code class="docutils literal notranslate"><span class="pre">True</span></code> if connector is closed.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.BaseConnector.force_close"><a name="//apple_ref/cpp/Attribute/aiohttp.BaseConnector.force_close"></a>
<code class="descname">force_close</code><a class="headerlink" href="#aiohttp.BaseConnector.force_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property, <code class="docutils literal notranslate"><span class="pre">True</span></code> if connector should ultimately
close connections on releasing.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.BaseConnector.limit"><a name="//apple_ref/cpp/Attribute/aiohttp.BaseConnector.limit"></a>
<code class="descname">limit</code><a class="headerlink" href="#aiohttp.BaseConnector.limit" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number for simultaneous connections.
If limit is 0 the connector has no limit. The default limit size is 100.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.BaseConnector.limit_per_host"><a name="//apple_ref/cpp/Attribute/aiohttp.BaseConnector.limit_per_host"></a>
<code class="descname">limit_per_host</code><a class="headerlink" href="#aiohttp.BaseConnector.limit_per_host" title="Permalink to this definition">¶</a></dt>
<dd><p>The limit for simultaneous connections to the same
endpoint.</p>
<p>Endpoints are the same if they are have equal <code class="docutils literal notranslate"><span class="pre">(host,</span> <span class="pre">port,</span>
<span class="pre">is_ssl)</span></code> triple.</p>
<p>If <em>limit_per_host</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> the connector has no limit per host.</p>
<p>Read-only property.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.BaseConnector.close"><a name="//apple_ref/cpp/Method/aiohttp.BaseConnector.close"></a>
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BaseConnector.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all opened connections.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.BaseConnector.connect"><a name="//apple_ref/cpp/Method/aiohttp.BaseConnector.connect"></a>
<em class="property">coroutine </em><code class="descname">connect</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BaseConnector.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a free connection from pool or create new one if connection
is absent in the pool.</p>
<p>The call may be paused if <a class="reference internal" href="#aiohttp.BaseConnector.limit" title="aiohttp.BaseConnector.limit"><code class="xref py py-attr docutils literal notranslate"><span class="pre">limit</span></code></a> is exhausted until used
connections returns to pool.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>aiohttp.ClientRequest</em>) – request object
which is connection
initiator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#aiohttp.Connection" title="aiohttp.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> object.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.BaseConnector._create_connection"><a name="//apple_ref/cpp/Method/aiohttp.BaseConnector._create_connection"></a>
<em class="property">coroutine </em><code class="descname">_create_connection</code><span class="sig-paren">(</span><em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BaseConnector._create_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method for actual connection establishing, should be
overridden in subclasses.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="tcpconnector">
<h3>TCPConnector<a class="headerlink" href="#tcpconnector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.TCPConnector"><a name="//apple_ref/cpp/Class/aiohttp.TCPConnector"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">TCPConnector</code><span class="sig-paren">(</span><em>*</em>, <em>ssl=None</em>, <em>verify_ssl=True</em>, <em>fingerprint=None</em>, <em>use_dns_cache=True</em>, <em>ttl_dns_cache=10</em>, <em>family=0</em>, <em>ssl_context=None</em>, <em>local_addr=None</em>, <em>resolver=None</em>, <em>keepalive_timeout=sentinel</em>, <em>force_close=False</em>, <em>limit=100</em>, <em>limit_per_host=0</em>, <em>enable_cleanup_closed=False</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.TCPConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Connector for working with <em>HTTP</em> and <em>HTTPS</em> via <em>TCP</em> sockets.</p>
<p>The most common transport. When you don’t know what connector type
to use, use a <a class="reference internal" href="#aiohttp.TCPConnector" title="aiohttp.TCPConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCPConnector</span></code></a> instance.</p>
<p><a class="reference internal" href="#aiohttp.TCPConnector" title="aiohttp.TCPConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCPConnector</span></code></a> inherits from <a class="reference internal" href="#aiohttp.BaseConnector" title="aiohttp.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a>.</p>
<p>Constructor accepts all parameters suitable for
<a class="reference internal" href="#aiohttp.BaseConnector" title="aiohttp.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a> plus several TCP-specific ones:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param ssl:</th><td class="field-body"><dl class="first docutils">
<dt>SSL validation mode. <code class="docutils literal notranslate"><span class="pre">None</span></code> for default SSL check</dt>
<dd><p class="first">(<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.create_default_context" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.create_default_context()</span></code></a> is used),
<code class="docutils literal notranslate"><span class="pre">False</span></code> for skip SSL certificate validation,
<a class="reference internal" href="#aiohttp.Fingerprint" title="aiohttp.Fingerprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.Fingerprint</span></code></a> for fingerprint
validation, <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> for custom SSL
certificate validation.</p>
<p class="last">Supersedes <em>verify_ssl</em>, <em>ssl_context</em> and
<em>fingerprint</em> parameters.</p>
</dd>
</dl>
<div class="last versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>verify_ssl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>perform SSL certificate validation for
<em>HTTPS</em> requests (enabled by default). May be disabled to
skip validation for sites with invalid certificates.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.3: </span>Pass <em>verify_ssl</em> to <code class="docutils literal notranslate"><span class="pre">ClientSession.get()</span></code> etc.</p>
</div>
</li>
<li><strong>fingerprint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – <p>pass the SHA256 digest of the expected
certificate in DER format to verify that the certificate the
server presents matches. Useful for <a class="reference external" href="https://en.wikipedia.org/wiki/Transport_Layer_Security#Certificate_pinning">certificate pinning</a>.</p>
<p>Note: use of MD5 or SHA1 digests is insecure and deprecated.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.3: </span>Pass <em>verify_ssl</em> to <code class="docutils literal notranslate"><span class="pre">ClientSession.get()</span></code> etc.</p>
</div>
</li>
<li><strong>use_dns_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>use internal cache for DNS lookups, <code class="docutils literal notranslate"><span class="pre">True</span></code>
by default.</p>
<p>Enabling an option <em>may</em> speedup connection
establishing a bit but may introduce some
<em>side effects</em> also.</p>
</li>
<li><strong>ttl_dns_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <p>expire after some seconds the DNS entries, <code class="docutils literal notranslate"><span class="pre">None</span></code>
means cached forever. By default 10 seconds.</p>
<p>By default DNS entries are cached forever, in some environments the IP
addresses related to a specific HOST can change after a specific time. Use
this option to keep the DNS cache updated refreshing each entry after N
seconds.</p>
</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – total number simultaneous connections. If <em>limit</em> is
<code class="docutils literal notranslate"><span class="pre">None</span></code> the connector has no limit (default: 100).</li>
<li><strong>limit_per_host</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – limit simultaneous connections to the same
endpoint.  Endpoints are the same if they are
have equal <code class="docutils literal notranslate"><span class="pre">(host,</span> <span class="pre">port,</span> <span class="pre">is_ssl)</span></code> triple.
If <em>limit</em> is <code class="docutils literal notranslate"><span class="pre">0</span></code> the connector has no limit (default: 0).</li>
<li><strong>resolver</strong> (<em>aiohttp.abc.AbstractResolver</em>) – <p>custom resolver
instance to use.  <code class="docutils literal notranslate"><span class="pre">aiohttp.DefaultResolver</span></code> by
default (asynchronous if <code class="docutils literal notranslate"><span class="pre">aiodns&gt;=1.1</span></code> is installed).</p>
<p>Custom resolvers allow to resolve hostnames differently than the
way the host is configured.</p>
<p>The resolver is <code class="docutils literal notranslate"><span class="pre">aiohttp.ThreadedResolver</span></code> by default,
asynchronous version is pretty robust but might fail in
very rare cases.</p>
</li>
<li><strong>family</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <p>TCP socket family, both IPv4 and IPv6 by default.
For <em>IPv4</em> only use <code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET</span></code>,
for  <em>IPv6</em> only – <code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET6</span></code>.</p>
<p><em>family</em> is <code class="docutils literal notranslate"><span class="pre">0</span></code> by default, that means both
IPv4 and IPv6 are accepted. To specify only
concrete version please pass
<code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET</span></code> or
<code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET6</span></code> explicitly.</p>
</li>
<li><strong>ssl_context</strong> (<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.7)"><em>ssl.SSLContext</em></a>) – <p>SSL context used for processing
<em>HTTPS</em> requests (optional).</p>
<p><em>ssl_context</em> may be used for configuring certification
authority channel, supported SSL options etc.</p>
</li>
<li><strong>local_addr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – tuple of <code class="docutils literal notranslate"><span class="pre">(local_host,</span> <span class="pre">local_port)</span></code> used to bind
socket locally if specified.</li>
<li><strong>force_close</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – close underlying sockets after
connection releasing (optional).</li>
<li><strong>enable_cleanup_closed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Some ssl servers do not properly complete
SSL shutdown process, in that case asyncio leaks SSL connections.
If this parameter is set to True, aiohttp additionally aborts underlining
transport after 2 seconds. It is off by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aiohttp.TCPConnector.family"><a name="//apple_ref/cpp/Attribute/aiohttp.TCPConnector.family"></a>
<code class="descname">family</code><a class="headerlink" href="#aiohttp.TCPConnector.family" title="Permalink to this definition">¶</a></dt>
<dd><p><em>TCP</em> socket family e.g. <code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET</span></code> or
<code class="xref py py-const docutils literal notranslate"><span class="pre">socket.AF_INET6</span></code></p>
<p>Read-only property.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.TCPConnector.dns_cache"><a name="//apple_ref/cpp/Attribute/aiohttp.TCPConnector.dns_cache"></a>
<code class="descname">dns_cache</code><a class="headerlink" href="#aiohttp.TCPConnector.dns_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Use quick lookup in internal <em>DNS</em> cache for host names if <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Read-only <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> property.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.TCPConnector.cached_hosts"><a name="//apple_ref/cpp/Attribute/aiohttp.TCPConnector.cached_hosts"></a>
<code class="descname">cached_hosts</code><a class="headerlink" href="#aiohttp.TCPConnector.cached_hosts" title="Permalink to this definition">¶</a></dt>
<dd><p>The cache of resolved hosts if <a class="reference internal" href="#aiohttp.TCPConnector.dns_cache" title="aiohttp.TCPConnector.dns_cache"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dns_cache</span></code></a> is enabled.</p>
<p>Read-only <a class="reference external" href="https://docs.python.org/3/library/types.html#types.MappingProxyType" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.MappingProxyType</span></code></a> property.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.TCPConnector.clear_dns_cache"><a name="//apple_ref/cpp/Method/aiohttp.TCPConnector.clear_dns_cache"></a>
<code class="descname">clear_dns_cache</code><span class="sig-paren">(</span><em>self</em>, <em>host=None</em>, <em>port=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.TCPConnector.clear_dns_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear internal <em>DNS</em> cache.</p>
<p>Remove specific entry if both <em>host</em> and <em>port</em> are specified,
clear all cache otherwise.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="unixconnector">
<h3>UnixConnector<a class="headerlink" href="#unixconnector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.UnixConnector"><a name="//apple_ref/cpp/Class/aiohttp.UnixConnector"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">UnixConnector</code><span class="sig-paren">(</span><em>path</em>, <em>*</em>, <em>conn_timeout=None</em>, <em>keepalive_timeout=30</em>, <em>limit=100</em>, <em>force_close=False</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.UnixConnector" title="Permalink to this definition">¶</a></dt>
<dd><p>Unix socket connector.</p>
<p>Use <a class="reference internal" href="#aiohttp.UnixConnector" title="aiohttp.UnixConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnixConnector</span></code></a> for sending <em>HTTP/HTTPS</em> requests
through <em>UNIX Sockets</em> as underlying transport.</p>
<p>UNIX sockets are handy for writing tests and making very fast
connections between processes on the same host.</p>
<p><a class="reference internal" href="#aiohttp.UnixConnector" title="aiohttp.UnixConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnixConnector</span></code></a> is inherited from <a class="reference internal" href="#aiohttp.BaseConnector" title="aiohttp.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a>.</p>
<blockquote>
<div><p>Usage:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">UnixConnector</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">'/path/to/socket'</span><span class="p">)</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">ClientSession</span><span class="p">(</span><span class="n">connector</span><span class="o">=</span><span class="n">conn</span><span class="p">)</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://python.org'</span><span class="p">)</span> <span class="k">as</span> <span class="n">resp</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<p>Constructor accepts all parameters suitable for
<a class="reference internal" href="#aiohttp.BaseConnector" title="aiohttp.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a> plus UNIX-specific one:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Unix socket path</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="aiohttp.UnixConnector.path"><a name="//apple_ref/cpp/Attribute/aiohttp.UnixConnector.path"></a>
<code class="descname">path</code><a class="headerlink" href="#aiohttp.UnixConnector.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to <em>UNIX socket</em>, read-only <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> property.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="connection">
<h3>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.Connection"><a name="//apple_ref/cpp/Class/aiohttp.Connection"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">Connection</code><a class="headerlink" href="#aiohttp.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates single connection in connector object.</p>
<p>End user should never create <a class="reference internal" href="#aiohttp.Connection" title="aiohttp.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> instances manually
but get it by <a class="reference internal" href="#aiohttp.BaseConnector.connect" title="aiohttp.BaseConnector.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseConnector.connect()</span></code></a> coroutine.</p>
<dl class="attribute">
<dt id="aiohttp.Connection.closed"><a name="//apple_ref/cpp/Attribute/aiohttp.Connection.closed"></a>
<code class="descname">closed</code><a class="headerlink" href="#aiohttp.Connection.closed" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> read-only property, <code class="docutils literal notranslate"><span class="pre">True</span></code> if connection was
closed, released or detached.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.Connection.loop"><a name="//apple_ref/cpp/Attribute/aiohttp.Connection.loop"></a>
<code class="descname">loop</code><a class="headerlink" href="#aiohttp.Connection.loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Event loop used for connection</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.Connection.transport"><a name="//apple_ref/cpp/Attribute/aiohttp.Connection.transport"></a>
<code class="descname">transport</code><a class="headerlink" href="#aiohttp.Connection.transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Connection transport</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.Connection.close"><a name="//apple_ref/cpp/Method/aiohttp.Connection.close"></a>
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.Connection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connection with forcibly closing underlying socket.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.Connection.release"><a name="//apple_ref/cpp/Method/aiohttp.Connection.release"></a>
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.Connection.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release connection back to connector.</p>
<p>Underlying socket is not closed, the connection may be reused
later if timeout (30 seconds by default) for connection was not
expired.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.Connection.detach"><a name="//apple_ref/cpp/Method/aiohttp.Connection.detach"></a>
<code class="descname">detach</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.Connection.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach underlying socket from connection.</p>
<p>Underlying socket is not closed, next <a class="reference internal" href="#aiohttp.Connection.close" title="aiohttp.Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> or
<a class="reference internal" href="#aiohttp.Connection.release" title="aiohttp.Connection.release"><code class="xref py py-meth docutils literal notranslate"><span class="pre">release()</span></code></a> calls don’t return socket to free pool.</p>
</dd></dl>
</dd></dl>
</div>
</div>
<div class="section" id="response-object">
<h2>Response object<a class="headerlink" href="#response-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="aiohttp.ClientResponse"><a name="//apple_ref/cpp/Class/aiohttp.ClientResponse"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientResponse</code><a class="headerlink" href="#aiohttp.ClientResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Client response returned be <a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientSession.request()</span></code></a> and family.</p>
<p>User never creates the instance of ClientResponse class but gets it
from API calls.</p>
<p><a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientResponse</span></code></a> supports async context manager protocol, e.g.:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="k">async</span> <span class="k">with</span> <span class="n">resp</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">resp</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">200</span>
</pre></div>
</div>
<p>After exiting from <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> block response object will be
<em>released</em> (see <a class="reference internal" href="#aiohttp.ClientResponse.release" title="aiohttp.ClientResponse.release"><code class="xref py py-meth docutils literal notranslate"><span class="pre">release()</span></code></a> coroutine).</p>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.version"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.version"></a>
<code class="descname">version</code><a class="headerlink" href="#aiohttp.ClientResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Response’s version, <code class="xref py py-class docutils literal notranslate"><span class="pre">HttpVersion</span></code> instance.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.status"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.status"></a>
<code class="descname">status</code><a class="headerlink" href="#aiohttp.ClientResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP status code of response (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>), e.g. <code class="docutils literal notranslate"><span class="pre">200</span></code>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.reason"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.reason"></a>
<code class="descname">reason</code><a class="headerlink" href="#aiohttp.ClientResponse.reason" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP status reason of response (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>), e.g. <code class="docutils literal notranslate"><span class="pre">"OK"</span></code>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.method"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.method"></a>
<code class="descname">method</code><a class="headerlink" href="#aiohttp.ClientResponse.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Request’s method (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.url"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.url"></a>
<code class="descname">url</code><a class="headerlink" href="#aiohttp.ClientResponse.url" title="Permalink to this definition">¶</a></dt>
<dd><p>URL of request (<a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.real_url"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.real_url"></a>
<code class="descname">real_url</code><a class="headerlink" href="#aiohttp.ClientResponse.real_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmodified URL of request (<a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.connection"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.connection"></a>
<code class="descname">connection</code><a class="headerlink" href="#aiohttp.ClientResponse.connection" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#aiohttp.Connection" title="aiohttp.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> used for handling response.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.content"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.content"></a>
<code class="descname">content</code><a class="headerlink" href="#aiohttp.ClientResponse.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Payload stream, which contains response’s BODY (<a class="reference internal" href="streams.html#aiohttp.StreamReader" title="aiohttp.StreamReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamReader</span></code></a>).
It supports various reading methods depending on the expected format.
When chunked transfer encoding is used by the server, allows retrieving
the actual http chunks.</p>
<p>Reading from the stream may raise
<a class="reference internal" href="#aiohttp.ClientPayloadError" title="aiohttp.ClientPayloadError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">aiohttp.ClientPayloadError</span></code></a> if the response object is
closed before response receives all data or in case if any
transfer encoding related errors like misformed chunked
encoding of broken compression data.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.cookies"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.cookies"></a>
<code class="descname">cookies</code><a class="headerlink" href="#aiohttp.ClientResponse.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP cookies of response (<em>Set-Cookie</em> HTTP header,
<a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.SimpleCookie" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleCookie</span></code></a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.headers"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.headers"></a>
<code class="descname">headers</code><a class="headerlink" href="#aiohttp.ClientResponse.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>A case-insensitive multidict proxy with HTTP headers of
response, <a class="reference external" href="https://multidict.readthedocs.io/en/stable/multidict.html#multidict.CIMultiDictProxy" title="(in multidict v4.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CIMultiDictProxy</span></code></a>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.raw_headers"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.raw_headers"></a>
<code class="descname">raw_headers</code><a class="headerlink" href="#aiohttp.ClientResponse.raw_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmodified HTTP headers of response as unconverted bytes, a sequence of
<code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> pairs.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.links"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.links"></a>
<code class="descname">links</code><a class="headerlink" href="#aiohttp.ClientResponse.links" title="Permalink to this definition">¶</a></dt>
<dd><p>Link HTTP header parsed into a <a class="reference external" href="https://multidict.readthedocs.io/en/stable/multidict.html#multidict.MultiDictProxy" title="(in multidict v4.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDictProxy</span></code></a>.</p>
<p>For each link, key is link param <cite>rel</cite> when it exists, or link url as
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> otherwise, and value is <a class="reference external" href="https://multidict.readthedocs.io/en/stable/multidict.html#multidict.MultiDictProxy" title="(in multidict v4.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDictProxy</span></code></a>
of link params and url at key <cite>url</cite> as <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> instance.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.content_type"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.content_type"></a>
<code class="descname">content_type</code><a class="headerlink" href="#aiohttp.ClientResponse.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property with <em>content</em> part of <em>Content-Type</em> header.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Returns value is <code class="docutils literal notranslate"><span class="pre">'application/octet-stream'</span></code> if no
Content-Type header present in HTTP headers according to
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a>. To make sure Content-Type header is not present in
the server reply, use <a class="reference internal" href="#aiohttp.ClientResponse.headers" title="aiohttp.ClientResponse.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">headers</span></code></a> or <a class="reference internal" href="#aiohttp.ClientResponse.raw_headers" title="aiohttp.ClientResponse.raw_headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">raw_headers</span></code></a>, e.g.
<code class="docutils literal notranslate"><span class="pre">'CONTENT-TYPE'</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">resp.headers</span></code>.</p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.charset"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.charset"></a>
<code class="descname">charset</code><a class="headerlink" href="#aiohttp.ClientResponse.charset" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property that specifies the <em>encoding</em> for the request’s BODY.</p>
<p>The value is parsed from the <em>Content-Type</em> HTTP header.</p>
<p>Returns <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> like <code class="docutils literal notranslate"><span class="pre">'utf-8'</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no <em>Content-Type</em>
header present in HTTP headers or it has no charset information.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.content_disposition"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.content_disposition"></a>
<code class="descname">content_disposition</code><a class="headerlink" href="#aiohttp.ClientResponse.content_disposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property that specified the <em>Content-Disposition</em> HTTP header.</p>
<p>Instance of <a class="reference internal" href="#aiohttp.ContentDisposition" title="aiohttp.ContentDisposition"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContentDisposition</span></code></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no <em>Content-Disposition</em>
header present in HTTP headers.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.history"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.history"></a>
<code class="descname">history</code><a class="headerlink" href="#aiohttp.ClientResponse.history" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a> of <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientResponse</span></code></a>
objects of preceding requests (earliest request first) if there were
redirects, an empty sequence otherwise.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.close"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.close"></a>
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close response and underlying connection.</p>
<p>For <a class="reference internal" href="glossary.html#term-keep-alive"><span class="xref std std-term">keep-alive</span></a> support see <a class="reference internal" href="#aiohttp.ClientResponse.release" title="aiohttp.ClientResponse.release"><code class="xref py py-meth docutils literal notranslate"><span class="pre">release()</span></code></a>.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.read"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.read"></a>
<em class="property">coroutine </em><code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the whole response’s body as <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</p>
<p>Close underlying connection if data reading gets an error,
release connection otherwise.</p>
<p>Raise an <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">aiohttp.ClientResponseError</span></code></a> if the data can’t
be read.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return bytes:</th><td class="field-body">read <em>BODY</em>.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#aiohttp.ClientResponse.close" title="aiohttp.ClientResponse.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a>, <a class="reference internal" href="#aiohttp.ClientResponse.release" title="aiohttp.ClientResponse.release"><code class="xref py py-meth docutils literal notranslate"><span class="pre">release()</span></code></a>.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.release"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.release"></a>
<em class="property">coroutine </em><code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.release" title="Permalink to this definition">¶</a></dt>
<dd><p>It is not required to call <cite>release</cite> on the response
object. When the client fully receives the payload, the
underlying connection automatically returns back to pool. If the
payload is not fully read, the connection is closed</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.raise_for_status"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.raise_for_status"></a>
<code class="descname">raise_for_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.raise_for_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">aiohttp.ClientResponseError</span></code></a> if the response
status is 400 or higher.</p>
<p>Do nothing for success responses (less than 400).</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.text"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.text"></a>
<em class="property">coroutine </em><code class="descname">text</code><span class="sig-paren">(</span><em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response’s body and return decoded <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> using
specified <em>encoding</em> parameter.</p>
<p>If <em>encoding</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> content encoding is autocalculated
using <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> HTTP header and <em>chardet</em> tool if the
header is not provided by server.</p>
<p><a class="reference internal" href="glossary.html#term-cchardet"><span class="xref std std-term">cchardet</span></a> is used with fallback to <a class="reference internal" href="glossary.html#term-chardet"><span class="xref std std-term">chardet</span></a> if
<em>cchardet</em> is not available.</p>
<p>Close underlying connection if data reading gets an error,
release connection otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – text encoding used for <em>BODY</em> decoding, or
<code class="docutils literal notranslate"><span class="pre">None</span></code> for encoding autodetection
(default).</td>
</tr>
<tr class="field-even field"><th class="field-name">Return str:</th><td class="field-body">decoded <em>BODY</em></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#LookupError" title="(in Python v3.7)"><strong>LookupError</strong></a> – if the encoding detected by chardet or cchardet is
unknown by Python (e.g. VISCII).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If response has no <code class="docutils literal notranslate"><span class="pre">charset</span></code> info in <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> HTTP
header <a class="reference internal" href="glossary.html#term-cchardet"><span class="xref std std-term">cchardet</span></a> / <a class="reference internal" href="glossary.html#term-chardet"><span class="xref std std-term">chardet</span></a> is used for content
encoding autodetection.</p>
<p>It may hurt performance. If page encoding is known passing
explicit <em>encoding</em> parameter might help:</p>
<div class="last highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">resp</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">'ISO-8859-1'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.json"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.json"></a>
<em class="property">coroutine </em><code class="descname">json</code><span class="sig-paren">(</span><em>*</em>, <em>encoding=None</em>, <em>loads=json.loads</em>, <em>content_type='application/json'</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read response’s body as <em>JSON</em>, return <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> using
specified <em>encoding</em> and <em>loader</em>. If data is not still available
a <code class="docutils literal notranslate"><span class="pre">read</span></code> call will be done,</p>
<p>If <em>encoding</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> content encoding is autocalculated
using <a class="reference internal" href="glossary.html#term-cchardet"><span class="xref std std-term">cchardet</span></a> or <a class="reference internal" href="glossary.html#term-chardet"><span class="xref std std-term">chardet</span></a> as fallback if
<em>cchardet</em> is not available.</p>
<p>if response’s <cite>content-type</cite> does not match <cite>content_type</cite> parameter
<a class="reference internal" href="#aiohttp.ContentTypeError" title="aiohttp.ContentTypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">aiohttp.ContentTypeError</span></code></a> get raised.
To disable content type check pass <code class="docutils literal notranslate"><span class="pre">None</span></code> value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>text encoding used for <em>BODY</em> decoding, or
<code class="docutils literal notranslate"><span class="pre">None</span></code> for encoding autodetection
(default).</p>
<p>By the standard JSON encoding should be
<code class="docutils literal notranslate"><span class="pre">UTF-8</span></code> but practice beats purity: some
servers return non-UTF
responses. Autodetection works pretty fine
anyway.</p>
</li>
<li><strong>loads</strong> (<em>callable</em>) – <a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">callable()</span></code></a> used for loading <em>JSON</em>
data, <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a> by default.</li>
<li><strong>content_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – specify response’s content-type, if content type
does not match raise <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">aiohttp.ClientResponseError</span></code></a>.
To disable <cite>content-type</cite> check, pass <code class="docutils literal notranslate"><span class="pre">None</span></code> as value.
(default: <cite>application/json</cite>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>BODY</em> as <em>JSON</em> data parsed by <em>loads</em> parameter or
<code class="docutils literal notranslate"><span class="pre">None</span></code> if <em>BODY</em> is empty or contains white-spaces only.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponse.request_info"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponse.request_info"></a>
<code class="descname">request_info</code><a class="headerlink" href="#aiohttp.ClientResponse.request_info" title="Permalink to this definition">¶</a></dt>
<dd><p>A namedtuple with request URL and headers from <code class="xref py py-class docutils literal notranslate"><span class="pre">ClientRequest</span></code>
object, <a class="reference internal" href="#aiohttp.RequestInfo" title="aiohttp.RequestInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.RequestInfo</span></code></a> instance.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientResponse.get_encoding"><a name="//apple_ref/cpp/Method/aiohttp.ClientResponse.get_encoding"></a>
<code class="descname">get_encoding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientResponse.get_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically detect content encoding using <code class="docutils literal notranslate"><span class="pre">charset</span></code> info in
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> HTTP header. If this info is not exists or there
are no appropriate codecs for encoding then <a class="reference internal" href="glossary.html#term-cchardet"><span class="xref std std-term">cchardet</span></a> /
<a class="reference internal" href="glossary.html#term-chardet"><span class="xref std std-term">chardet</span></a> is used.</p>
<p>Beware that it is not always safe to use the result of this function to
decode a response. Some encodings detected by cchardet are not known by
Python (e.g. VISCII).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="clientwebsocketresponse">
<h2>ClientWebSocketResponse<a class="headerlink" href="#clientwebsocketresponse" title="Permalink to this headline">¶</a></h2>
<p>To connect to a websocket server <code class="xref py py-func docutils literal notranslate"><span class="pre">aiohttp.ws_connect()</span></code> or
<a class="reference internal" href="#aiohttp.ClientSession.ws_connect" title="aiohttp.ClientSession.ws_connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">aiohttp.ClientSession.ws_connect()</span></code></a> coroutines should be used, do
not create an instance of class <a class="reference internal" href="#aiohttp.ClientWebSocketResponse" title="aiohttp.ClientWebSocketResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientWebSocketResponse</span></code></a>
manually.</p>
<dl class="class">
<dt id="aiohttp.ClientWebSocketResponse"><a name="//apple_ref/cpp/Class/aiohttp.ClientWebSocketResponse"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientWebSocketResponse</code><a class="headerlink" href="#aiohttp.ClientWebSocketResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for handling client-side websockets.</p>
<dl class="attribute">
<dt id="aiohttp.ClientWebSocketResponse.closed"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientWebSocketResponse.closed"></a>
<code class="descname">closed</code><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property, <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#aiohttp.ClientWebSocketResponse.close" title="aiohttp.ClientWebSocketResponse.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> has been called or
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.CLOSE" title="aiohttp.WSMsgType.CLOSE"><code class="xref py py-const docutils literal notranslate"><span class="pre">CLOSE</span></code></a> message has been received from peer.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientWebSocketResponse.protocol"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientWebSocketResponse.protocol"></a>
<code class="descname">protocol</code><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Websocket <em>subprotocol</em> chosen after <code class="xref py py-meth docutils literal notranslate"><span class="pre">start()</span></code> call.</p>
<p>May be <code class="docutils literal notranslate"><span class="pre">None</span></code> if server and client protocols are
not overlapping.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.get_extra_info"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.get_extra_info"></a>
<code class="descname">get_extra_info</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.get_extra_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads extra info from connection’s transport</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.exception"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.exception"></a>
<code class="descname">exception</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns exception if any occurs or returns None.</p>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.ping"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.ping"></a>
<em class="property">coroutine </em><code class="descname">ping</code><span class="sig-paren">(</span><em>message=b''</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.PING" title="aiohttp.WSMsgType.PING"><code class="xref py py-const docutils literal notranslate"><span class="pre">PING</span></code></a> to peer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – optional payload of <em>ping</em> message,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> (converted to <em>UTF-8</em> encoded bytes)
or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>The method is converted into <a class="reference external" href="https://docs.python.org/3/glossary.html#term-coroutine" title="(in Python v3.7)"><span class="xref std std-term">coroutine</span></a></p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.pong"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.pong"></a>
<em class="property">coroutine </em><code class="descname">pong</code><span class="sig-paren">(</span><em>message=b''</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.pong" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.PONG" title="aiohttp.WSMsgType.PONG"><code class="xref py py-const docutils literal notranslate"><span class="pre">PONG</span></code></a> to peer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – optional payload of <em>pong</em> message,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> (converted to <em>UTF-8</em> encoded bytes)
or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>The method is converted into <a class="reference external" href="https://docs.python.org/3/glossary.html#term-coroutine" title="(in Python v3.7)"><span class="xref std std-term">coroutine</span></a></p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.send_str"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.send_str"></a>
<em class="property">coroutine </em><code class="descname">send_str</code><span class="sig-paren">(</span><em>data</em>, <em>compress=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.send_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <em>data</em> to peer as <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.TEXT" title="aiohttp.WSMsgType.TEXT"><code class="xref py py-const docutils literal notranslate"><span class="pre">TEXT</span></code></a> message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – data to send.</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sets specific level of compression for
single message,
<code class="docutils literal notranslate"><span class="pre">None</span></code> for not overriding per-socket setting.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if data is not <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>The method is converted into <a class="reference external" href="https://docs.python.org/3/glossary.html#term-coroutine" title="(in Python v3.7)"><span class="xref std std-term">coroutine</span></a>,
<em>compress</em> parameter added.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.send_bytes"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.send_bytes"></a>
<em class="property">coroutine </em><code class="descname">send_bytes</code><span class="sig-paren">(</span><em>data</em>, <em>compress=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.send_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <em>data</em> to peer as <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.BINARY" title="aiohttp.WSMsgType.BINARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">BINARY</span></code></a> message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – data to send.</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sets specific level of compression for
single message,
<code class="docutils literal notranslate"><span class="pre">None</span></code> for not overriding per-socket setting.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if data is not <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#memoryview" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a>.</p>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>The method is converted into <a class="reference external" href="https://docs.python.org/3/glossary.html#term-coroutine" title="(in Python v3.7)"><span class="xref std std-term">coroutine</span></a>,
<em>compress</em> parameter added.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.send_json"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.send_json"></a>
<em class="property">coroutine </em><code class="descname">send_json</code><span class="sig-paren">(</span><em>data</em>, <em>compress=None</em>, <em>*</em>, <em>dumps=json.dumps</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.send_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Send <em>data</em> to peer as JSON string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – data to send.</li>
<li><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sets specific level of compression for
single message,
<code class="docutils literal notranslate"><span class="pre">None</span></code> for not overriding per-socket setting.</li>
<li><strong>dumps</strong> (<em>callable</em>) – any <a class="reference internal" href="glossary.html#term-callable"><span class="xref std std-term">callable</span></a> that accepts an object and
returns a JSON string
(<a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a> by default).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><strong>RuntimeError</strong></a> – if connection is not started or closing</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – if data is not serializable object</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if value returned by <code class="docutils literal notranslate"><span class="pre">dumps(data)</span></code> is not
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0: </span>The method is converted into <a class="reference external" href="https://docs.python.org/3/glossary.html#term-coroutine" title="(in Python v3.7)"><span class="xref std std-term">coroutine</span></a>,
<em>compress</em> parameter added.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.close"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.close"></a>
<em class="property">coroutine </em><code class="descname">close</code><span class="sig-paren">(</span><em>*</em>, <em>code=1000</em>, <em>message=b''</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.close" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="(in Python v3.7)"><span class="xref std std-ref">coroutine</span></a> that initiates closing handshake by sending
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.CLOSE" title="aiohttp.WSMsgType.CLOSE"><code class="xref py py-const docutils literal notranslate"><span class="pre">CLOSE</span></code></a> message. It waits for
close response from server. To add a timeout to <cite>close()</cite> call
just wrap the call with <cite>asyncio.wait()</cite> or <cite>asyncio.wait_for()</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – closing code</li>
<li><strong>message</strong> – optional payload of <em>pong</em> message,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> (converted to <em>UTF-8</em> encoded bytes) or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.receive"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.receive"></a>
<em class="property">coroutine </em><code class="descname">receive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="(in Python v3.7)"><span class="xref std std-ref">coroutine</span></a> that waits upcoming <em>data</em>
message from peer and returns it.</p>
<p>The coroutine implicitly handles
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.PING" title="aiohttp.WSMsgType.PING"><code class="xref py py-const docutils literal notranslate"><span class="pre">PING</span></code></a>,
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.PONG" title="aiohttp.WSMsgType.PONG"><code class="xref py py-const docutils literal notranslate"><span class="pre">PONG</span></code></a> and
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.CLOSE" title="aiohttp.WSMsgType.CLOSE"><code class="xref py py-const docutils literal notranslate"><span class="pre">CLOSE</span></code></a> without returning the
message.</p>
<p>It process <em>ping-pong game</em> and performs <em>closing handshake</em> internally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="websocket_utilities.html#aiohttp.WSMessage" title="aiohttp.WSMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">WSMessage</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.receive_str"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.receive_str"></a>
<em class="property">coroutine </em><code class="descname">receive_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.receive_str" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="(in Python v3.7)"><span class="xref std std-ref">coroutine</span></a> that calls <a class="reference internal" href="#aiohttp.ClientWebSocketResponse.receive" title="aiohttp.ClientWebSocketResponse.receive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive()</span></code></a> but
also asserts the message type is
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.TEXT" title="aiohttp.WSMsgType.TEXT"><code class="xref py py-const docutils literal notranslate"><span class="pre">TEXT</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return str:</th><td class="field-body">peer’s message content.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if message is <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.BINARY" title="aiohttp.WSMsgType.BINARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">BINARY</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.receive_bytes"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.receive_bytes"></a>
<em class="property">coroutine </em><code class="descname">receive_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.receive_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="(in Python v3.7)"><span class="xref std std-ref">coroutine</span></a> that calls <a class="reference internal" href="#aiohttp.ClientWebSocketResponse.receive" title="aiohttp.ClientWebSocketResponse.receive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive()</span></code></a> but
also asserts the message type is
<a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.BINARY" title="aiohttp.WSMsgType.BINARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">BINARY</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return bytes:</th><td class="field-body">peer’s message content.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if message is <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.TEXT" title="aiohttp.WSMsgType.TEXT"><code class="xref py py-const docutils literal notranslate"><span class="pre">TEXT</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.ClientWebSocketResponse.receive_json"><a name="//apple_ref/cpp/Method/aiohttp.ClientWebSocketResponse.receive_json"></a>
<em class="property">coroutine </em><code class="descname">receive_json</code><span class="sig-paren">(</span><em>*</em>, <em>loads=json.loads</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientWebSocketResponse.receive_json" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="(in Python v3.7)"><span class="xref std std-ref">coroutine</span></a> that calls <a class="reference internal" href="#aiohttp.ClientWebSocketResponse.receive_str" title="aiohttp.ClientWebSocketResponse.receive_str"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_str()</span></code></a> and loads
the JSON string to a Python dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>loads</strong> (<em>callable</em>) – any <a class="reference internal" href="glossary.html#term-callable"><span class="xref std std-term">callable</span></a> that accepts
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> and returns <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>
with parsed JSON (<a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a> by
default).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body"><p class="first">loaded JSON content</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if message is <a class="reference internal" href="websocket_utilities.html#aiohttp.WSMsgType.BINARY" title="aiohttp.WSMsgType.BINARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">BINARY</span></code></a>.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – if message is not valid JSON.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="clienttimeout">
<h3>ClientTimeout<a class="headerlink" href="#clienttimeout" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.ClientTimeout"><a name="//apple_ref/cpp/Class/aiohttp.ClientTimeout"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientTimeout</code><span class="sig-paren">(</span><em>*</em>, <em>total=None</em>, <em>connect=None</em>, <em>sock_connect</em>, <em>sock_read=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.ClientTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>A data class for client timeout settings.</p>
<p>See <a class="reference internal" href="client_quickstart.html#aiohttp-client-timeouts"><span class="std std-ref">Timeouts</span></a> for usage examples.</p>
<dl class="attribute">
<dt id="aiohttp.ClientTimeout.total"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientTimeout.total"></a>
<code class="descname">total</code><a class="headerlink" href="#aiohttp.ClientTimeout.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Total timeout for the whole request.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code> by default.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientTimeout.connect"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientTimeout.connect"></a>
<code class="descname">connect</code><a class="headerlink" href="#aiohttp.ClientTimeout.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Total timeout for acquiring a connection from pool.  The time
consists connection establishment for a new connection or
waiting for a free connection from a pool if pool connection
limits are exceeded.</p>
<p>For pure socket connection establishment time use
<a class="reference internal" href="#aiohttp.ClientTimeout.sock_connect" title="aiohttp.ClientTimeout.sock_connect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sock_connect</span></code></a>.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code> by default.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientTimeout.sock_connect"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientTimeout.sock_connect"></a>
<code class="descname">sock_connect</code><a class="headerlink" href="#aiohttp.ClientTimeout.sock_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>A timeout for connecting to a peer for a new connection, not
given from a pool.  See also <a class="reference internal" href="#aiohttp.ClientTimeout.connect" title="aiohttp.ClientTimeout.connect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">connect</span></code></a>.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code> by default.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientTimeout.sock_read"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientTimeout.sock_read"></a>
<code class="descname">sock_read</code><a class="headerlink" href="#aiohttp.ClientTimeout.sock_read" title="Permalink to this definition">¶</a></dt>
<dd><p>A timeout for reading a portion of data from a peer.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code> by default.</p>
</dd></dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>
</div>
<div class="section" id="requestinfo">
<h3>RequestInfo<a class="headerlink" href="#requestinfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.RequestInfo"><a name="//apple_ref/cpp/Class/aiohttp.RequestInfo"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">RequestInfo</code><a class="headerlink" href="#aiohttp.RequestInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>A data class with request URL and headers from <code class="xref py py-class docutils literal notranslate"><span class="pre">ClientRequest</span></code>
object, available as <a class="reference internal" href="#aiohttp.ClientResponse.request_info" title="aiohttp.ClientResponse.request_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ClientResponse.request_info</span></code></a> attribute.</p>
<dl class="attribute">
<dt id="aiohttp.RequestInfo.url"><a name="//apple_ref/cpp/Attribute/aiohttp.RequestInfo.url"></a>
<code class="descname">url</code><a class="headerlink" href="#aiohttp.RequestInfo.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Requested <em>url</em>, <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">yarl.URL</span></code></a> instance.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.RequestInfo.method"><a name="//apple_ref/cpp/Attribute/aiohttp.RequestInfo.method"></a>
<code class="descname">method</code><a class="headerlink" href="#aiohttp.RequestInfo.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Request HTTP method like <code class="docutils literal notranslate"><span class="pre">'GET'</span></code> or <code class="docutils literal notranslate"><span class="pre">'POST'</span></code>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.RequestInfo.headers"><a name="//apple_ref/cpp/Attribute/aiohttp.RequestInfo.headers"></a>
<code class="descname">headers</code><a class="headerlink" href="#aiohttp.RequestInfo.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP headers for request, <a class="reference external" href="https://multidict.readthedocs.io/en/stable/multidict.html#multidict.CIMultiDict" title="(in multidict v4.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">multidict.CIMultiDict</span></code></a> instance.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.RequestInfo.real_url"><a name="//apple_ref/cpp/Attribute/aiohttp.RequestInfo.real_url"></a>
<code class="descname">real_url</code><a class="headerlink" href="#aiohttp.RequestInfo.real_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Requested <em>url</em> with URL fragment unstripped, <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">yarl.URL</span></code></a> instance.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="basicauth">
<h3>BasicAuth<a class="headerlink" href="#basicauth" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.BasicAuth"><a name="//apple_ref/cpp/Class/aiohttp.BasicAuth"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">BasicAuth</code><span class="sig-paren">(</span><em>login</em>, <em>password=''</em>, <em>encoding='latin1'</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BasicAuth" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP basic authentication helper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>login</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – login</li>
<li><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – password</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – encoding (<code class="docutils literal notranslate"><span class="pre">'latin1'</span></code> by default)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Should be used for specifying authorization data in client API,
e.g. <em>auth</em> parameter for <a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientSession.request()</span></code></a>.</p>
<dl class="classmethod">
<dt id="aiohttp.BasicAuth.decode"><a name="//apple_ref/cpp/Method/aiohttp.BasicAuth.decode"></a>
<em class="property">classmethod </em><code class="descname">decode</code><span class="sig-paren">(</span><em>auth_header</em>, <em>encoding='latin1'</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BasicAuth.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode HTTP basic authentication credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The <code class="docutils literal notranslate"><span class="pre">Authorization</span></code> header to decode.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – (optional) encoding (‘latin1’ by default)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decoded authentication data, <a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuth</span></code></a>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="classmethod">
<dt id="aiohttp.BasicAuth.from_url"><a name="//apple_ref/cpp/Method/aiohttp.BasicAuth.from_url"></a>
<em class="property">classmethod </em><code class="descname">from_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BasicAuth.from_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructed credentials info from url’s <em>user</em> and <em>password</em>
parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">credentials data, <a class="reference internal" href="#aiohttp.BasicAuth" title="aiohttp.BasicAuth"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuth</span></code></a> or <code class="docutils literal notranslate"><span class="pre">None</span></code> is
credentials are not provided.</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</dd></dl>
<dl class="method">
<dt id="aiohttp.BasicAuth.encode"><a name="//apple_ref/cpp/Method/aiohttp.BasicAuth.encode"></a>
<code class="descname">encode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.BasicAuth.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode credentials into string suitable for <code class="docutils literal notranslate"><span class="pre">Authorization</span></code>
header etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">encoded authentication data, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="cookiejar">
<h3>CookieJar<a class="headerlink" href="#cookiejar" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.CookieJar"><a name="//apple_ref/cpp/Class/aiohttp.CookieJar"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">CookieJar</code><span class="sig-paren">(</span><em>*</em>, <em>unsafe=False</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.CookieJar" title="Permalink to this definition">¶</a></dt>
<dd><p>The cookie jar instance is available as <a class="reference internal" href="#aiohttp.ClientSession.cookie_jar" title="aiohttp.ClientSession.cookie_jar"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ClientSession.cookie_jar</span></code></a>.</p>
<p>The jar contains <a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Morsel</span></code></a> items for storing
internal cookie data.</p>
<p>API provides a count of saved cookies:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">cookie_jar</span><span class="p">)</span>
</pre></div>
</div>
<p>These cookies may be iterated over:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">cookie</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">cookie_jar</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cookie</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cookie</span><span class="p">[</span><span class="s2">"domain"</span><span class="p">])</span>
</pre></div>
</div>
<p>The class implements <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Iterable</span></code></a>,
<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sized" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Sized</span></code></a> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.AbstractCookieJar</span></code> interfaces.</p>
<p>Implements cookie storage adhering to RFC 6265.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>unsafe</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – (optional) Whether to accept cookies from IPs.</li>
<li><strong>loop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <p>an <a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.7)"><span class="xref std std-ref">event loop</span></a> instance.
See <a class="reference internal" href="abc.html#aiohttp.aiohttp.abc.AbstractCookieJar" title="aiohttp.aiohttp.abc.AbstractCookieJar"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.abc.AbstractCookieJar</span></code></a></p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.</span></p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="aiohttp.CookieJar.update_cookies"><a name="//apple_ref/cpp/Method/aiohttp.CookieJar.update_cookies"></a>
<code class="descname">update_cookies</code><span class="sig-paren">(</span><em>cookies</em>, <em>response_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.CookieJar.update_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Update cookies returned by server in <code class="docutils literal notranslate"><span class="pre">Set-Cookie</span></code> header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cookies</strong> – a <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a>
(e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.SimpleCookie" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleCookie</span></code></a>) or
<em>iterable</em> of <em>pairs</em> with cookies returned by server’s
response.</li>
<li><strong>response_url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – URL of response, <code class="docutils literal notranslate"><span class="pre">None</span></code> for <em>shared
cookies</em>.  Regular cookies are coupled with server’s URL and
are sent only to this server, shared ones are sent in every
client request.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.CookieJar.filter_cookies"><a name="//apple_ref/cpp/Method/aiohttp.CookieJar.filter_cookies"></a>
<code class="descname">filter_cookies</code><span class="sig-paren">(</span><em>request_url</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.CookieJar.filter_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return jar’s cookies acceptable for URL and available in
<code class="docutils literal notranslate"><span class="pre">Cookie</span></code> header for sending client requests for given URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response_url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – request’s URL for which cookies are asked.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.SimpleCookie" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">http.cookies.SimpleCookie</span></code></a> with filtered
cookies for given URL.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.CookieJar.save"><a name="//apple_ref/cpp/Method/aiohttp.CookieJar.save"></a>
<code class="descname">save</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.CookieJar.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a pickled representation of cookies into the file
at provided path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> – Path to file where cookies will be serialized,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="aiohttp.CookieJar.load"><a name="//apple_ref/cpp/Method/aiohttp.CookieJar.load"></a>
<code class="descname">load</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.CookieJar.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pickled representation of cookies from the file
at provided path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> – Path to file from where cookies will be
imported, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="aiohttp.DummyCookieJar"><a name="//apple_ref/cpp/Class/aiohttp.DummyCookieJar"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">DummyCookieJar</code><span class="sig-paren">(</span><em>*</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.DummyCookieJar" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy cookie jar which does not store cookies but ignores them.</p>
<p>Could be useful e.g. for web crawlers to iterate over Internet
without blowing up with saved cookies information.</p>
<p>To install dummy cookie jar pass it into session instance:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">jar</span> <span class="o">=</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">DummyCookieJar</span><span class="p">()</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">(</span><span class="n">cookie_jar</span><span class="o">=</span><span class="n">DummyCookieJar</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>
<dl class="class">
<dt id="aiohttp.Fingerprint"><a name="//apple_ref/cpp/Class/aiohttp.Fingerprint"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">Fingerprint</code><span class="sig-paren">(</span><em>digest</em><span class="sig-paren">)</span><a class="headerlink" href="#aiohttp.Fingerprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Fingerprint helper for checking SSL certificates by <em>SHA256</em> digest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>digest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – <em>SHA256</em> digest for certificate in DER-encoded
binary form (see
<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket.getpeercert" title="(in Python v3.7)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.getpeercert()</span></code></a>).</td>
</tr>
</tbody>
</table>
<p>To check fingerprint pass the object into <a class="reference internal" href="#aiohttp.ClientSession.get" title="aiohttp.ClientSession.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClientSession.get()</span></code></a>
call, e.g.:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_to_cert</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">digest</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>

<span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">ssl</span><span class="o">=</span><span class="n">aiohttp</span><span class="o">.</span><span class="n">Fingerprint</span><span class="p">(</span><span class="n">digest</span><span class="p">))</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>
</div>
</div>
<div class="section" id="client-exceptions">
<h2>Client exceptions<a class="headerlink" href="#client-exceptions" title="Permalink to this headline">¶</a></h2>
<p>Exception hierarchy has been significantly modified in version
2.0. aiohttp defines only exceptions that covers connection handling
and server response misbehaviors.  For developer specific mistakes,
aiohttp uses python standard exceptions like <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> or
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>.</p>
<p>Reading a response content may raise a <a class="reference internal" href="#aiohttp.ClientPayloadError" title="aiohttp.ClientPayloadError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientPayloadError</span></code></a>
exception. This exception indicates errors specific to the payload
encoding. Such as invalid compressed data, malformed chunked-encoded
chunks or not enough data that satisfy the content-length header.</p>
<p>All exceptions are available as members of <em>aiohttp</em> module.</p>
<dl class="exception">
<dt id="aiohttp.ClientError"><a name="//apple_ref/cpp/Exception/aiohttp.ClientError"></a>
<em class="property">exception </em><code class="descclassname">aiohttp.</code><code class="descname">ClientError</code><a class="headerlink" href="#aiohttp.ClientError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all client specific exceptions.</p>
<p>Derived from <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientPayloadError"><a name="//apple_ref/cpp/Class/aiohttp.ClientPayloadError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientPayloadError</code><a class="headerlink" href="#aiohttp.ClientPayloadError" title="Permalink to this definition">¶</a></dt>
<dd><p>This exception can only be raised while reading the response
payload if one of these errors occurs:</p>
<ol class="arabic simple">
<li>invalid compression</li>
<li>malformed chunked encoding</li>
<li>not enough data that satisfy <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> HTTP header.</li>
</ol>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientError" title="aiohttp.ClientError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientError</span></code></a></p>
</dd></dl>
<dl class="exception">
<dt id="aiohttp.InvalidURL"><a name="//apple_ref/cpp/Exception/aiohttp.InvalidURL"></a>
<em class="property">exception </em><code class="descclassname">aiohttp.</code><code class="descname">InvalidURL</code><a class="headerlink" href="#aiohttp.InvalidURL" title="Permalink to this definition">¶</a></dt>
<dd><p>URL used for fetching is malformed, e.g. it does not contain host
part.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientError" title="aiohttp.ClientError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<dl class="attribute">
<dt id="aiohttp.InvalidURL.url"><a name="//apple_ref/cpp/Attribute/aiohttp.InvalidURL.url"></a>
<code class="descname">url</code><a class="headerlink" href="#aiohttp.InvalidURL.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid URL, <a class="reference external" href="https://yarl.readthedocs.io/en/stable/api.html#yarl.URL" title="(in yarl v1.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">yarl.URL</span></code></a> instance.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ContentDisposition"><a name="//apple_ref/cpp/Class/aiohttp.ContentDisposition"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ContentDisposition</code><a class="headerlink" href="#aiohttp.ContentDisposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent Content-Disposition header</p>
<dl class="attribute">
<dt id="aiohttp.ContentDisposition.value"><a name="//apple_ref/cpp/Attribute/aiohttp.ContentDisposition.value"></a>
<code class="descname">value</code><a class="headerlink" href="#aiohttp.ContentDisposition.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> instance. Value of Content-Disposition header
itself, e.g. <code class="docutils literal notranslate"><span class="pre">attachment</span></code>.</p>
<dl class="attribute">
<dt id="aiohttp.ContentDisposition.filename"><a name="//apple_ref/cpp/Attribute/aiohttp.ContentDisposition.filename"></a>
<code class="descname">filename</code><a class="headerlink" href="#aiohttp.ContentDisposition.filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> instance. Content filename extracted from
parameters. May be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="attribute">
<dt id="aiohttp.ContentDisposition.parameters"><a name="//apple_ref/cpp/Attribute/aiohttp.ContentDisposition.parameters"></a>
<code class="descname">parameters</code><a class="headerlink" href="#aiohttp.ContentDisposition.parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p>Read-only mapping contains all parameters.</p>
</dd></dl>
<div class="section" id="response-errors">
<h3>Response errors<a class="headerlink" href="#response-errors" title="Permalink to this headline">¶</a></h3>
<dl class="exception">
<dt id="aiohttp.ClientResponseError"><a name="//apple_ref/cpp/Exception/aiohttp.ClientResponseError"></a>
<em class="property">exception </em><code class="descclassname">aiohttp.</code><code class="descname">ClientResponseError</code><a class="headerlink" href="#aiohttp.ClientResponseError" title="Permalink to this definition">¶</a></dt>
<dd><p>These exceptions could happen after we get response from server.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientError" title="aiohttp.ClientError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientError</span></code></a></p>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.request_info"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.request_info"></a>
<code class="descname">request_info</code><a class="headerlink" href="#aiohttp.ClientResponseError.request_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of <a class="reference internal" href="#aiohttp.RequestInfo" title="aiohttp.RequestInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestInfo</span></code></a> object, contains information
about request.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.status"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.status"></a>
<code class="descname">status</code><a class="headerlink" href="#aiohttp.ClientResponseError.status" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP status code of response (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>), e.g. <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.message"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.message"></a>
<code class="descname">message</code><a class="headerlink" href="#aiohttp.ClientResponseError.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Message of response (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>), e.g. <code class="docutils literal notranslate"><span class="pre">"OK"</span></code>.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.headers"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.headers"></a>
<code class="descname">headers</code><a class="headerlink" href="#aiohttp.ClientResponseError.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Headers in response, a list of pairs.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.history"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.history"></a>
<code class="descname">history</code><a class="headerlink" href="#aiohttp.ClientResponseError.history" title="Permalink to this definition">¶</a></dt>
<dd><p>History from failed response, if available, else empty tuple.</p>
<p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference internal" href="#aiohttp.ClientResponse" title="aiohttp.ClientResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientResponse</span></code></a> objects used for
handle redirection responses.</p>
</dd></dl>
<dl class="attribute">
<dt id="aiohttp.ClientResponseError.code"><a name="//apple_ref/cpp/Attribute/aiohttp.ClientResponseError.code"></a>
<code class="descname">code</code><a class="headerlink" href="#aiohttp.ClientResponseError.code" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP status code of response (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>), e.g. <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.1.</span></p>
</div>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="aiohttp.WSServerHandshakeError"><a name="//apple_ref/cpp/Class/aiohttp.WSServerHandshakeError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">WSServerHandshakeError</code><a class="headerlink" href="#aiohttp.WSServerHandshakeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Web socket server response error.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientResponseError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">WSServerHandshakeError</code></dt>
<dd><p>Web socket server response error.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientResponseError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ContentTypeError"><a name="//apple_ref/cpp/Class/aiohttp.ContentTypeError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ContentTypeError</code><a class="headerlink" href="#aiohttp.ContentTypeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid content type.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientResponseError</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</dd></dl>
<dl class="class">
<dt id="aiohttp.TooManyRedirects"><a name="//apple_ref/cpp/Class/aiohttp.TooManyRedirects"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">TooManyRedirects</code><a class="headerlink" href="#aiohttp.TooManyRedirects" title="Permalink to this definition">¶</a></dt>
<dd><p>Client was redirected too many times.</p>
<p>Maximum number of redirects can be configured by using
parameter <code class="docutils literal notranslate"><span class="pre">max_redirects</span></code> in <a class="reference internal" href="#aiohttp.ClientSession.request" title="aiohttp.ClientSession.request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request</span></code></a>.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientResponseError</span></code></a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>
</div>
<div class="section" id="connection-errors">
<h3>Connection errors<a class="headerlink" href="#connection-errors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="aiohttp.ClientConnectionError"><a name="//apple_ref/cpp/Class/aiohttp.ClientConnectionError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientConnectionError</code><a class="headerlink" href="#aiohttp.ClientConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>These exceptions related to low-level connection problems.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientError" title="aiohttp.ClientError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientOSError"><a name="//apple_ref/cpp/Class/aiohttp.ClientOSError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientOSError</code><a class="headerlink" href="#aiohttp.ClientOSError" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of connection errors that are initiated by an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>
exception.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientConnectionError" title="aiohttp.ClientConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectionError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientConnectorError"><a name="//apple_ref/cpp/Class/aiohttp.ClientConnectorError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientConnectorError</code><a class="headerlink" href="#aiohttp.ClientConnectorError" title="Permalink to this definition">¶</a></dt>
<dd><p>Connector related exceptions.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientOSError" title="aiohttp.ClientOSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientOSError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientProxyConnectionError"><a name="//apple_ref/cpp/Class/aiohttp.ClientProxyConnectionError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientProxyConnectionError</code><a class="headerlink" href="#aiohttp.ClientProxyConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a class="reference internal" href="#aiohttp.ClientConnectorError" title="aiohttp.ClientConnectorError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectorError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ServerConnectionError"><a name="//apple_ref/cpp/Class/aiohttp.ServerConnectionError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ServerConnectionError</code><a class="headerlink" href="#aiohttp.ServerConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a class="reference internal" href="#aiohttp.ClientConnectionError" title="aiohttp.ClientConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectionError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientSSLError"><a name="//apple_ref/cpp/Class/aiohttp.ClientSSLError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientSSLError</code><a class="headerlink" href="#aiohttp.ClientSSLError" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a class="reference internal" href="#aiohttp.ClientConnectorError" title="aiohttp.ClientConnectorError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectorError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientConnectorSSLError"><a name="//apple_ref/cpp/Class/aiohttp.ClientConnectorSSLError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientConnectorSSLError</code><a class="headerlink" href="#aiohttp.ClientConnectorSSLError" title="Permalink to this definition">¶</a></dt>
<dd><p>Response ssl error.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientSSLError" title="aiohttp.ClientSSLError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientSSLError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ssl.SSLError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ClientConnectorCertificateError"><a name="//apple_ref/cpp/Class/aiohttp.ClientConnectorCertificateError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ClientConnectorCertificateError</code><a class="headerlink" href="#aiohttp.ClientConnectorCertificateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Response certificate error.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ClientSSLError" title="aiohttp.ClientSSLError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientSSLError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.CertificateError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ssl.CertificateError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ServerDisconnectedError"><a name="//apple_ref/cpp/Class/aiohttp.ServerDisconnectedError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ServerDisconnectedError</code><a class="headerlink" href="#aiohttp.ServerDisconnectedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Server disconnected.</p>
<p>Derived from <code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerDisconnectionError</span></code></p>
<dl class="attribute">
<dt id="aiohttp.ServerDisconnectedError.message"><a name="//apple_ref/cpp/Attribute/aiohttp.ServerDisconnectedError.message"></a>
<code class="descname">message</code><a class="headerlink" href="#aiohttp.ServerDisconnectedError.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Partially parsed HTTP message (optional).</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ServerTimeoutError"><a name="//apple_ref/cpp/Class/aiohttp.ServerTimeoutError"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ServerTimeoutError</code><a class="headerlink" href="#aiohttp.ServerTimeoutError" title="Permalink to this definition">¶</a></dt>
<dd><p>Server operation timeout: read timeout, etc.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ServerConnectionError" title="aiohttp.ServerConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerConnectionError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/asyncio-exceptions.html#asyncio.TimeoutError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">asyncio.TimeoutError</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="aiohttp.ServerFingerprintMismatch"><a name="//apple_ref/cpp/Class/aiohttp.ServerFingerprintMismatch"></a>
<em class="property">class </em><code class="descclassname">aiohttp.</code><code class="descname">ServerFingerprintMismatch</code><a class="headerlink" href="#aiohttp.ServerFingerprintMismatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Server fingerprint mismatch.</p>
<p>Derived from <a class="reference internal" href="#aiohttp.ServerConnectionError" title="aiohttp.ServerConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerConnectionError</span></code></a></p>
</dd></dl>
</div>
<div class="section" id="hierarchy-of-exceptions">
<h3>Hierarchy of exceptions<a class="headerlink" href="#hierarchy-of-exceptions" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientError" title="aiohttp.ClientError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientError</span></code></a></p>
<ul>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientResponseError" title="aiohttp.ClientResponseError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientResponseError</span></code></a></p>
<ul class="simple">
<li><a class="reference internal" href="#aiohttp.ContentTypeError" title="aiohttp.ContentTypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ContentTypeError</span></code></a></li>
<li><a class="reference internal" href="#aiohttp.WSServerHandshakeError" title="aiohttp.WSServerHandshakeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">WSServerHandshakeError</span></code></a></li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientHttpProxyError</span></code></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientConnectionError" title="aiohttp.ClientConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectionError</span></code></a></p>
<ul>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientOSError" title="aiohttp.ClientOSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientOSError</span></code></a></p>
<ul>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientConnectorError" title="aiohttp.ClientConnectorError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectorError</span></code></a></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#aiohttp.ClientSSLError" title="aiohttp.ClientSSLError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientSSLError</span></code></a><ul>
<li><a class="reference internal" href="#aiohttp.ClientConnectorCertificateError" title="aiohttp.ClientConnectorCertificateError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectorCertificateError</span></code></a></li>
<li><a class="reference internal" href="#aiohttp.ClientConnectorSSLError" title="aiohttp.ClientConnectorSSLError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientConnectorSSLError</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#aiohttp.ClientProxyConnectionError" title="aiohttp.ClientProxyConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientProxyConnectionError</span></code></a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#aiohttp.ServerConnectionError" title="aiohttp.ServerConnectionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerConnectionError</span></code></a></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#aiohttp.ServerDisconnectedError" title="aiohttp.ServerDisconnectedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerDisconnectedError</span></code></a></li>
<li><a class="reference internal" href="#aiohttp.ServerTimeoutError" title="aiohttp.ServerTimeoutError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerTimeoutError</span></code></a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#aiohttp.ServerFingerprintMismatch" title="aiohttp.ServerFingerprintMismatch"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ServerFingerprintMismatch</span></code></a></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="#aiohttp.ClientPayloadError" title="aiohttp.ClientPayloadError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ClientPayloadError</span></code></a></p>
</li>
<li><p class="first"><a class="reference internal" href="#aiohttp.InvalidURL" title="aiohttp.InvalidURL"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidURL</span></code></a></p>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
      ©2013-2018, Aiohttp contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      
      |
      <a href="_sources/client_reference.rst.txt" rel="nofollow">Page source</a>
</div>
</body>
</html>
<html><!-- Online page at https://redis.io/docs/stack/get-started/tutorials/stack-spring/ --><head><meta charset="utf-8"><title>Redis OM Spring</title><link rel="stylesheet" href="../../../../css_1.css" type="text/css"><link rel="stylesheet" href="../../../../css_2.css" type="text/css"><link rel="stylesheet" href="../../../../css_3.css" type="text/css"><link rel="stylesheet" href="../../../../css_4.css" type="text/css"><link rel="stylesheet" href="../../../../css_5.css" type="text/css"><script type="text/javascript" src="../../../../js_1.js"></script><script type="text/javascript" src="../../../../js_10.js"></script><script type="text/javascript" src="../../../../js_3.js"></script><script type="text/javascript" src="../../../../js_4.js"></script><script type="text/javascript" src="../../../../js_5.js"></script><script type="text/javascript" src="../../../../js_6.js"></script><script type="text/javascript" src="../../../../js_7.js"></script><script type="text/javascript" src="../../../../js_8.js"></script><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style><style>
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      </style></head><body class="antialiased tracking-[-0.01em]">
    <noscript>&amp;amp;amp;amp;amp;amp;amp;amp;amp;lt;iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4MTBKP"
        height="0" width="0" style="display:none;visibility:hidden"&amp;amp;amp;amp;amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;amp;amp;amp;amp;lt;/iframe&amp;amp;amp;amp;amp;amp;amp;amp;amp;gt;</noscript>
    <header class="sticky top-0 z-50 flex items-center w-full text-xs lg:text-sm font-semibold lg:font-medium text-white shadow bg-midnight-700">
      <div class="flex items-center w-full h-16 container max-w-[85rem] mx-auto px-4 sm:px-8">
  <a class="relative z-50 mr-auto" href="../../../../../redis.io.html">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 368.69 125.59" class="w-auto h-8">
  <defs>
    <style>
      .cls-1 {
        fill: none;
      }

      .cls-2 {
        clip-path: url(#clip-path);
      }

      .cls-3 {
        fill: #a32422;
      }

      .cls-4 {
        fill: #dc382c;
      }

      .cls-5 {
        fill: #fff;
      }

      .cls-6 {
        fill: #741113;
      }

      .cls-7 {
        fill: #ac2724;
      }
    </style>
    <clipPath id="clip-path" transform="translate(0.01 0.01)">
      <rect class="cls-1" width="146.42" height="125.48"></rect>
    </clipPath>
  </defs>
  <g id="Layer_2" data-name="Layer 2">
    <g id="Layer_1-2" data-name="Layer 1">
      <g class="cls-2">
        <path class="cls-3" d="M140.66,96.74c-7.8,4.08-48.28,20.73-57,25.3s-13.39,4.44-20.21,1.18S13.7,102.5,5.92,98.78C2,96.94,0,95.37,0,93.9V79.09S56.08,66.92,65.13,63.64,77.31,60.28,85,63.1,138.79,74.24,146.4,77V91.6c0,1.52-1.75,3-5.74,5.13Z" transform="translate(0.01 0.01)"></path>
        <path class="cls-4" d="M140.66,82c-7.8,4.06-48.28,20.71-57,25.2s-13.39,4.45-20.21,1.2S13.7,87.69,5.92,84s-7.93-6.27-.3-9.25S56.08,55,65.13,51.7,77.31,48.33,85,51.16,133,70,140.57,72.79s7.92,5.08.09,9.13Z" transform="translate(0.01 0.01)"></path>
        <path class="cls-3" d="M140.66,72.62c-7.8,4.07-48.28,20.71-57,25.2S70.31,102.27,63.49,99,13.7,78.37,5.92,74.66C2,72.8,0,71.24,0,69.76V55S56.08,42.79,65.13,39.51,77.31,36.14,85,39,138.79,50.1,146.4,52.88v14.6C146.4,69,144.65,70.52,140.66,72.62Z" transform="translate(0.01 0.01)"></path>
        <path class="cls-4" d="M140.66,57.81c-7.8,4.08-48.28,20.72-57,25.21s-13.39,4.46-20.21,1.2S13.7,63.57,5.92,59.85-2,53.6,5.62,50.62s50.46-19.79,59.51-23S77.31,24.21,85,27,133,45.94,140.57,48.65s7.92,5.09.09,9.13Z" transform="translate(0.01 0.01)"></path>
        <path class="cls-3" d="M140.66,47.59c-7.8,4.08-48.28,20.73-57,25.21S70.31,77.25,63.49,74,13.7,53.34,5.92,49.63C2,47.79,0,46.22,0,44.74V29.93S56.08,17.76,65.13,14.49,77.31,11.12,85,13.94s53.77,11.14,61.38,13.92v14.6C146.4,44,144.65,45.5,140.66,47.59Z" transform="translate(0.01 0.01)"></path>
        <path class="cls-4" d="M140.66,32.8c-7.8,4-48.28,20.75-57,25.2s-13.39,4.44-20.21,1.2S13.7,38.53,5.92,34.83s-7.93-6.27-.3-9.25S56.08,5.8,65.13,2.54,77.31-.82,85,2,133,20.85,140.57,23.63s7.92,5.09.09,9.14Z" transform="translate(0.01 0.01)"></path>
      </g>
      <polygon class="cls-5" points="75.51 11.78 85.17 8.61 82.55 14.87 92.38 18.55 79.71 19.87 76.86 26.71 72.28 19.08 57.63 17.76 68.57 13.82 65.28 7.76 75.51 11.78 75.51 11.78 75.51 11.78"></polygon>
      <polygon class="cls-5" points="76.12 51.71 52.44 41.88 86.36 36.67 76.12 51.71 76.12 51.71 76.12 51.71"></polygon>
      <path class="cls-5" d="M43.28,22.34c10,0,18.13,3.15,18.13,7s-8.15,7-18.13,7-18.14-3.15-18.14-7S33.27,22.34,43.28,22.34Z" transform="translate(0.01 0.01)"></path>
      <polygon class="cls-6" points="107.39 20.42 127.46 28.35 107.41 36.28 107.39 20.42 107.39 20.42 107.39 20.42"></polygon>
      <polygon class="cls-7" points="107.39 20.42 107.41 36.28 105.23 37.13 85.17 29.2 107.39 20.42 107.39 20.42 107.39 20.42"></polygon>
      <path class="cls-5" d="M193,41.4a17.36,17.36,0,0,1,6.23-4.34,20,20,0,0,1,7.3-1.61,6.71,6.71,0,0,1,5,1.61,5,5,0,0,1,1.52,3.79,5.39,5.39,0,0,1-1.52,3.79,4.9,4.9,0,0,1-3.79,1.63c-6.24.55-14.9,6.77-14.9,15.22V80.67a5.57,5.57,0,0,1-5.42,5.41,4.92,4.92,0,0,1-3.87-1.67,5.36,5.36,0,0,1-1.62-3.79v-40a5.35,5.35,0,0,1,1.62-3.79,7.2,7.2,0,0,1,4.07-1.36,5.52,5.52,0,0,1,5.41,5.4Z" transform="translate(0.01 0.01)"></path>
      <path class="cls-5" d="M258.71,59a5.25,5.25,0,0,1-1.35,3.54,6.11,6.11,0,0,1-3.79,1.62h-32a10.31,10.31,0,0,0,3.47,6.56,14.46,14.46,0,0,0,9.48,4.57,14.07,14.07,0,0,0,10.56-2.44,5.52,5.52,0,0,1,4.07-1.63,4.65,4.65,0,0,1,3.51,1.36,4.41,4.41,0,0,1,.26,6.24c-.08.09-.17.17-.26.26a24.49,24.49,0,0,1-17.59,6.5A23,23,0,0,1,217.5,78a26.67,26.67,0,0,1-7.3-17.9,24.31,24.31,0,0,1,7.3-17.88,22.59,22.59,0,0,1,17.06-7.31,22,22,0,0,1,16.74,6.78,24.78,24.78,0,0,1,7.61,16.74v.53Zm-24.1-14.35a14.2,14.2,0,0,0-9.13,3.53,13.17,13.17,0,0,0-4.33,7h28.43a12.39,12.39,0,0,0-4.88-6.76,17.3,17.3,0,0,0-10-3.81" transform="translate(0.01 0.01)"></path>
      <path class="cls-5" d="M309.66,80.12a5.57,5.57,0,0,1-5.41,5.42,5.85,5.85,0,0,1-5.42-4.34A23.23,23.23,0,0,1,285,85.54a23.57,23.57,0,0,1-17.33-7.31,24.14,24.14,0,0,1-7.05-17.88,25.75,25.75,0,0,1,7.05-17.87A23.85,23.85,0,0,1,285,34.87a22.34,22.34,0,0,1,13.53,4.34V20.28a4.92,4.92,0,0,1,1.63-3.79A5.37,5.37,0,0,1,304,14.86a4.92,4.92,0,0,1,3.79,1.63,5.36,5.36,0,0,1,1.63,3.79V80.12ZM285.31,74.7a12,12,0,0,0,9.47-4.32,14.4,14.4,0,0,0,0-20A13,13,0,0,0,285.31,46a11.65,11.65,0,0,0-9.48,4.34,14.4,14.4,0,0,0,0,20,12.49,12.49,0,0,0,9.48,4.32" transform="translate(0.01 0.01)"></path>
      <path class="cls-5" d="M325.67,20.28v2.18A5.5,5.5,0,0,1,324,26.58a4.64,4.64,0,0,1-3.79,1.35,4.86,4.86,0,0,1-3.78-1.61,5.44,5.44,0,0,1-1.63-4.06v-2a5.28,5.28,0,0,1,1.63-3.79,5.33,5.33,0,0,1,3.78-1.63A5,5,0,0,1,324,16.49a4.9,4.9,0,0,1,1.66,3.79m-9.13,16.53a5.28,5.28,0,0,1,3.79-1.63,4.85,4.85,0,0,1,3.79,1.63,5.48,5.48,0,0,1,1.55,4V80.42A4.55,4.55,0,0,1,324,84.21a5.33,5.33,0,0,1-3.78,1.63,4.9,4.9,0,0,1-3.79-1.63,5.28,5.28,0,0,1-1.63-3.79V40.85a5.39,5.39,0,0,1,1.63-4" transform="translate(0.01 0.01)"></path>
      <path class="cls-5" d="M364.08,40.6a5.29,5.29,0,0,1,2.17,3.24,7.17,7.17,0,0,1-.54,4.06,5.4,5.4,0,0,1-3.25,2.16,5.61,5.61,0,0,1-4.07-.81c-3.79-2.43-6.75-3.78-9.2-3.78a8.74,8.74,0,0,0-6,1.88c-1.08.82-1.62,1.36-1.62,1.9a2,2,0,0,0,.27,1.36,3.74,3.74,0,0,0,1.08.81,16.19,16.19,0,0,0,7.32,2.43h0a37.75,37.75,0,0,1,9.74,3,13.57,13.57,0,0,1,6.5,5.7,13.46,13.46,0,0,1-4.06,18.67,21.79,21.79,0,0,1-13,4.06c-6.23,0-12.18-2.43-17.87-7a5.77,5.77,0,0,1-1.9-3.53,5.2,5.2,0,0,1,8.4-4.56,15.73,15.73,0,0,0,11.1,4.33,11.61,11.61,0,0,0,6.77-1.9c1.08-1.08,1.9-1.89,1.9-2.71s0-1.08-.27-1.35c0-.28-.55-.81-1.36-1.08a20.15,20.15,0,0,0-8.13-2.86h0a28.26,28.26,0,0,1-9.2-3,16.56,16.56,0,0,1-6.5-5.67,12.61,12.61,0,0,1-1.61-6.23,13.3,13.3,0,0,1,5.95-11.11,21.82,21.82,0,0,1,12.45-3.79c4.56.28,9.48,2.16,14.89,5.69" transform="translate(0.01 0.01)"></path>
    </g>
  </g>
</svg>
  </a>

	<nav data-menu="" class="hidden lg:flex items-center justify-center content-start lg:content-center lg:gap-y-4 flex-1 z-40 fixed inset-0 lg:static bg-slate-900 lg:bg-transparent text-sm max-h-screen lg:max-w-none pt-20 pb-8 lg:py-0 overflow-y-auto lg:overflow-y-visible">
    
    
      

        
        <a href="../../../getting-started.html" class="hidden uppercase rounded-sm lg:flex items-center justify-items-center first:ml-auto ml-1 px-3 py-2 rounded bg-transparent hover:text-white/50 focus:text-white/50 whitespace-nowrap transition-colors">
          
          
          Get started
        </a>

        
        <a href="../../../getting-started.html" class="flex lg:hidden items-center mt-1.5">
          Get started
        </a>
      
    
      
        
        
        <dl class="hidden lg:flex group relative first:ml-auto ml-1 mt-3 mb-0 px-3 pt-2 pb-5 cursor-pointer">
          <dt class="sr-only uppercase lg:not-sr-only flex items-center justify-items-center group-hover:text-white/50 group-focus-within:text-white/50 whitespace-nowrap transition-colors" href="#">
            
            Docs
          </dt>
          <dd class="hidden lg:grid text-[0.8rem] lg:text-sm text-redis-neutral-800 absolute top-full -mt-1 right-[1000rem] p-2 group-hover:right-[unset] group-hover:-left-3 group-focus-within:right-[unset] group-focus-within:-left-3 bg-white rounded-lg border border-slate-500/10 bg-clip-padding shadow-md">
            
              
                <div class="-my-2 pr-3 py-4 col-start-1  pl-3 ">
                  <a href="../../../about.html" class=" font-semibold text-[0.9375rem] text-slate-900 flex items-center whitespace-nowrap min-w-[10rem] hover:text-slate-600 focus:text-slate-600 transition-colors">
                    
                      <span class="grid place-items-center w-5 h-5 mr-2.5">
                        
                        <svg viewBox="0 0 147 126" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M140.708 96.7107c-7.81 4.0703-48.2904 20.7203-57.0004 25.2903C74.9976 126.571 70.3176 126.441 63.4976 123.191s-49.8-20.73-57.57002-24.4403C2.04758 96.9007.00756836 95.3407.00756836 93.8607V79.0508S56.0876 66.8807 65.1376 63.6107 77.3176 60.2406 85.0276 63.0606C92.7376 65.8806 138.798 74.2007 146.408 76.9807V91.5606C146.408 93.0806 144.658 94.5606 140.668 96.6907L140.708 96.7107z" fill="#a32422"></path><path d="M140.708 81.9108C132.898 85.9808 92.4176 102.631 83.7076 107.121 74.9976 111.611 70.3176 111.561 63.4976 108.321c-6.82-3.24-49.8-20.6703-57.57001-24.3703-7.77-3.7-7.92999-6.27-.30999-9.25s50.47-19.78 59.52-23S77.3176 48.3408 85.0276 51.1708C92.7376 54.0008 132.968 70.0108 140.578 72.7908 148.188 75.5708 148.488 77.8808 140.668 81.9208L140.708 81.9108z" fill="#dc382c"></path><path d="M140.708 72.5807C132.898 76.6507 92.4176 93.3008 83.7076 97.7908 74.9976 102.281 70.3176 102.231 63.4976 98.9907 56.6776 95.7507 13.6976 78.3407 5.92758 74.6207 2.04758 72.7707.00756836 71.2007.00756836 69.7207V54.9306S56.0876 42.7607 65.1376 39.4707 77.3176 36.1107 85.0276 38.9407C92.7376 41.7707 138.798 50.0607 146.408 52.8507v14.64C146.488 68.9607 144.698 70.4907 140.708 72.5807z" fill="#a32422"></path><path d="M140.708 57.7808c-7.81 4.08-48.2904 20.7099-57.0004 25.1999S70.3176 87.4407 63.4976 84.1807s-49.8-20.65-57.57001-24.36C-1.84241 56.1107-2.0024 53.5607 5.6176 50.5807s50.47-19.78 59.52-23S77.3176 24.2208 85.0276 27.0308C92.7376 29.8408 132.968 45.9508 140.578 48.6608 148.188 51.3708 148.488 53.7408 140.668 57.7908L140.708 57.7808z" fill="#dc382c"></path><path d="M140.708 47.5508c-7.81 4.08-48.2904 20.73-57.0004 25.22C74.9976 77.2608 70.3176 77.2107 63.4976 73.9507 56.6776 70.6907 13.6976 53.3007 5.92758 49.5907c-3.88-1.84-5.92001164-3.41-5.92001164-4.89V29.9008S56.0876 17.7207 65.1376 14.4507c9.05-3.27 12.18-3.3599 19.89-.549899999999999C92.7376 16.7108 138.798 25.0407 146.408 27.8307V42.4208C146.488 43.9408 144.698 45.4908 140.708 47.5508z" fill="#a32422"></path><path d="M140.708 32.7607c-7.81 4-48.2904 20.7599-57.0004 25.1999s-13.39 4.4401-20.21 1.2001-49.8-20.66-57.57001-24.36c-7.77-3.7-7.92999-6.27-.30999-9.26 7.62-2.99 50.47-19.77998 59.52-22.99998 9.05-3.219996 12.18-3.360025 19.89-.53003C92.7376 4.84069 132.968 20.8507 140.578 23.6407 148.188 26.4307 148.488 28.7207 140.668 32.7707L140.708 32.7607z" fill="#dc382c"></path><path d="M140.708 96.7107c-7.81 4.0703-48.2904 20.7203-57.0004 25.2903C74.9976 126.571 70.3176 126.441 63.4976 123.191s-49.8-20.73-57.57002-24.4403C2.04758 96.9007.00756836 95.3407.00756836 93.8607V79.0508S56.0876 66.8807 65.1376 63.6107 77.3176 60.2406 85.0276 63.0606C92.7376 65.8806 138.798 74.2007 146.408 76.9807V91.5606C146.408 93.0806 144.658 94.5606 140.668 96.6907L140.708 96.7107z" fill="#a32422"></path><path d="M140.708 81.9108C132.898 85.9808 92.4176 102.631 83.7076 107.121 74.9976 111.611 70.3176 111.561 63.4976 108.321c-6.82-3.24-49.8-20.6703-57.57001-24.3703-7.77-3.7-7.92999-6.27-.30999-9.25s50.47-19.78 59.52-23S77.3176 48.3408 85.0276 51.1708C92.7376 54.0008 132.968 70.0108 140.578 72.7908 148.188 75.5708 148.488 77.8808 140.668 81.9208L140.708 81.9108z" fill="#dc382c"></path><path d="M140.708 72.5807C132.898 76.6507 92.4176 93.3008 83.7076 97.7908 74.9976 102.281 70.3176 102.231 63.4976 98.9907 56.6776 95.7507 13.6976 78.3407 5.92758 74.6207 2.04758 72.7707.00756836 71.2007.00756836 69.7207V54.9306S56.0876 42.7607 65.1376 39.4707 77.3176 36.1107 85.0276 38.9407C92.7376 41.7707 138.798 50.0607 146.408 52.8507v14.64C146.488 68.9607 144.698 70.4907 140.708 72.5807z" fill="#a32422"></path><path d="M140.708 57.7808c-7.81 4.08-48.2904 20.7099-57.0004 25.1999S70.3176 87.4407 63.4976 84.1807s-49.8-20.65-57.57001-24.36C-1.84241 56.1107-2.0024 53.5607 5.6176 50.5807s50.47-19.78 59.52-23S77.3176 24.2208 85.0276 27.0308C92.7376 29.8408 132.968 45.9508 140.578 48.6608 148.188 51.3708 148.488 53.7408 140.668 57.7908L140.708 57.7808z" fill="#dc382c"></path><path d="M140.708 47.5508c-7.81 4.08-48.2904 20.73-57.0004 25.22C74.9976 77.2608 70.3176 77.2107 63.4976 73.9507 56.6776 70.6907 13.6976 53.3007 5.92758 49.5907c-3.88-1.84-5.92001164-3.41-5.92001164-4.89V29.9008S56.0876 17.7207 65.1376 14.4507c9.05-3.27 12.18-3.3599 19.89-.549899999999999C92.7376 16.7108 138.798 25.0407 146.408 27.8307V42.4208C146.488 43.9408 144.698 45.4908 140.708 47.5508z" fill="#a32422"></path><path d="M140.708 32.7607c-7.81 4-48.2904 20.7599-57.0004 25.1999s-13.39 4.4401-20.21 1.2001-49.8-20.66-57.57001-24.36c-7.77-3.7-7.92999-6.27-.30999-9.26 7.62-2.99 50.47-19.77998 59.52-22.99998 9.05-3.219996 12.18-3.360025 19.89-.53003C92.7376 4.84069 132.968 20.8507 140.578 23.6407 148.188 26.4307 148.488 28.7207 140.668 32.7707L140.708 32.7607z" fill="#dc382c"></path><path d="M75.5476 11.7307l9.66-3.17-2.62 6.26 9.83 3.68-12.67 1.32L76.8976 26.6607l-4.58-7.63-14.65-1.32 10.94-3.94L65.3176 7.71069l10.23 4.02001z" fill="#fff"></path><path d="M76.1575 51.6607l-23.68-9.83 33.92-5.2-10.24 15.03z" fill="#fff"></path><path d="M43.3276 22.3008c10 0 18.12 3.15 18.12 7s-8.14 7-18.12 7c-9.98.0-18.14-3.15000000000001-18.14-7s8.13-7 18.14-7z" fill="#fff"></path><path d="M107.428 20.3707l20.07 7.93-20.05 7.93L107.428 20.3707z" fill="#741113"></path><path d="M107.428 20.3707 107.448 36.2307 105.268 37.0807l-20.0605-7.93 22.2205-8.78z" fill="#ac2724"></path></svg>
                      </span>
                    
                    Redis
                  </a>
                  
                    <a href="../../../getting-started.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Get started
                    </a>
                  
                    <a href="../../../data-types.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Data types
                    </a>
                  
                    <a href="../../../ui/cli.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Redis CLI
                    </a>
                  
                    <a href="../../../clients.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Redis clients
                    </a>
                  
                    <a href="../../../management/persistence.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Persistence
                    </a>
                  
                    <a href="../../../management/scaling.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Scaling
                    </a>
                  
                </div>
              
            
              
                <div class="-my-2 pr-3 py-4 col-start-2  border-l pl-5 ">
                  <a href="../../../stack.html" class=" font-semibold text-[0.9375rem] text-slate-900 flex items-center whitespace-nowrap min-w-[10rem] hover:text-slate-600 focus:text-slate-600 transition-colors">
                    
                      <span class="grid place-items-center w-5 h-5 mr-2.5">
                        
                        <svg viewBox="0 0 39 31" fill="none"><path d="M21.7371 15.2903C21.5759 15.2895 21.4198 15.2337 21.2947 15.1321 21.1695 15.0305 21.0828 14.8892 21.049 14.7316S21.0362 14.4096 21.1086 14.2655C21.1811 14.1215 21.3005 14.0066 21.4472 13.9397L35.7199 7.47338 21.4578 1.34289C21.2943 1.26329 21.1678 1.12377 21.1045.953307 21.0412.78285 21.046.594558 21.1179.427547 21.1898.260535 21.3233.127641 21.4906.0564719 21.6579-.0146977 21.8462-.0186728 22.0164.045373L37.7492 6.80518C37.8747 6.8605 37.9814 6.95112 38.0563 7.06599S38.171 7.31503 38.171 7.45216 38.1312 7.72347 38.0563 7.83834C37.9814 7.95321 37.8747 8.04383 37.7492 8.09915L22.0306 15.2266C21.9388 15.2698 21.8385 15.2916 21.7371 15.2903z" fill="#db2e2e"></path><path d="M16.4339 15.2903C16.3379 15.2906 16.2429 15.2714 16.1546 15.2337L.421813 8.47393C.296339 8.41861.18966 8.32799.114767 8.21312.0398745 8.09825.0 7.96407.0 7.82694.0 7.68981.0398745 7.55564.114767 7.44077.18966 7.3259.296339 7.23528.421813 7.17995L16.1546.052465C16.3235-.0111265 16.5104-.00772359 16.6768.0619772 16.8433.131678 16.9768.2624 17.0501.427363 17.1233.592325 17.1306.779042 17.0706.949259 17.0106 1.11948 16.8878 1.26031 16.7274 1.34291L2.44763 7.80573 16.7132 13.9362C16.8612 14.0015 16.9823 14.1154 17.0565 14.2592 17.1306 14.4029 17.1532 14.5677 17.1205 14.7261 17.0878 14.8845 17.0019 15.0269 16.8769 15.1295 16.752 15.2322 16.5956 15.2889 16.4339 15.2903z" fill="#db2e2e"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M29.1651 17.4328c3.1288-1.2763 6.2047-2.5279 7.1875-3.0617L37.1163 13.9539C37.3908 13.8108 37.6564 13.6514 37.9118 13.4766 37.972 13.8833 37.972 14.2967 37.9118 14.7034 37.8022 15.1312 37.4875 15.4847 36.289 16.061 35.4617 16.4605 33.1531 17.408 30.5792 18.4687c-3.6167 1.4884-7.778 3.1819-9.0826 3.889C19.2587 23.4183 18.0284 23.4183 16.3137 22.644 15.4864 22.2021 12.4918 20.9117 9.39476 19.5611c-3.3198-1.446-6.75627-2.945-7.77802-3.4753C.22377 15.3575.153061 15.1948.160132 14.8271V13.8655L.513678 14.0564c1.311652.6647 7.219412 3.1819 11.486722 5.0204 2.1142.898 3.8112 1.6298 4.3769 1.8844C18.092 21.7319 19.3082 21.8733 21.5603 20.6748 22.7022 20.0808 25.9619 18.7409 29.1651 17.4328z" fill="#494c4d"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M29.1651 24.5037c3.1288-1.2763 6.2047-2.5279 7.1875-3.0617L37.1163 21.0248C37.3908 20.8817 37.6564 20.7223 37.9118 20.5475 37.972 20.9542 37.972 21.3676 37.9118 21.7743 37.8022 22.2021 37.4875 22.5557 36.289 23.1319 35.4617 23.5314 33.1531 24.4789 30.5792 25.5396c-3.6167 1.4884-7.778 3.1819-9.0826 3.889-2.2379 1.0606-3.4682 1.0606-5.1829.2864C15.4864 29.2801 12.4918 27.9755 9.39476 26.625c-3.3198-1.446-6.75627-2.9451-7.77802-3.4754C.22377 22.4213.153061 22.2587.160132 21.891V20.9364L.513678 21.1273C1.82533 21.792 7.73309 24.3092 12.0004 26.1477c2.1001.898 3.8006 1.6298 4.3663 1.8844C18.0814 28.8028 19.2976 28.9442 21.5497 27.7457 22.7022 27.1518 25.9619 25.8118 29.1651 24.5037z" fill="#494c4d"></path></svg>
                      </span>
                    
                    Redis Stack
                  </a>
                  
                    <a href="../../get-started.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Get started
                    </a>
                  
                    <a href="../clients.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Stack clients
                    </a>
                  
                    <a href="../../../ui/insight.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      RedisInsight
                    </a>
                  
                    <a href="../../json.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      JSON
                    </a>
                  
                    <a href="../../search.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Search
                    </a>
                  
                    <a href="../../bloom.html" class=" pl-[1.875rem] flex items-center whitespace-nowrap rounded min-w-[10rem] pt-2 text-slate-500 hover:text-indigo-600 focus:text-slate-900 transition-colors">
                      
                      Probabilistic
                    </a>
                  
                </div>
              
            
          </dd>
        </dl>
        
        
        <dl class="lg:hidden">
          <dt class="sr-only">
            Docs
          </dt>
          <dd class="lg:hidden flex flex-col">
            
              
                <a href="../../../about.html" class="flex items-center mt-2">
                  Redis
                </a>
                
                  <a href="../../../getting-started.html" class="mt-2">
                    Get started
                  </a>
                
                  <a href="../../../data-types.html" class="mt-2">
                    Data types
                  </a>
                
                  <a href="../../../ui/cli.html" class="mt-2">
                    Redis CLI
                  </a>
                
                  <a href="../../../clients.html" class="mt-2">
                    Redis clients
                  </a>
                
                  <a href="../../../management/persistence.html" class="mt-2">
                    Persistence
                  </a>
                
                  <a href="../../../management/scaling.html" class="mt-2">
                    Scaling
                  </a>
                
                <hr class="opacity-10 mt-4 mb-2">
              
            
              
                <a href="../../../stack.html" class="flex items-center mt-2">
                  Redis Stack
                </a>
                
                  <a href="../../get-started.html" class="mt-2">
                    Get started
                  </a>
                
                  <a href="../clients.html" class="mt-2">
                    Stack clients
                  </a>
                
                  <a href="../../../ui/insight.html" class="mt-2">
                    RedisInsight
                  </a>
                
                  <a href="../../json.html" class="mt-2">
                    JSON
                  </a>
                
                  <a href="../../search.html" class="mt-2">
                    Search
                  </a>
                
                  <a href="../../bloom.html" class="mt-2">
                    Probabilistic
                  </a>
                
                <hr class="opacity-10 mt-4 mb-2">
              
            
          </dd>
        </dl>
      
    
      

        
        <a href="../../../../commands.html" class="hidden uppercase rounded-sm lg:flex items-center justify-items-center first:ml-auto ml-1 px-3 py-2 rounded bg-transparent hover:text-white/50 focus:text-white/50 whitespace-nowrap transition-colors">
          
          
          Commands
        </a>

        
        <a href="../../../../commands.html" class="flex lg:hidden items-center mt-1.5">
          Commands
        </a>
      
    
      
        
        
        <dl class="hidden lg:flex group relative first:ml-auto ml-1 mt-3 mb-0 px-3 pt-2 pb-5 cursor-pointer">
          <dt class="sr-only uppercase lg:not-sr-only flex items-center justify-items-center group-hover:text-white/50 group-focus-within:text-white/50 whitespace-nowrap transition-colors" href="#">
            
            Resources
          </dt>
          <dd class="hidden lg:grid text-[0.8rem] lg:text-sm text-redis-neutral-800 absolute top-full -mt-1 right-[1000rem] p-2 group-hover:right-[unset] group-hover:-left-3 group-focus-within:right-[unset] group-focus-within:-left-3 bg-white rounded-lg border border-slate-500/10 bg-clip-padding shadow-md">
            
              
              <a href="../../../../resources/clients.html" class=" px-3 flex items-center whitespace-nowrap rounded min-w-[10rem] py-1 text-slate-500 hover:text-slate-900 focus:text-slate-900 transition-colors">
                
                Clients
              </a>
              
            
              
              <a href="../../../../resources/libraries.html" class=" px-3 flex items-center whitespace-nowrap rounded min-w-[10rem] py-1 text-slate-500 hover:text-slate-900 focus:text-slate-900 transition-colors">
                
                Libraries
              </a>
              
            
              
              <a href="../../../../resources/tools.html" class=" px-3 flex items-center whitespace-nowrap rounded min-w-[10rem] py-1 text-slate-500 hover:text-slate-900 focus:text-slate-900 transition-colors">
                
                Tools
              </a>
              
            
              
              <a href="../../../../resources/modules.html" class=" px-3 flex items-center whitespace-nowrap rounded min-w-[10rem] py-1 text-slate-500 hover:text-slate-900 focus:text-slate-900 transition-colors">
                
                Modules
              </a>
              
            
          </dd>
        </dl>
        
        
        <dl class="lg:hidden">
          <dt class="sr-only">
            Resources
          </dt>
          <dd class="lg:hidden flex flex-col">
            
              
              <a href="../../../../resources/clients.html" class="mt-2">
                Clients
              </a>
              
            
              
              <a href="../../../../resources/libraries.html" class="mt-2">
                Libraries
              </a>
              
            
              
              <a href="../../../../resources/tools.html" class="mt-2">
                Tools
              </a>
              
            
              
              <a href="../../../../resources/modules.html" class="mt-2">
                Modules
              </a>
              
            
          </dd>
        </dl>
      
    
      

        
        <a href="../../../../community.html" class="hidden uppercase rounded-sm lg:flex items-center justify-items-center first:ml-auto ml-1 px-3 py-2 rounded bg-transparent hover:text-white/50 focus:text-white/50 whitespace-nowrap transition-colors">
          
          
          Community
        </a>

        
        <a href="../../../../community.html" class="flex lg:hidden items-center mt-1.5">
          Community
        </a>
      
    
      

        
        <a href="../../../../support.html" class="hidden uppercase rounded-sm lg:flex items-center justify-items-center first:ml-auto ml-1 px-3 py-2 rounded bg-transparent hover:text-white/50 focus:text-white/50 whitespace-nowrap transition-colors">
          
          
          Support
        </a>

        
        <a href="../../../../support.html" class="flex lg:hidden items-center mt-1.5">
          Support
        </a>
      
    
    
    <div class="flex flex-col lg:flex-row lg:ml-auto lg:space-x-2">
      <button id="search-button" type="button" class="rounded-sm w-full lg:w-auto transition-colors shrink-0 flex-1 lg:flex-none lg:ml-2 lg:mr-0 mt-4 lg:mt-0 inline-flex items-center px-4 py-2 text-sm font-medium rounded border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 border-white/50 hover:text-indigo-600 focus:text-indigo-600 hover:bg-white focus:bg-white focus:ring-white">
        <svg class="w-[0.875rem] h-[0.875rem] mr-0.5" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
        <span class="sr-only">Quick search&amp;hellip…</span>
        <span class="lg:hidden xl:block flex-auto ml-1 mr-4" aria-hidden="">Search…</span>
        <script>
          if (navigator.appVersion.indexOf("Win") != -1 || navigator.appVersion.indexOf("Linux") != -1) {
            document.querySelector('[title="Command"]').textContent = "&#8963;";
          } 
        </script>
        <kbd class="font-sans font-semibold">
          <abbr title="Command" class="no-underline">⌘</abbr>&nbsp;K
        </kbd>
      </button>
      
        <a class="rounded-sm transition-colors shrink-0 inline-flex items-center justify-center mt-2 lg:mt-0 px-4 py-2 text-sm font-medium rounded border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900
         border-transparent bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 focus:ring-indigo-600
        " href="../../../../download.html">
          Download
        </a>
      
        <a class="rounded-sm transition-colors shrink-0 inline-flex items-center justify-center mt-2 lg:mt-0 px-4 py-2 text-sm font-medium rounded border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900
        
         border-white/50 hover:text-indigo-600 focus:text-indigo-600 hover:bg-white focus:bg-white focus:ring-white" href="http://redis.com/try-free/">
          Try Redis Cloud
        </a>
      
    </div>
	</nav>

  <button data-menu-toggle="" aria-expanded="false" class="menu-toggle block ml-auto lg:hidden relative z-50"> 
    <span class="sr-only">Open main menu</span> 
    <svg aria-hidden="true" role="img" viewBox="0 0 24 24" style="pointer-events: none; width: 24px; height: 24px;" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <line x1="4" y1="6" x2="20" y2="6"></line>
      <line x1="4" y1="12" x2="20" y2="12"></line>
      <line x1="4" y1="18" x2="20" y2="18"></line>
    </svg>
  </button>
</div>
    </header>

    
  <main class="docs w-full max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 md:flex gap-16">
    

<div class="hidden md:block w-52 h-full shrink-0">
  <nav class="w-52 z-40 bg-white hidden md:block fixed top-28 pb-16 h-full max-h-[calc(100vh-7rem)] text-[0.8125rem] leading-7 font">
    <div class="absolute right-0 -top-28 z-[-1] h-screen border-r border-slate-200/50 bg-gradient-to-bl from-slate-50 via-slate-50 to-indigo-100 w-[17rem] xl:w-[calc(50vw-23rem)]"></div>
    <ul class="h-full max-h-[calc(100vh-7rem)] overflow-y-auto pr-6">
      
    <li>
      <a class="flex justify-between items-center truncate font-semibold text-slate-900" href="../../../../docs.html">
          <span>Documentation</span>
          
      </a>
        <ul class="">
          
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../about.html">
          <span>About</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../getting-started.html">
          <span>Getting started</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../ui.html">
          <span>User interfaces</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../data-types.html">
          <span>Data types</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../clients.html">
          <span>Client quickstarts</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../manual.html">
          <span>Using Redis</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../management.html">
          <span>Managing Redis</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../reference.html">
          <span>Reference</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../../stack.html">
          <span>Redis Stack</span>
          
            
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400 rotate-90" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../about.html">
          <span>About</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../get-started.html">
          <span>Get started</span>
          
            
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400 rotate-90" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../clients.html">
          <span>Clients</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../install.html">
          <span>Install</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../tutorials.html">
          <span>Tutorials</span>
          
            
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400 rotate-90" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="./stack-dotnet.html">
          <span>.NET</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="./stack-node.html">
          <span>Node.js</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="./stack-python.html">
          <span>Python</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate active text-indigo-600" href="./stack-spring.html">
          <span>Spring / Java</span>
          
      </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../use-cases.html">
          <span>Use cases</span>
          
      </a>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../search.html">
          <span>Search</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../json.html">
          <span>JSON</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../graph.html">
          <span>Graph</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../timeseries.html">
          <span>Time Series</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../bloom.html">
          <span>Probabilistic</span>
          
            
            <svg class="shrink-0 h-[1.0rem] w-[1.0rem] stroke-slate-400" viewBox="0 0 20 20" fill="currentColor">
    <path d="M13.5355 10L6.46447 2.92893"></path>
    <path d="M6.46447 17.0711L13.5355 10"></path>
</svg>
            
          
      </a>
        <ul class="child-list">
          
        </ul>
    </li>
    <li>
      <a class="flex justify-between items-center truncate text-slate-600 hover:text-indigo-600" href="../../license.html">
          <span>License</span>
          
      </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
  </nav>
</div>
    <div class="w-full max-w-[47rem] py-12">
      <nav class="flex" aria-label="Breadcrumb">
  <ol role="list" class="flex items-center space-x-2">
    
  
    
  
    
  
    
  
    
  
    
  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700">
    
      <a class="text-gray-400 hover:text-gray-500" href="../../../../../redis.io.html">
        <svg class="flex-shrink-0 h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
        </svg>
        <span class="sr-only">Home</span>
      </a>
    
  </li>

  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700">
    
      <svg class="flex-shrink-0 h-5 w-5 mr-2 text-slate-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
      </svg>
      <a class="" href="../../../../docs.html">
        Documentation
      </a>
    
  </li>

  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700">
    
      <svg class="flex-shrink-0 h-5 w-5 mr-2 text-slate-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
      </svg>
      <a class="" href="../../../stack.html">
        Redis Stack
      </a>
    
  </li>

  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700">
    
      <svg class="flex-shrink-0 h-5 w-5 mr-2 text-slate-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
      </svg>
      <a class="" href="../../get-started.html">
        Get started with Redis Stack
      </a>
    
  </li>

  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700">
    
      <svg class="flex-shrink-0 h-5 w-5 mr-2 text-slate-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
      </svg>
      <a class="" href="../tutorials.html">
        Redis Stack tutorials
      </a>
    
  </li>

  
  <li class="flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 pointer-events-none">
    
      <svg class="flex-shrink-0 h-5 w-5 mr-2 text-slate-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
      </svg>
      <a class="" href="./stack-spring.html">
        Redis OM Spring
      </a>
    
  </li>

  </ol>
</nav>


      <section class="prose prose-slate w-full max-w-[47rem] py-12">
        <h1>Redis OM Spring</h1>
        <p class="text-lg -mt-5 mb-10">Learn how to build with Redis Stack and Spring</p>
        <p>Redis Stack provides a seamless and straightforward way to use different data models and functionality from Redis, including a document store, a graph database, a time series data database, probabilistic data structures, and a full-text search engine.</p>
<p>Redis Stack is supported by several client libraries, including Node.js, Java, and Python, so that developers can use their preferred language. We'll be using one of the Redis Stack supporting libraries; <a href="https://github.com/redis/redis-om-spring">Redis OM Spring</a>.
Redis OM Spring provides a robust repository and custom object-mapping abstractions built on the powerful Spring Data Redis (SDR) framework.</p>
<a class="dashAnchor" name="//apple_ref/Section/What%20you%E2%80%99ll%20need"></a><h2 id="what-youll-need">What you’ll need:</h2>
<ul>
<li>Redis Stack: See <a href="../install.html">https://redis.io/docs/stack/get-started/install/</a></li>
<li>RedisInsight: See <a href="../../../ui/insight.html">https://redis.io/docs/ui/insight</a></li>
<li>Your favorite browser</li>
<li>Java 11 or greater</li>
</ul>
<a class="dashAnchor" name="//apple_ref/Section/Spring%20Boot%20scaffold%20with%20Spring%20Initializer"></a><h2 id="spring-boot-scaffold-with-spring-initializer">Spring Boot scaffold with Spring Initializer</h2>
<p>We’ll start by creating a skeleton app using the <a href="https://start.spring.io/">Spring Initializer</a>, open your browser to <a href="https://start.spring.io/">https://start.spring.io</a> and let's configure our skeleton application as follows:</p>
<ul>
<li>We’ll use a Maven-based build (check Maven checkbox)</li>
<li>And version <strong><code>2.6.4</code></strong> of Spring Boot which is the current version supported by Redis OM Spring</li>
<li>Group: <strong><code>com.redis.om</code></strong></li>
<li>Artifact: <strong><code>skeleton</code></strong></li>
<li>Name: <strong><code>skeleton</code></strong></li>
<li>Description: Skeleton App for Redis OM Spring</li>
<li>Package Name: <strong><code>com.redis.om.skeleton</code></strong></li>
<li>Packaging: JAR</li>
<li>Java: <strong><code>11</code></strong></li>
<li>Dependencies: <strong><code>web</code></strong>, <strong><code>devtools</code></strong> and <strong><code>lombok</code></strong>.</li>
</ul>
<p>The <code>web</code> (Spring Web) gives us the ability to build RESTful applications using Spring MVC. With <code>devtools</code> we get fast application restarts and reloads. And <code>lombok</code> reduces boilerplate code like getters and setters.</p>
<p><img src="./images/001_stack_spring.png" alt="Spring Initializer" title="Spring Initializer"></p>
<p>Click <code>Generate</code> and download the ZIP file, unzip it and load the Maven project into your IDE of choice.</p>
<a class="dashAnchor" name="//apple_ref/Section/Adding%20Redis%20OM%20Spring"></a><h2 id="adding-redis-om-spring">Adding Redis OM Spring</h2>
<p>Open the Maven <code>pom.xml</code> and between the <code>&lt;dependencies&gt;</code> and <code>&lt;build&gt;</code> sections we’ll add the snapshots repositories so that we can get to latest SNAPSHOT release of redis-om-spring:</p>
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;repositories&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;repository&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;id&gt;</span>snapshots-repo<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;url&gt;</span>https://s01.oss.sonatype.org/content/repositories/snapshots/<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/repository&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/repositories&gt;</span></span></span></code></pre></div>
<p>And then in the <code>&lt;dependencies&gt;</code> section add version <code>0.3.0</code> of Redis OM Spring:</p>
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;groupId&gt;</span>com.redis.om<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;artifactId&gt;</span>redis-om-spring<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;version&gt;</span>0.3.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span></span></span></code></pre></div>
<a class="dashAnchor" name="//apple_ref/Section/Adding%20Swagger"></a><h2 id="adding-swagger">Adding Swagger</h2>
<p>We'll use the Swagger UI to test our web services endpoint. To add Swagger 2 to a Spring REST web service, using the Springfox implementation add the following dependencies to the POM:</p>
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;artifactId&gt;</span>springfox-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;version&gt;</span>3.0.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;artifactId&gt;</span>springfox-swagger-ui<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;version&gt;</span>3.0.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span></span></span></code></pre></div>
<p>Let's add Swagger Docker Bean to the Spring App class:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Bean</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">Docket</span> <span class="nf">api</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">new</span> <span class="n">Docket</span><span class="o">(</span><span class="n">DocumentationType</span><span class="o">.</span><span class="na">SWAGGER_2</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="o">.</span><span class="na">select</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">      <span class="o">.</span><span class="na">apis</span><span class="o">(</span><span class="n">RequestHandlerSelectors</span><span class="o">.</span><span class="na">any</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">      <span class="o">.</span><span class="na">paths</span><span class="o">(</span><span class="n">PathSelectors</span><span class="o">.</span><span class="na">any</span><span class="o">())</span>
</span></span><span class="line"><span class="cl">      <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Which will pick up any HTTP endpoints exposed by our application. Add to your app's property file (src/main/resources/application.properties):</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">spring.mvc.pathmatch.matching-strategy<span class="o">=</span>ANT_PATH_MATCHER</span></span></code></pre></div>
<p>And finally, to enable Swagger on the application, we need to use the <code>EnableSwagger2</code> annotation, by
annotating the main application class:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableSwagger2</span>
</span></span><span class="line"><span class="cl"><span class="nd">@SpringBootApplication</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SkeletonApplication</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span></span></span></code></pre></div>
<a class="dashAnchor" name="//apple_ref/Section/Creating%20the%20Domain"></a><h2 id="creating-the-domain">Creating the Domain</h2>
<p>Our domain will be fairly simple; <code>Person</code>s that have <code>Address</code>es. Let's start with the <code>Person</code> entity:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.redis.om.skeleton.models</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.data.annotation.Id</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.data.geo.Point</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.annotations.Document</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.annotations.Indexed</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.annotations.Searchable</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.AccessLevel</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.AllArgsConstructor</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.NonNull</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@RequiredArgsConstructor</span><span class="o">(</span><span class="n">staticName</span> <span class="o">=</span> <span class="s">"of"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nd">@AllArgsConstructor</span><span class="o">(</span><span class="n">access</span> <span class="o">=</span> <span class="n">AccessLevel</span><span class="o">.</span><span class="na">PROTECTED</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Data</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Document</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Id Field, also indexed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Id</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">id</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Indexed for exact text matching
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">firstName</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//Indexed for numeric matches
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//Indexed for Full Text matches
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Searchable</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">personalStatement</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//Indexed for Geo Filtering
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Point</span> <span class="n">homeLoc</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Nest indexed object
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Address</span> <span class="n">address</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span> <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">skills</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>The <code>Person</code> class has the following properties:</p>
<ul>
<li><code>id</code>: An autogenerated <code>String</code> using <a href="https://github.com/ulid/spec">ULIDs</a></li>
<li><code>firstName</code>: A <code>String</code> representing their first or given name.</li>
<li><code>lastName</code>: A <code>String</code> representing their last or surname.</li>
<li><code>age</code>: An <code>Integer</code> representing their age in years.</li>
<li><code>personalStatement</code>: A <code>String</code> representing a personal text statement containing facts or other biographical information.</li>
<li><code>homeLoc</code>: A <code>org.springframework.data.geo.Point</code> representing the geo coordinates.</li>
<li><code>address</code>: An entity of type <code>Address</code> representing the Person's postal address.</li>
<li><code>skills</code>: A <code>Set&lt;String&gt;</code> representing a collection of Strings representing skills the Person possesses.</li>
</ul>
<h3 id="document">@Document</h3>
<p>The <code>Person</code> class (<code>com.redis.om.skeleton.models.Person</code>) is annotated with <code>@Document</code> (<code>com.redis.om.spring.annotations.Document</code>), which is marks the object as a Redis entity to be persisted as a JSON document by the appropriate type of repository.</p>
<h3 id="indexed-and-searchable">@Indexed and @Searchable</h3>
<p>The fields <code>id</code>, <code>firstName</code>, <code>lastName</code>, <code>age</code>, <code>homeLoc</code>, <code>address</code>, and <code>skills</code> are all annotated
with <code>@Indexed</code> (<code>com.redis.om.spring.annotations.Indexed</code>). On entities annotated with <code>@Document</code> Redis OM Spring will scan the fields and add an appropriate search index field to the schema for the entity. For example, for the <code>Person</code> class
an index named <code>com.redis.om.skeleton.models.PersonIdx</code> will be created on application startup. In the index schema, a search field will be added for each <code>@Indexed</code> annotated property. RediSearch, the underlying search engine powering searches, supports Text (full-text searches), Tag (exact-match searches), Numeric (range queries), Geo (geographic range queries), and Vector (vector similarity queries) fields. For <code>@Indexed</code> fields, the appropriate search field (Tag, Numeric, or Geo) is selected based on the property's data type.</p>
<p>Fields marked as <code>@Searchable</code> (<code>com.redis.om.spring.annotations.Searchable</code>) such as <code>personalStatement</code> in <code>Person</code> are reflected as Full-Text search fields in the search index schema.</p>
<h3 id="nested-field-search-capabilities">Nested Field Search Capabilities</h3>
<p>The embedded class <code>Address</code> (<code>com.redis.om.skeleton.models.Address</code>) has several properties annotated with <code>@Indexed</code>  and <code>@Searchable</code>, which will generate search index fields in Redis. The scanning of these fields is triggered by the <code>@Indexed</code> annotation on the <code>address</code> property in the <code>Person</code> class:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.redis.om.skeleton.models</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.annotations.Indexed</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.annotations.Searchable</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.NonNull</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@Data</span>
</span></span><span class="line"><span class="cl"><span class="nd">@RequiredArgsConstructor</span><span class="o">(</span><span class="n">staticName</span> <span class="o">=</span> <span class="s">"of"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Address</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">houseNumber</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Searchable</span><span class="o">(</span><span class="n">nostem</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">street</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">city</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">state</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">postalCode</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nd">@NonNull</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Indexed</span>
</span></span><span class="line"><span class="cl">  <span class="kd">private</span> <span class="n">String</span> <span class="n">country</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<a class="dashAnchor" name="//apple_ref/Section/Spring%20Data%20Repositories"></a><h2 id="spring-data-repositories">Spring Data Repositories</h2>
<p>With the model in place now, we need to create the bridge between the models and the Redis, a Spring Data Repository. Like other Spring Data Repositories, Redis OM Spring data repository's goal is to reduce the boilerplate code required to implement data access significantly. Create a Java interface like:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.redis.om.skeleton.models.repositories</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.skeleton.models.Person</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.repository.RedisDocumentRepository</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PeopleRepository</span> <span class="kd">extends</span> <span class="n">RedisDocumentRepository</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">,</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>That's really all we need to get all the CRUD and Paging/Sorting functionality. The
<code>RedisDocumentRepository</code> (<code>com.redis.om.spring.repository.RedisDocumentRepository</code>) extends <code>PagingAndSortingRepository</code> (<code>org.springframework.data.repository.PagingAndSortingRepository</code>) which extends CrudRepository to provide additional methods to retrieve entities using the pagination and sorting.</p>
<h3 id="enableredisdocumentrepositories">@EnableRedisDocumentRepositories</h3>
<p>Before we can fire up the application, we need to enable our Redis Document repositories. Like most
Spring Data projects, Redis OM Spring provides an annotation to do so; the <code>@EnableRedisDocumentRepositories</code>. We annotate the main application class:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableRedisDocumentRepositories</span><span class="o">(</span><span class="n">basePackages</span> <span class="o">=</span> <span class="s">"com.redis.om.skeleton.*"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nd">@EnableSwagger2</span>
</span></span><span class="line"><span class="cl"><span class="nd">@SpringBootApplication</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SkeletonApplication</span> <span class="o">{</span></span></span></code></pre></div>
<a class="dashAnchor" name="//apple_ref/Section/CRUD%20with%20Repositories"></a><h2 id="crud-with-repositories">CRUD with Repositories</h2>
<p>With the repositories enabled, we can use our repo; let's put in some data to see the object mapping in action. Let’s create <code>CommandLineRunner</code> that will execute on application startup:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SkeletonApplication</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nd">@Bean</span>
</span></span><span class="line"><span class="cl"> <span class="n">CommandLineRunner</span> <span class="nf">loadTestData</span><span class="o">(</span><span class="n">PeopleRepository</span> <span class="n">repo</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="n">args</span> <span class="o">-&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">     <span class="n">repo</span><span class="o">.</span><span class="na">deleteAll</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">String</span> <span class="n">thorSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">The</span> <span class="n">Rabbit</span> <span class="n">Is</span> <span class="n">Correct</span><span class="o">,</span> <span class="n">And</span> <span class="n">Clearly</span> <span class="n">The</span> <span class="n">Smartest</span> <span class="n">One</span> <span class="n">Among</span> <span class="n">You</span><span class="o">.</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="c1">// Serendipity, 248 Seven Mile Beach Rd, Broken Head NSW 2481, Australia
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="n">Address</span> <span class="n">thorsAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"248"</span><span class="o">,</span> <span class="s">"Seven Mile Beach Rd"</span><span class="o">,</span> <span class="s">"Broken Head"</span><span class="o">,</span> <span class="s">"NSW"</span><span class="o">,</span> <span class="s">"2481"</span><span class="o">,</span> <span class="s">"Australia"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">Person</span> <span class="n">thor</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Chris"</span><span class="o">,</span> <span class="s">"Hemsworth"</span><span class="o">,</span> <span class="n">38</span><span class="o">,</span> <span class="n">thorSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">153</span><span class="o">.</span><span class="na">616667</span><span class="o">,</span> <span class="o">-</span><span class="n">28</span><span class="o">.</span><span class="na">716667</span><span class="o">),</span> <span class="n">thorsAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hammer"</span><span class="o">,</span> <span class="s">"biceps"</span><span class="o">,</span> <span class="s">"hair"</span><span class="o">,</span> <span class="s">"heart"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="n">repo</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">thor</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">   <span class="o">};</span>
</span></span><span class="line"><span class="cl"> <span class="o">}</span></span></span></code></pre></div>
<p>In the <code>loadTestData</code> method, we will take an instance of the <code>PeopleRepository</code> (thank you, Spring, for Dependency Injection!). Inside the returned lambda, we will first call the repo’s <code>deleteAll</code> method, which will ensure that we have clean data on each application reload.</p>
<p>We create a <code>Person</code> object using the Lombok generated builder method and then save it using the repo’s <code>save</code> method.</p>
<h3 id="keeping-tabs-with-redis-insight">Keeping tabs with Redis Insight</h3>
<p>Let’s launch RedisInsight and connect to the localhost at port 6379. With a clean Redis Stack install, we can use the built-in CLI to check the keys in the system:</p>
<p><img src="./images/002_stack_spring.png" alt="RedisInsight" title="RedisInsight"></p>
<p>For a small amount of data, you can use the <code>keys</code> command (for any significant amount of data, use <code>scan</code>):</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">keys *</span></span></code></pre></div>
<p>If you want to keep an eye on the commands issued against the server, RedisInsight provides a
profiler. If you click the "profile" button at the bottom of the screen, it should reveal the profiler window, and there you can start the profiler by clicking on the “Start Profiler” arrow.</p>
<p>Let's start our Spring Boot application by using the Maven command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./mvnw spring-boot:run</span></span></code></pre></div>
<p>On RedisInsight, if the application starts correctly, you should see a barrage of commands fly by on the profiler:</p>
<p><img src="./images/003_stack_spring.png" alt="RedisInsight" title="RedisInsight"></p>
<p>Now we can inspect the newly loaded data by simply refreshing the "Keys" view:</p>
<p><img src="./images/004_stack_spring.png" alt="RedisInsight" title="RedisInsight"></p>
<p>You should now see two keys; one for the JSON document for “Thor” and one for the Redis Set that Spring Data Redis (and Redis OM Spring) use to maintain the list of primary keys for an entity.</p>
<p>You can select any of the keys on the key list to reveal their contents on the details panel. For JSON documents, we get a nice tree-view:</p>
<p><img src="./images/005_stack_spring.png" alt="RedisInsight" title="RedisInsight"></p>
<p>Several Redis commands were executed on application startup. Let’s break them down so that we can understand what's transpired.</p>
<h3 id="index-creation">Index Creation</h3>
<p>The first one is a call to <a href="../../../../commands/ft.create.html"><code>FT.CREATE</code></a>, which happens after Redis OM Spring scanned the <code>@Document</code> annotations. As you can see, since it encountered the annotation on <code>Person</code>, it creates the  <code>PersonIdx</code> index.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="s2">"FT.CREATE"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"com.redis.om.skeleton.models.PersonIdx"</span> <span class="s2">"ON"</span> <span class="s2">"JSON"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"PREFIX"</span> <span class="s2">"1"</span> <span class="s2">"com.redis.om.skeleton.models.Person:"</span>
</span></span><span class="line"><span class="cl"><span class="s2">"SCHEMA"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.id"</span> <span class="s2">"AS"</span> <span class="s2">"id"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.firstName"</span> <span class="s2">"AS"</span> <span class="s2">"firstName"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.lastName"</span> <span class="s2">"AS"</span> <span class="s2">"lastName"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.age"</span> <span class="s2">"AS"</span> <span class="s2">"age"</span> <span class="s2">"NUMERIC"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.personalStatement"</span> <span class="s2">"AS"</span> <span class="s2">"personalStatement"</span> <span class="s2">"TEXT"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.homeLoc"</span> <span class="s2">"AS"</span> <span class="s2">"homeLoc"</span> <span class="s2">"GEO"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.houseNumber"</span> <span class="s2">"AS"</span> <span class="s2">"address_houseNumber"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.street"</span> <span class="s2">"AS"</span> <span class="s2">"address_street"</span> <span class="s2">"TEXT"</span> <span class="s2">"NOSTEM"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.city"</span> <span class="s2">"AS"</span> <span class="s2">"address_city"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.state"</span> <span class="s2">"AS"</span> <span class="s2">"address_state"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.postalCode"</span> <span class="s2">"AS"</span> <span class="s2">"address_postalCode"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.address.country"</span> <span class="s2">"AS"</span> <span class="s2">"address_country"</span> <span class="s2">"TAG"</span>
</span></span><span class="line"><span class="cl">  <span class="s2">"</span>$<span class="s2">.skills[*]"</span> <span class="s2">"AS"</span> <span class="s2">"skills"</span></span></span></code></pre></div>
<h3 id="cleaning-the-person-repository">Cleaning the Person Repository</h3>
<p>The next set of commands are generated by the call to <code>repo.deleteAll()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="s2">"DEL"</span> <span class="s2">"com.redis.om.skeleton.models.Person"</span>
</span></span><span class="line"><span class="cl"><span class="s2">"KEYS"</span> <span class="s2">"com.redis.om.skeleton.models.Person:*"</span></span></span></code></pre></div>
<p>The first call clears the set of Primary Keys that Spring Data Redis maintains (and therefore Redis OM Spring), the second call collects all the keys to delete them, but there are none to delete on this first load of the data.</p>
<h3 id="saving-person-entities">Saving Person Entities</h3>
<p>The next repo call is <code>repo.save(thor)</code> that triggers the following sequence:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="s2">"SISMEMBER"</span> <span class="s2">"com.redis.om.skeleton.models.Person"</span> <span class="s2">"01FYANFH68J6WKX2PBPX21RD9H"</span>
</span></span><span class="line"><span class="cl"><span class="s2">"EXISTS"</span> <span class="s2">"com.redis.om.skeleton.models.Person:01FYANFH68J6WKX2PBPX21RD9H"</span>
</span></span><span class="line"><span class="cl"><span class="s2">"JSON.SET"</span> <span class="s2">"com.redis.om.skeleton.models.Person:01FYANFH68J6WKX2PBPX21RD9H"</span> <span class="s2">"."</span> <span class="s2">"{"</span>id<span class="s2">":"</span>01FYANFH68J6WKX2PBPX21RD9H<span class="s2">","</span>firstName<span class="s2">":"</span>Chris<span class="s2">","</span>lastName<span class="s2">":"</span>Hemsworth<span class="s2">","</span>age<span class="s2">":38,"</span>personalStatement<span class="s2">":"</span>The Rabbit Is Correct, And Clearly The Smartest One Among You.<span class="s2">","</span>homeLoc<span class="s2">":"</span>153.616667,-28.716667<span class="s2">","</span>address<span class="s2">":{"</span>houseNumber<span class="s2">":"</span>248<span class="s2">","</span>street<span class="s2">":"</span>Seven Mile Beach Rd<span class="s2">","</span>city<span class="s2">":"</span>Broken Head<span class="s2">","</span>state<span class="s2">":"</span>NSW<span class="s2">","</span>postalCode<span class="s2">":"</span>2481<span class="s2">","</span>country<span class="s2">":"</span>Australia<span class="s2">"},"</span>skills<span class="s2">":["</span>biceps<span class="s2">","</span>hair<span class="s2">","</span>heart<span class="s2">","</span>hammer<span class="s2">"]}
</span></span></span><span class="line"><span class="cl"><span class="s2">"</span>SADD<span class="s2">" "</span>com.redis.om.skeleton.models.Person<span class="s2">" "</span>01FYANFH68J6WKX2PBPX21RD9H<span class="s2">"</span></span></span></code></pre></div>
<p>Let's break it down:</p>
<ul>
<li>The first call uses the generated ULID to check if the id is in the set of primary keys (if it is, it’ll be removed)</li>
<li>The second call checks if JSON document exists (if it is, it’ll be removed)</li>
<li>The third call uses the <a href="../../../../commands/json.set.html"><code>JSON.SET</code></a> command to save the JSON payload</li>
<li>The last call adds the primary key of the saved document to the set of primary keys</li>
</ul>
<p>Now that we’ve seen the repository in action via the <code>.save</code> method, we know that the trip from Java to Redis work. Now let’s add some more data to make the interactions more interesting:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Bean</span>
</span></span><span class="line"><span class="cl"><span class="n">CommandLineRunner</span> <span class="nf">loadTestData</span><span class="o">(</span><span class="n">PeopleRepository</span> <span class="n">repo</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">args</span> <span class="o">-&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">repo</span><span class="o">.</span><span class="na">deleteAll</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">thorSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">The</span> <span class="n">Rabbit</span> <span class="n">Is</span> <span class="n">Correct</span><span class="o">,</span> <span class="n">And</span> <span class="n">Clearly</span> <span class="n">The</span> <span class="n">Smartest</span> <span class="n">One</span> <span class="n">Among</span> <span class="n">You</span><span class="o">.</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">ironmanSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">Doth</span> <span class="n">mother</span> <span class="n">know</span> <span class="n">you</span> <span class="n">weareth</span> <span class="n">her</span> <span class="n">drapes</span><span class="o">?</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">blackWidowSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">Hey</span><span class="o">,</span> <span class="n">fellas</span><span class="o">.</span> <span class="n">Either</span> <span class="n">one</span> <span class="n">of</span> <span class="n">you</span> <span class="n">know</span> <span class="n">where</span> <span class="n">the</span> <span class="n">Smithsonian</span> <span class="n">is</span><span class="o">?</span> <span class="n">I</span><span class="err">’</span><span class="n">m</span> <span class="n">here</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">up</span> <span class="n">a</span> <span class="n">fossil</span><span class="o">.</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">wandaMaximoffSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">You</span> <span class="n">Guys</span> <span class="n">Know</span> <span class="n">I</span> <span class="n">Can</span> <span class="n">Move</span> <span class="n">Things</span> <span class="n">With</span> <span class="n">My</span> <span class="n">Mind</span><span class="o">,</span> <span class="n">Right</span><span class="o">?</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">gamoraSays</span> <span class="o">=</span> <span class="err">“</span><span class="n">I</span> <span class="n">Am</span> <span class="n">Going</span> <span class="n">To</span> <span class="n">Die</span> <span class="n">Surrounded</span> <span class="n">By</span> <span class="n">The</span> <span class="n">Biggest</span> <span class="n">Idiots</span> <span class="n">In</span> <span class="n">The</span> <span class="n">Galaxy</span><span class="o">.</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">nickFurySays</span> <span class="o">=</span> <span class="err">“</span><span class="n">Sir</span><span class="o">,</span> <span class="n">I</span><span class="err">’</span><span class="n">m</span> <span class="n">Gonna</span> <span class="n">Have</span> <span class="n">To</span> <span class="n">Ask</span> <span class="n">You</span> <span class="n">To</span> <span class="n">Exit</span> <span class="n">The</span> <span class="n">Donut</span><span class="err">”</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Serendipity, 248 Seven Mile Beach Rd, Broken Head NSW 2481, Australia
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">thorsAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"248"</span><span class="o">,</span> <span class="s">"Seven Mile Beach Rd"</span><span class="o">,</span> <span class="s">"Broken Head"</span><span class="o">,</span> <span class="s">"NSW"</span><span class="o">,</span> <span class="s">"2481"</span><span class="o">,</span> <span class="s">"Australia"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 11 Commerce Dr, Riverhead, NY 11901
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">ironmansAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"11"</span><span class="o">,</span> <span class="s">"Commerce Dr"</span><span class="o">,</span> <span class="s">"Riverhead"</span><span class="o">,</span> <span class="s">"NY"</span><span class="o">,</span>  <span class="s">"11901"</span><span class="o">,</span> <span class="s">"US"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 605 W 48th St, New York, NY 10019
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">blackWidowAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"605"</span><span class="o">,</span> <span class="s">"48th St"</span><span class="o">,</span> <span class="s">"New York"</span><span class="o">,</span> <span class="s">"NY"</span><span class="o">,</span> <span class="s">"10019"</span><span class="o">,</span> <span class="s">"US"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 20 W 34th St, New York, NY 10001
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">wandaMaximoffsAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"20"</span><span class="o">,</span> <span class="s">"W 34th St"</span><span class="o">,</span> <span class="s">"New York"</span><span class="o">,</span> <span class="s">"NY"</span><span class="o">,</span> <span class="s">"10001"</span><span class="o">,</span> <span class="s">"US"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 107 S Beverly Glen Blvd, Los Angeles, CA 90024
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">gamorasAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"107"</span><span class="o">,</span> <span class="s">"S Beverly Glen Blvd"</span><span class="o">,</span> <span class="s">"Los Angeles"</span><span class="o">,</span> <span class="s">"CA"</span><span class="o">,</span> <span class="s">"90024"</span><span class="o">,</span> <span class="s">"US"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 11461 Sunset Blvd, Los Angeles, CA 90049
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Address</span> <span class="n">nickFuryAddress</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"11461"</span><span class="o">,</span> <span class="s">"Sunset Blvd"</span><span class="o">,</span> <span class="s">"Los Angeles"</span><span class="o">,</span> <span class="s">"CA"</span><span class="o">,</span> <span class="s">"90049"</span><span class="o">,</span> <span class="s">"US"</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">thor</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Chris"</span><span class="o">,</span> <span class="s">"Hemsworth"</span><span class="o">,</span> <span class="n">38</span><span class="o">,</span> <span class="n">thorSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">153</span><span class="o">.</span><span class="na">616667</span><span class="o">,</span> <span class="o">-</span><span class="n">28</span><span class="o">.</span><span class="na">716667</span><span class="o">),</span> <span class="n">thorsAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hammer"</span><span class="o">,</span> <span class="s">"biceps"</span><span class="o">,</span> <span class="s">"hair"</span><span class="o">,</span> <span class="s">"heart"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">ironman</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Robert"</span><span class="o">,</span> <span class="s">"Downey"</span><span class="o">,</span> <span class="n">56</span><span class="o">,</span> <span class="n">ironmanSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">40</span><span class="o">.</span><span class="na">9190747</span><span class="o">,</span> <span class="o">-</span><span class="n">72</span><span class="o">.</span><span class="na">5371874</span><span class="o">),</span> <span class="n">ironmansAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"tech"</span><span class="o">,</span> <span class="s">"money"</span><span class="o">,</span> <span class="s">"one-liners"</span><span class="o">,</span> <span class="s">"intelligence"</span><span class="o">,</span> <span class="s">"resources"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">blackWidow</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Scarlett"</span><span class="o">,</span> <span class="s">"Johansson"</span><span class="o">,</span> <span class="n">37</span><span class="o">,</span> <span class="n">blackWidowSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">40</span><span class="o">.</span><span class="na">7215259</span><span class="o">,</span> <span class="o">-</span><span class="n">74</span><span class="o">.</span><span class="na">0129994</span><span class="o">),</span> <span class="n">blackWidowAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"deception"</span><span class="o">,</span> <span class="s">"martial_arts"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">wandaMaximoff</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Elizabeth"</span><span class="o">,</span> <span class="s">"Olsen"</span><span class="o">,</span> <span class="n">32</span><span class="o">,</span> <span class="n">wandaMaximoffSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">40</span><span class="o">.</span><span class="na">6976701</span><span class="o">,</span> <span class="o">-</span><span class="n">74</span><span class="o">.</span><span class="na">2598641</span><span class="o">),</span> <span class="n">wandaMaximoffsAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"magic"</span><span class="o">,</span> <span class="s">"loyalty"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">gamora</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Zoe"</span><span class="o">,</span> <span class="s">"Saldana"</span><span class="o">,</span> <span class="n">43</span><span class="o">,</span> <span class="n">gamoraSays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(-</span><span class="n">118</span><span class="o">.</span><span class="na">399968</span><span class="o">,</span> <span class="n">34</span><span class="o">.</span><span class="na">073087</span><span class="o">),</span> <span class="n">gamorasAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"skills"</span><span class="o">,</span> <span class="s">"martial_arts"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Person</span> <span class="n">nickFury</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Samuel L."</span><span class="o">,</span> <span class="s">"Jackson"</span><span class="o">,</span> <span class="n">73</span><span class="o">,</span> <span class="n">nickFurySays</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(-</span><span class="n">118</span><span class="o">.</span><span class="na">4345534</span><span class="o">,</span> <span class="n">34</span><span class="o">.</span><span class="na">082615</span><span class="o">),</span> <span class="n">nickFuryAddress</span><span class="o">,</span> <span class="n">Set</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"planning"</span><span class="o">,</span> <span class="s">"deception"</span><span class="o">,</span> <span class="s">"resources"</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">repo</span><span class="o">.</span><span class="na">saveAll</span><span class="o">(</span><span class="n">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">thor</span><span class="o">,</span> <span class="n">ironman</span><span class="o">,</span> <span class="n">blackWidow</span><span class="o">,</span> <span class="n">wandaMaximoff</span><span class="o">,</span> <span class="n">gamora</span><span class="o">,</span> <span class="n">nickFury</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">  <span class="o">};</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>We have 6 People in the database now; since we’re using the devtools in Spring, the app should have reloaded, and the database reseeded with new data. Press enter the key pattern input box in RedisInsight to refresh the view. Notice that we used the repository’s <code>saveAll</code> to save several objects in bulk.</p>
<p><img src="./images/006_stack_spring.png" alt="RedisInsight" title="RedisInsight"></p>
<a class="dashAnchor" name="//apple_ref/Section/Web%20Service%20Endpoints"></a><h2 id="web-service-endpoints">Web Service Endpoints</h2>
<p>Before we beef up the repository with more interesting queries, let’s create a controller so that we can test our queries using the Swagger UI:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.redis.om.skeleton.controllers</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.skeleton.models.Person</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.skeleton.models.repositories.PeopleRepository</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@RestController</span>
</span></span><span class="line"><span class="cl"><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/api/v1/people"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PeopleControllerV1</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"> <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl"> <span class="n">PeopleRepository</span> <span class="n">repo</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"all"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">all</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>In this controller, we inject a repository and use one of the CRUD methods, <code>findAll()</code>, to return all the <code>Person</code> documents in the database.</p>
<p>If we navigate to http://localhost:8080/swagger-ui/ you should see the Swagger UI:</p>
<p><img src="./images/007_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>We can see the <code>/all</code> method from our people-controller-v-1, expanding that you should see:</p>
<p><img src="./images/008_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>And if you select “Try it out” and then “Execute,” you should see the resulting JSON array containing all People documents in the database:</p>
<p><img src="./images/009_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Let’s also add the ability to retrieve a Person by its id by using the repo’s findById method:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"{id}"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byId</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="n">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Refreshing the Swagger UI, we should see the newly added endpoint. We can grab an id using the <a href="../../../../commands/srandmember.html"><code>SRANDMEMBER</code></a> command on the RedisInsight CLI like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">SRANDMEMBER com.redis.om.skeleton.models.Person</span></span></code></pre></div>
<p>Plugging the resulting ID in the Swagger UI, we can get the corresponding  JSON document:</p>
<p><img src="./images/010_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<a class="dashAnchor" name="//apple_ref/Section/Custom%20Repository%20Finders"></a><h2 id="custom-repository-finders">Custom Repository Finders</h2>
<p>Now that we tested quite a bit of the CRUD functionality, let's add some custom finders to our repository. We’ll start with a finder over a numeric range, on the <code>age</code> property of <code>Person</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PeopleRepository</span> <span class="kd">extends</span> <span class="n">RedisDocumentRepository</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">,</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// Find people by age range
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByAgeBetween</span><span class="o">(</span><span class="kt">int</span> <span class="n">minAge</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxAge</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>At runtime, the repository method <code>findByAgeBetween</code> is fulfilled by the framework, so all you need to do is declare it, and Redis OM Spring will handle the querying and mapping of the results. The property or properties to be used are picked after the key phrase "findBy". The "Between" keyword is the predicate that tells the query builder what operation to use.</p>
<p>To test it on the Swagger UI, let’s add a corresponding method to the controller:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"age_between"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byAgeBetween</span><span class="o">(</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"min"</span><span class="o">)</span> <span class="kt">int</span> <span class="n">min</span><span class="o">,</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"max"</span><span class="o">)</span> <span class="kt">int</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findByAgeBetween</span><span class="o">(</span><span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Refreshing the UI, we can see the new endpoint. Let’s try it with some data:</p>
<p><img src="./images/011_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Invoke the endpoint with the value <code>30</code> for <code>min</code> and <code>37</code> for <code>max</code> we get two hits;
“Scarlett Johansson” and “Elizabeth Olsen” are the only two people with ages between 30 and 37.</p>
<p><img src="./images/012_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>If we look at the RedisInsight Profiler, we can see the resulting query, which is a range query on the index numeric field <code>age</code>:</p>
<p><img src="./images/013_stack_spring.png" alt="RedisInsight" title="RedisInsight Profiler"></p>
<p>We can also create query methods with more than one property. For example, if we wanted to do a query by first and last names, we would declare a repository method like:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Find people by their first and last name
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByFirstNameAndLastName</span><span class="o">(</span><span class="n">String</span> <span class="n">firstName</span><span class="o">,</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">);</span></span></span></code></pre></div>
<p>Let’s add a corresponding controller method:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"name"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byFirstNameAndLastName</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"first"</span><span class="o">)</span> <span class="n">String</span> <span class="n">firstName</span><span class="o">,</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"last"</span><span class="o">)</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findByFirstNameAndLastName</span><span class="o">(</span><span class="n">firstName</span><span class="o">,</span> <span class="n">lastName</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Once again, we can refresh the swagger UI and test the newly created endpoint:</p>
<p><img src="./images/014_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Executing the request with the first name <code>Robert</code> and last name <code>Downey</code>, we get:</p>
<p><img src="./images/015_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>And the resulting query on RedisInsight:</p>
<p><img src="./images/016_stack_spring.png" alt="RedisInsight" title="RedisInsight Profiler"></p>
<p>Now let’s try a Geospatial query. The <code>homeLoc</code> property is a Geo Point, and by using the “Near” predicate in our method declaration, we can get a finder that takes a point and a radius around that point to search:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Draws a circular geofilter around a spot and returns all people in that
</span></span></span><span class="line"><span class="cl"><span class="c1">// radius
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByHomeLocNear</span><span class="o">(</span><span class="n">Point</span> <span class="n">point</span><span class="o">,</span> <span class="n">Distance</span> <span class="n">distance</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">And</span> <span class="n">the</span> <span class="n">corresponding</span> <span class="n">controller</span> <span class="n">method</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"homeloc"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byHomeLoc</span><span class="o">(</span><span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"lat"</span><span class="o">)</span> <span class="kt">double</span> <span class="n">lat</span><span class="o">,</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"lon"</span><span class="o">)</span> <span class="kt">double</span> <span class="n">lon</span><span class="o">,</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"d"</span><span class="o">)</span> <span class="kt">double</span> <span class="n">distance</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findByHomeLocNear</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="n">lon</span><span class="o">,</span> <span class="n">lat</span><span class="o">),</span> <span class="k">new</span> <span class="n">Distance</span><span class="o">(</span><span class="n">distance</span><span class="o">,</span> <span class="n">Metrics</span><span class="o">.</span><span class="na">MILES</span><span class="o">));</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Refreshing the Swagger US, we should now see the <code>byHomeLoc</code> endpoint. Let’s see which of the Avengers live within 10 miles of Suffolk Park Pub in South Wales, Australia... hmmm.</p>
<p><img src="./images/017_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Executing the request, we get the record for Chris Hemsworth:</p>
<p><img src="./images/018_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>and in Redis Insight we can see the backing RediSearch query:</p>
<p><img src="./images/019_stack_spring.png" alt="RedisInsight" title="RedisInsight Profiler"></p>
<p>Let’s try a full-text search query against the <code>personalStatement</code> property. To do so, we prefix our query method with the word <code>search</code> as shown below:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Performs full-text search on a person’s personal Statement
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">searchByPersonalStatement</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">);</span></span></span></code></pre></div>
<p>And the corresponding controller method:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"statement"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byPersonalStatement</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"q"</span><span class="o">)</span> <span class="n">String</span> <span class="n">q</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">searchByPersonalStatement</span><span class="o">(</span><span class="n">q</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Once again, we can try it on the Swagger UI with the text “mother”:</p>
<p><img src="./images/020_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Which results in a single hit, the record for Robert Downey Jr.:</p>
<p><img src="./images/021_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>Notice that you can pass a query string like “moth*” with wildcards if needed</p>
<p><img src="./images/022_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<h3 id="nested-object-searches">Nested object searches</h3>
<p>You’ve noticed that the <code>address</code> object in <code>Person</code> is mapped as a JSON object. If we want to search by address fields, we use an underscore to access the nested fields. For example, if we wanted to find a Person by their city, the method signature would be:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Performing a tag search on city
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByAddress_City</span><span class="o">(</span><span class="n">String</span> <span class="n">city</span><span class="o">);</span></span></span></code></pre></div>
<p>Let’s add the matching controller method so that we can test it:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"city"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byCity</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"city"</span><span class="o">)</span> <span class="n">String</span> <span class="n">city</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findByAddress_City</span><span class="o">(</span><span class="n">city</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Let’s test the byCity endpoint:</p>
<p><img src="./images/023_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>As expected, we should get two hits; Scarlett Johansson and Elizabeth Olsen, both with addresses in Nee York:</p>
<p><img src="./images/024_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>The skills set is indexed as tag search. To find a Person with any of the skills in a provided list, we can add a repository method like:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Search Persons that have one of multiple skills (OR condition)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findBySkills</span><span class="o">(</span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">skills</span><span class="o">);</span></span></span></code></pre></div>
<p>And the corresponding controller method:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"skills"</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">byAnySkills</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"skills"</span><span class="o">)</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">skills</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="na">findBySkills</span><span class="o">(</span><span class="n">skills</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>Let's test the endpoint with the value "deception":</p>
<p><img src="./images/025_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>The search returns the records for Scarlett Johansson and Samuel L. Jackson:</p>
<p><img src="./images/026_stack_spring.png" alt="SwaggerUI" title="SwaggerUI"></p>
<p>We can see the backing RediSearch query using a tag search:</p>
<p><img src="./images/027_stack_spring.png" alt="RedisInsight" title="RedisInsight Profiler"></p>
<a class="dashAnchor" name="//apple_ref/Section/Fluid%20Searching%20with%20Entity%20Streams"></a><h2 id="fluid-searching-with-entity-streams">Fluid Searching with Entity Streams</h2>
<p>Redis OM Spring Entity Streams provides a Java 8 Streams interface to Query Redis JSON documents using RediSearch. Entity Streams allow you to process data in a typesafe declarative way similar to SQL statements. Streams can be used to express a query as a chain of operations.</p>
<p>Entity Streams in Redis OM Spring provide the same semantics as Java 8 streams. Streams can be made of Redis Mapped entities (<code>@Document</code>) or one or more properties of an Entity. Entity Streams progressively build the query until a terminal operation is invoked (such as <code>collect</code>). Whenever a Terminal operation is applied to a Stream, the Stream cannot accept additional operations to its pipeline, which means that the Stream is started.</p>
<p>Let’s start with a simple example, a Spring <code>@Service</code> which includes <code>EntityStream</code> to query for instances of the mapped class <code>Person</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.redis.om.skeleton.services</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.skeleton.models.Person</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.skeleton.models.Person</span><span class="n">$</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.redis.om.spring.search.stream.EntityStream</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@Service</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PeopleService</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl">  <span class="n">EntityStream</span> <span class="n">entityStream</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Find all people
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kd">public</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findAllPeople</span><span class="o">(</span><span class="kt">int</span> <span class="n">minAge</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxAge</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">entityStream</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Person</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>The <code>EntityStream</code> is injected into the <code>PeopleService</code> using <code>@Autowired</code>. We can then get a stream for <code>Person</code> objects by using <code>entityStream.of(Person.class)</code>. The stream represents the equivalent of a <code>SELECT * FROM Person</code> on a relational database. The call to <code>collect</code> will then execute the underlying query and return a collection of all <code>Person</code> objects in Redis.</p>
<h3 id="entity-meta-model">Entity Meta-model</h3>
<p>You’re provided with a generated meta-model to produce more elaborate queries, a class with the same name as your model but ending with a dollar sign. In the
example below, our entity model is <code>Person</code>; therefore, we get a meta-model named <code>Person$</code>. With the meta-model, you have access to the
underlying search engine field operations. For example, we have an <code>age</code> property which is an integer. Therefore our meta-model has an <code>AGE</code> property with
numeric operations we can use with the stream’s <code>filter</code> method such as <code>between</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Find people by age range
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByAgeBetween</span><span class="o">(</span><span class="kt">int</span> <span class="n">minAge</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxAge</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">entityStream</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Person</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">Person$</span><span class="o">.</span><span class="na">AGE</span><span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="n">minAge</span><span class="o">,</span> <span class="n">maxAge</span><span class="o">))</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">sorted</span><span class="o">(</span><span class="n">Person$</span><span class="o">.</span><span class="na">AGE</span><span class="o">,</span> <span class="n">SortOrder</span><span class="o">.</span><span class="na">ASC</span><span class="o">)</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>In this example, we also use the Streams <code>sorted</code> method to declare that our stream will be sorted by the <code>Person$.AGE</code> in <code>ASC</code>ending order.</p>
<p>To "AND" property expressions we can chain multiple <code>.filter</code> statements. For example, to recreate
the finder by first and last name we can use an Entity Stream in the following way:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// Find people by their first and last name
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">findByFirstNameAndLastName</span><span class="o">(</span><span class="n">String</span> <span class="n">firstName</span><span class="o">,</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">entityStream</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Person</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">Person$</span><span class="o">.</span><span class="na">FIRST_NAME</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">firstName</span><span class="o">))</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">Person$</span><span class="o">.</span><span class="na">LAST_NAME</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">lastName</span><span class="o">))</span> <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<p>In this article, we explored how Redis OM Spring provides a couple of APIs to tap into the power of Redis Stack’s document database and search capabilities from Spring Boot application. We’ll explore other Redis Stack capabilities via Redis OM Spring in future articles</p>

          
  <form class="page-feedback" method="POST" name="page-feedback"><input type="hidden" name="form-name" value="page-feedback">
    <input name="origin" value="https://redis.io/docs/stack/get-started/tutorials/stack-spring/" class="hidden">
  <div class="grid justify-center mt-10 pt-10 border-t-2">
    <span class="font-bold font-small">Rate this page</span>
    <div class="star-rating">
      
      <input type="radio" id="5-stars" name="rating" value="5" onchange="document.querySelector('#feedback-form').classList.remove('hidden')">
      <label for="5-stars" class="star">★</label>
      
      <input type="radio" id="4-stars" name="rating" value="4" onchange="document.querySelector('#feedback-form').classList.remove('hidden')">
      <label for="4-stars" class="star">★</label>
      
      <input type="radio" id="3-stars" name="rating" value="3" onchange="document.querySelector('#feedback-form').classList.remove('hidden')">
      <label for="3-stars" class="star">★</label>
      
      <input type="radio" id="2-stars" name="rating" value="2" onchange="document.querySelector('#feedback-form').classList.remove('hidden')">
      <label for="2-stars" class="star">★</label>
      
      <input type="radio" id="1-stars" name="rating" value="1" onchange="document.querySelector('#feedback-form').classList.remove('hidden')">
      <label for="1-stars" class="star">★</label>
      
    </div>  
  </div>
  <div id="feedback-form" class="hidden">
    <div class="feedback-submit">
      <textarea name="comment" placeholder="Why did you choose this rating?" class="border border-neutral-500 p-2 mt-1 block w-full h-24" rows="3"></textarea>
      <button class="button button-indigo w-min justify-self-end" type="submit">
        Submit
      </button>
    </div>
  </div>
</form>
      </section>
    </div>
    

  <section class="hidden xl:block w-52 h-full shrink-0">
    <div class="w-52 z-40 hidden bg-white/75 md:block overflow-auto fixed top-28 h-full max-h-[calc(100vh-15rem)] text-[0.8125rem]">
      





<nav class="flex flex-col gap-1 mb-6 pb-2 border-b-2">
  <a href="https://github.com/redis-stack/redis-stack-docs/edit/main/docs/stack/get-started/tutorials/stack-spring.md" target="_blank" class="group inline-flex items-center gap-1 text-sm text-slate-700 hover:text-indigo-600 mt-auto self-start">
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <path d="M11 44q-1.2 0-2.1-.9Q8 42.2 8 41V7q0-1.2.9-2.1Q9.8 4 11 4h17l12 12v7.8h-3V18H26V7H11v34h15v3Zm0-3V7v34Zm26.8-11.15 1.4 1.4-8.2 8.2V42h2.55l8.2-8.2 1.4 1.4-8.8 8.8H29v-5.35Zm5.35 5.35-5.35-5.35 3.05-3.05q.45-.45 1.05-.45.6 0 1.05.45l3.25 3.25q.45.45.45 1.05 0 .6-.45 1.05Z" fill="currentColor"></path>
    </svg>
    Edit this page
  </a>
  <a href="https://github.com/redis-stack/redis-stack-docs/issues/new?title=Redis%20OM%20Spring" target="_blank" class="group inline-flex items-center gap-1 text-sm text-slate-700 hover:text-indigo-600 mt-auto self-start">
    <svg class="w-4 h-4" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path>
    </svg>
    Create an issue
  </a>
</nav>


      
        <h1 class="font-semibold my-3">On This Page</h1>
        <nav class="text-slate-700">
          <nav id="TableOfContents">
  <ul>
    <li><a href="#what-youll-need">What you’ll need:</a></li>
    <li><a href="#spring-boot-scaffold-with-spring-initializer">Spring Boot scaffold with Spring Initializer</a></li>
    <li><a href="#adding-redis-om-spring">Adding Redis OM Spring</a></li>
    <li><a href="#adding-swagger">Adding Swagger</a></li>
    <li><a href="#creating-the-domain">Creating the Domain</a>
      <ul>
        <li><a href="#document">@Document</a></li>
        <li><a href="#indexed-and-searchable">@Indexed and @Searchable</a></li>
        <li><a href="#nested-field-search-capabilities">Nested Field Search Capabilities</a></li>
      </ul>
    </li>
    <li><a href="#spring-data-repositories">Spring Data Repositories</a>
      <ul>
        <li><a href="#enableredisdocumentrepositories">@EnableRedisDocumentRepositories</a></li>
      </ul>
    </li>
    <li><a href="#crud-with-repositories">CRUD with Repositories</a>
      <ul>
        <li><a href="#keeping-tabs-with-redis-insight">Keeping tabs with Redis Insight</a></li>
        <li><a href="#index-creation">Index Creation</a></li>
        <li><a href="#cleaning-the-person-repository">Cleaning the Person Repository</a></li>
        <li><a href="#saving-person-entities">Saving Person Entities</a></li>
      </ul>
    </li>
    <li><a href="#web-service-endpoints">Web Service Endpoints</a></li>
    <li><a href="#custom-repository-finders">Custom Repository Finders</a>
      <ul>
        <li><a href="#nested-object-searches">Nested object searches</a></li>
      </ul>
    </li>
    <li><a href="#fluid-searching-with-entity-streams">Fluid Searching with Entity Streams</a>
      <ul>
        <li><a href="#entity-meta-model">Entity Meta-model</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </nav>
        
    </div>
  </section>


  </main>


    <footer class="bg-midnight-700 relative z-50">
      <p class="container max-w-[85rem] mx-auto px-4 sm:px-8 py-8 text-slate-400 text-sm text-center">
  This is a community website sponsored by <a href="https://redis.com/" class="text-white underline underline-offset-1 decoration-transparent hover:decoration-slate-500 transition-colors">Redis Ltd.</a> © 2023. Redis and the cube logo are registered trademarks of Redis Ltd. <a href="../../../../terms.html" class="text-white underline underline-offset-1 decoration-transparent hover:decoration-slate-500 transition-colors">Terms of use &amp; privacy policy</a>.
</p>

      <script>
  
  document.addEventListener('DOMContentLoaded', () => {

    const TableOfContents = {
      container: document.querySelector('#TableOfContents'),
      links: null,
      headings: null,
      intersectionOptions: {
        rootMargin: '0px',
        threshold: 1
      },
      previousSection: null,
      observer: null,

      init() {
        if (!this.container) return false

        this.handleObserver = this.handleObserver.bind(this)
        this.setUpObserver()
        this.findLinksAndHeadings()
        this.observeSections()
      },

      handleObserver(entries, observer) {
        entries.forEach(entry => {
          let href = `#${entry.target.getAttribute('id')}`
          let link = this.links.find(l => l.getAttribute('href') === href)

          if (entry.isIntersecting && entry.intersectionRatio >= 1) {
            link.classList.add('visible')
            this.previousSection = entry.target.getAttribute('id')
          } else {
            link.classList.remove('visible')
          }

          this.highlightFirstActive()
        })
      },

      highlightFirstActive() {
        let firstVisibleLink = this.container.querySelector('.visible')

        this.links.forEach(link => {
          link.classList.remove('active')
        })

        if (firstVisibleLink) {
          firstVisibleLink.classList.add('active')
        }

        if (!firstVisibleLink && this.previousSection) {
          this.container.querySelector(
            `a[href="#${this.previousSection}"]`
          ).classList.add('active')
        }
      },

      observeSections() {
        this.headings.forEach(heading => {
          this.observer.observe(heading)
        })
      },

      setUpObserver() {
        this.observer = new IntersectionObserver(
          this.handleObserver,
          this.intersectionOptions
        )
      },

      findLinksAndHeadings() {
        this.links = [...this.container.querySelectorAll('a')]
        this.headings = this.links.map(link => {
          let id = link.getAttribute('href')
          return document.querySelector(id)
        })
      }
    }

    TableOfContents.init()

})
</script>
    </footer>

    
<div class="sr-only w-screen h-screen fixed z-[200] top-0 left-0 cursor-auto flex flex-col bg-slate-900/75 p-4 sm:p-6 md:p-[10vh] lg:p-[12vh]" id="search-container" role="button" aria-expanded="true" aria-haspopup="listbox" aria-labelledby="search-label" tabindex="0">
  <div class="search-modal">
    <header class="search-bar">
      <form id="search-form" class="search-form">
        <label class="search-magnifier-label" for="search-input" id="search-label">
          <svg width="20" height="20" class="search-icon" viewBox="0 0 20 20">
            <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </label>
        <div class="search-loading-indicator">
          <svg viewBox="0 0 38 38" stroke="currentColor" stroke-opacity=".5">
            <g fill="none" fill-rule="evenodd">
              <g transform="translate(1 1)" stroke-width="2">
                <circle stroke-opacity=".3" cx="18" cy="18" r="18"></circle>
                <path d="M36 18c0-9.94-8.06-18-18-18">
                  <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform>
                </path>
              </g>
            </g>
          </svg>
        </div>
        <input class="search-input" aria-autocomplete="both" aria-labelledby="search-label" id="search-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search…" maxlength="64" type="search" value="">
        <button type="reset" title="Clear the query" class="search-reset" aria-label="Clear the query" hidden="">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </form>
      <button id="search-cancel" type="reset" aria-label="Cancel">
        Cancel
      </button>
    </header>
    <dl id="search-results" class="search-results" role="listbox"></dl>
    <footer class="search-footer">
      <a href="../../search.html" target="_blank" rel="noopener noreferrer">
        <span class="logo-label">Powered by Redis Stack</span>
        
        <svg viewBox="0 0 39 31" fill="none"><path d="M21.7371 15.2903C21.5759 15.2895 21.4198 15.2337 21.2947 15.1321 21.1695 15.0305 21.0828 14.8892 21.049 14.7316S21.0362 14.4096 21.1086 14.2655C21.1811 14.1215 21.3005 14.0066 21.4472 13.9397L35.7199 7.47338 21.4578 1.34289C21.2943 1.26329 21.1678 1.12377 21.1045.953307 21.0412.78285 21.046.594558 21.1179.427547 21.1898.260535 21.3233.127641 21.4906.0564719 21.6579-.0146977 21.8462-.0186728 22.0164.045373L37.7492 6.80518C37.8747 6.8605 37.9814 6.95112 38.0563 7.06599S38.171 7.31503 38.171 7.45216 38.1312 7.72347 38.0563 7.83834C37.9814 7.95321 37.8747 8.04383 37.7492 8.09915L22.0306 15.2266C21.9388 15.2698 21.8385 15.2916 21.7371 15.2903z" fill="#db2e2e"></path><path d="M16.4339 15.2903C16.3379 15.2906 16.2429 15.2714 16.1546 15.2337L.421813 8.47393C.296339 8.41861.18966 8.32799.114767 8.21312.0398745 8.09825.0 7.96407.0 7.82694.0 7.68981.0398745 7.55564.114767 7.44077.18966 7.3259.296339 7.23528.421813 7.17995L16.1546.052465C16.3235-.0111265 16.5104-.00772359 16.6768.0619772 16.8433.131678 16.9768.2624 17.0501.427363 17.1233.592325 17.1306.779042 17.0706.949259 17.0106 1.11948 16.8878 1.26031 16.7274 1.34291L2.44763 7.80573 16.7132 13.9362C16.8612 14.0015 16.9823 14.1154 17.0565 14.2592 17.1306 14.4029 17.1532 14.5677 17.1205 14.7261 17.0878 14.8845 17.0019 15.0269 16.8769 15.1295 16.752 15.2322 16.5956 15.2889 16.4339 15.2903z" fill="#db2e2e"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M29.1651 17.4328c3.1288-1.2763 6.2047-2.5279 7.1875-3.0617L37.1163 13.9539C37.3908 13.8108 37.6564 13.6514 37.9118 13.4766 37.972 13.8833 37.972 14.2967 37.9118 14.7034 37.8022 15.1312 37.4875 15.4847 36.289 16.061 35.4617 16.4605 33.1531 17.408 30.5792 18.4687c-3.6167 1.4884-7.778 3.1819-9.0826 3.889C19.2587 23.4183 18.0284 23.4183 16.3137 22.644 15.4864 22.2021 12.4918 20.9117 9.39476 19.5611c-3.3198-1.446-6.75627-2.945-7.77802-3.4753C.22377 15.3575.153061 15.1948.160132 14.8271V13.8655L.513678 14.0564c1.311652.6647 7.219412 3.1819 11.486722 5.0204 2.1142.898 3.8112 1.6298 4.3769 1.8844C18.092 21.7319 19.3082 21.8733 21.5603 20.6748 22.7022 20.0808 25.9619 18.7409 29.1651 17.4328z" fill="#494c4d"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M29.1651 24.5037c3.1288-1.2763 6.2047-2.5279 7.1875-3.0617L37.1163 21.0248C37.3908 20.8817 37.6564 20.7223 37.9118 20.5475 37.972 20.9542 37.972 21.3676 37.9118 21.7743 37.8022 22.2021 37.4875 22.5557 36.289 23.1319 35.4617 23.5314 33.1531 24.4789 30.5792 25.5396c-3.6167 1.4884-7.778 3.1819-9.0826 3.889-2.2379 1.0606-3.4682 1.0606-5.1829.2864C15.4864 29.2801 12.4918 27.9755 9.39476 26.625c-3.3198-1.446-6.75627-2.9451-7.77802-3.4754C.22377 22.4213.153061 22.2587.160132 21.891V20.9364L.513678 21.1273C1.82533 21.792 7.73309 24.3092 12.0004 26.1477c2.1001.898 3.8006 1.6298 4.3663 1.8844C18.0814 28.8028 19.2976 28.9442 21.5497 27.7457 22.7022 27.1518 25.9619 25.8118 29.1651 24.5037z" fill="#494c4d"></path></svg>
      </a>
    </footer>
  </div>
</div>

<script>
  const searchModal = (() => {
    const searchButton = document.querySelector('#search-button')
    const searchContainer = document.querySelector('#search-container')
    const searchInput = searchContainer.querySelector('#search-input')
    const resultsContainer = searchContainer.querySelector('#search-results')
    const style = document.createElement('style')
    
    let keys = {}
    let focusable
    let firstFocusable
    let lastFocusable
  
    function next (elem, selector) {
      let nextElem = elem.nextElementSibling
      if (!selector) return nextElem
      if (nextElem && nextElem.matches(selector)) return nextElem
      return null
    }
  
    function debounce(callback, delay) {
      let timeout
      
      return function() {
        clearTimeout(timeout)
        timeout = setTimeout(callback, delay)
      }
    }
  
    function searchSubmit(form) {
      if (form.id !== 'search-form') return false
  
      const searchTerm = searchInput.value
  
      if (searchTerm.length < 1) {
        resultsContainer.innerHTML = ''
        return
      }
  
      function search(url) {
        let promise = new Promise((resolve, reject) => {
          const req = new XMLHttpRequest()
          req.open('GET', url)
          req.onload = function() {
            if (req.status === 200) {
              resolve(JSON.parse(req.response))
            } else {
              reject(Error(req.status))
            }
          }
          req.send()
        })
  
        return promise
      }
  
      function sortData(data) {
        
        const getCategories = (data) =>
          data.reduce((a, c) => {
            if (!a.includes(c.hierarchy[0])) {
              a.push(c.hierarchy[0])
            }
  
            return a
          }, [])

        
        const constructSectionTitle = (record) => {
          if (record.hierarchy && record.hierarchy.length > 2) {
            return record.hierarchy[1]
          } else {
            return record.title
          }
        }

        
        const mergeData = (data, categories) =>
          categories.map((category) => {
            const obj = {}
            obj.category = category
  
            data.forEach((record) => {
              if (record.hierarchy[0] === category) {
                obj[record.title] = {
                  path: constructSectionTitle(record),
                  url: record.url,
                }
              }
            })
  
            return obj
          })
  
        return mergeData(data.results, getCategories(data.results))
      }
  
      function escape_evil_chars(str_in) {
        return str_in.replaceAll('>','&gt;').replaceAll('<', '&lt;').replaceAll('&', '&amp;').replaceAll('"','&quot;').replaceAll("'",'&#x27;')
      }   
      
      function displayData(data) {
        resultsContainer.innerHTML = ''
        
        if (data.results.length < 1) {
          escapedSearchTerm = escape_evil_chars(searchTerm)
          resultsContainer.insertAdjacentHTML(
            'beforeend',
            `<dt class="sr-only">${escapedSearchTerm}:</dt>
            <dd class="search-no-results">
              No results for \"<span class="search-title">${escapedSearchTerm}</span>\"
            </dd>`
          )
        } else {
          sortData(data).forEach((result) => {
            resultsContainer.insertAdjacentHTML(
              'beforeend', 
              `<dt class="search-item-source">
                ${result.category}
              </dt>`
            )
    
            delete result.category
    
            Object.keys(result).forEach((key, index) => {
              resultsContainer.insertAdjacentHTML(
                'beforeend',
                `<dd class="search-item" role="option">
                  <a href="${result[key].url}">
                    <span class="search-item-icon"></span>
                    <span class="search-item-content">
                      ${result[key].path ? `<span class="search-item-path">${result[key].path}</span>` : ''}
                      <span class="search-item-title">${key.replace(new RegExp(`(^|)(${searchTerm})(|$)`, 'ig'), '$1<b class="search-term-match">$2</b>$3')}</span>
                    </span>
                    <span class="search-item-action"></span>
                  </a>
                </dd>`
              )
            })
            
            if (!resultsContainer.querySelector('[aria-selected]')) resultsContainer.querySelector('.search-item').setAttribute('aria-selected', '')
          })
        }
        return
      }
  
      function displayError(error) {
        console.log(error)
      }
  
      search(`https://search-service.redislabs.com/search?q=${searchTerm}*&site=https://redis.io`)
        .then(displayData)
        .catch(displayError)
    }
  
    function loadHandler(event) {
      style.innerHTML = `
        [data-scroll-disabled="on"], 
        [data-scroll-disabled="on"] body {
          touch-action: none;
          overscroll-behavior: none;
          -webkit-overflow-scrolling: auto;
          overflow: hidden;
        }
  
        [data-scroll-disabled="on"] .sticky {
          position: fixed;
        }
      `
  
      document.head.appendChild(style)
      document.documentElement.dataset.searchState = 'off'
    }
  
    function getNextSibling(elem, selector, direction) {
      let sibling = direction === 'down' ? elem.nextElementSibling : elem.previousElementSibling
    
      while (sibling) {
        if (sibling.matches(selector)) return sibling
        sibling = direction === 'down' ? sibling.nextElementSibling : sibling.previousElementSibling
      }
    }
  
    function tabSelection(direction) {
      const currentSelection = resultsContainer.querySelector('[aria-selected]')
      if (!currentSelection || direction === 'down' && !currentSelection.nextElementSibling || direction === 'up' && !currentSelection.previousElementSibling) return false
        
      const nextSelection = getNextSibling(currentSelection, '.search-item', direction)
      if (!nextSelection) return false
      
      nextSelection.setAttribute('aria-selected', '')
      currentSelection.removeAttribute('aria-selected')
      resultsContainer.scrollTop = nextSelection.offsetTop - resultsContainer.offsetTop
    }
    
    function keyDownHandler(event) {
      switch (event.key) {
  
        // Arrow keys
        case 'ArrowDown':
          if (document.documentElement.dataset.searchState === 'off' || !document.querySelector('.search-item')) return false
          event.preventDefault()
          tabSelection('down')
          break
  
        case 'ArrowUp':
          if (document.documentElement.dataset.searchState === 'off' || !document.querySelector('.search-item')) return false
          event.preventDefault()
          tabSelection('up')
          break
  
        // Tab
        case 'Tab':
          if (document.documentElement.dataset.searchState === 'off') return false
  
          if (focusable.length === 1) {
            event.preventDefault()
            break
          }
  
          // If shift is fired, tab backward
          if (event.shiftKey) {
            if (document.activeElement === firstFocusable) {
              event.preventDefault()
              lastFocusable.focus()
            }
  
            // Otherwise tab forward
          } else {
            if (document.activeElement === lastFocusable) {
              event.preventDefault()
              firstFocusable.focus()
            }
          }
          break
  
        // Esc
        case 'Escape':
          if (document.documentElement.dataset.searchState === 'off') return false
          stopSearch()
          break
        
        // Enter
        case 'Enter':
          if (!document.querySelector('.search-item:focus-within') && document.querySelector('.search-item[aria-selected]')) {
            event.preventDefault()
            document.querySelector('.search-item[aria-selected] a').click()
          }
          break
  
        // Forward slash
        case '/':
          if (document.documentElement.dataset.searchState === 'on') return false
          event.preventDefault()
          startSearch()
          break
      
        // Default
        default:
          return false
          break
      }
    }
  
    function keyUpHandler(event) {
      if (document.documentElement.dataset.searchState === 'off' || !document.activeElement.matches('.search-input')) return false
      
      switch (event.key) {
        case 'ArrowDown':
          return false
          break
        case 'ArrowUp':
          return false
          break
        case 'ArrowLeft':
          return false
          break
        case 'ArrowRight':
          return false
          break
        case 'Tab':
          return false
          break
        case 'Escape':
          return false
          break
        case 'Enter':
          return false
          break
        case '/':
          return false
          break
        default:
          searchSubmit(document.activeElement.closest('form'))
          break
      }
    }
  
    function multiKeyHandler(event) {
      if (document.documentElement.dataset.searchState === 'on') return false
  
      let { key, type } = event
      let isKeyDown = (type == 'keydown')
      keys[key] = isKeyDown
  
      // Both (cmd || cntrl) & k pressed
      if (isKeyDown && (keys.Control || keys.Meta) && keys.k) {
        event.preventDefault()
        startSearch()
      }
    }
  
    // Click handler function
    function clickHandler(event) {
      if (event.target.closest('#search-button')) {
        startSearch()
      } else if (event.target.closest('#search-cancel') || event.target.matches('#search-container')) {
        stopSearch()
      }
    }
  
    function startSearch() {
      sessionStorage.setItem('scroll-position', document.documentElement.scrollTop)
      document.documentElement.dataset.scrollDisabled = 'on'
      document.documentElement.dataset.searchState = 'on'
      allowFocus(searchContainer, true)
      trapFocus(searchContainer)
      searchInput.focus()
    }
  
    function stopSearch() {
      document.documentElement.dataset.searchState = 'off'
      document.documentElement.dataset.scrollDisabled = 'off'
      document.documentElement.scrollTop = sessionStorage.getItem('scroll-position')
      allowFocus(searchContainer, false)
      document.activeElement.blur()
      resultsContainer.innerHTML = ''
      searchInput.value = ''
      keys = {}
    }
  
    function submitHandler(event) {
      if (event.target.id === 'search-form') {
        event.preventDefault()
        return false
      }
    }
  
    function allowFocus(selector, state) {
      const focusable = selector.querySelectorAll('button, [href], input, select, textarea')
      focusable.forEach(el => el.setAttribute('tabindex', state ? '' : '-1'))
      selector.classList.toggle('sr-only')
    }
  
    function trapFocus(selector) {
      focusable = selector.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]')
      firstFocusable = focusable[0]
      lastFocusable = focusable[focusable.length - 1]
    }
  
    // Attach event listeners
    document.addEventListener('DOMContentLoaded', loadHandler)
    document.addEventListener('click', clickHandler)
    document.addEventListener('keydown', event => debounce(keyDownHandler(event), 100))
    document.addEventListener('keyup', event => debounce(keyUpHandler(event), 100))
    document.addEventListener('keydown', multiKeyHandler)
    document.addEventListener('keyup', multiKeyHandler)
    document.addEventListener('submit', submitHandler)
  })()
</script>
  

</body></html>
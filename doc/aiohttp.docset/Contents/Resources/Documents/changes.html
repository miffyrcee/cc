
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Changelog &#8212; aiohttp 3.4.4 documentation</title>
    <link rel="stylesheet" href="_static/aiohttp.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Who uses aiohttp?" href="external.html" />
    <link rel="prev" title="Glossary" href="glossary.html" />
 
<link rel="stylesheet" href="_static/custom.css" type="text/css" />


<link rel="canonical" href="http://docs.aiohttp.org/en/stable/changes.html"/>

<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
<link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet">

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="changelog">
<span id="aiohttp-changes"></span><h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>3.4.4 (2018-09-05)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix installation from sources when compiling toolkit is not available (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3241">#3241</a>)</li>
</ul>
</div>
<div class="section" id="id3">
<h2>3.4.3 (2018-09-04)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">app.pre_frozen</span></code> state to properly handle startup signals in sub-applications. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3237">#3237</a>)</li>
</ul>
</div>
<div class="section" id="id5">
<h2>3.4.2 (2018-09-01)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <code class="docutils literal notranslate"><span class="pre">iter_chunks</span></code> type annotation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3230">#3230</a>)</li>
</ul>
</div>
<div class="section" id="id7">
<h2>3.4.1 (2018-08-28)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix empty header parsing regression. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3218">#3218</a>)</li>
<li>Fix BaseRequest.raw_headers doc. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3215">#3215</a>)</li>
<li>Fix documentation building on ReadTheDocs (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3221">#3221</a>)</li>
</ul>
</div>
<div class="section" id="id11">
<h2>3.4.0 (2018-08-25)<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add type hints (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3049">#3049</a>)</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">raise_for_status</span></code> request parameter (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3073">#3073</a>)</li>
<li>Add type hints to HTTP client (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3092">#3092</a>)</li>
<li>Minor server optimizations (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3095">#3095</a>)</li>
<li>Preserve the cause when <cite>HTTPException</cite> is raised from another exception. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3096">#3096</a>)</li>
<li>Add <cite>close_boundary</cite> option in <cite>MultipartWriter.write</cite> method. Support streaming (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3104">#3104</a>)</li>
<li>Added a <code class="docutils literal notranslate"><span class="pre">remove_slash</span></code> option to the <code class="docutils literal notranslate"><span class="pre">normalize_path_middleware</span></code> factory. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3173">#3173</a>)</li>
<li>The class <cite>AbstractRouteDef</cite> is importable from <cite>aiohttp.web</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3183">#3183</a>)</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Prevent double closing when client connection is released before the
last <code class="docutils literal notranslate"><span class="pre">data_received()</span></code> callback. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3031">#3031</a>)</li>
<li>Make redirect with <cite>normalize_path_middleware</cite> work when using url encoded paths. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3051">#3051</a>)</li>
<li>Postpone web task creation to connection establishment. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3052">#3052</a>)</li>
<li>Fix <code class="docutils literal notranslate"><span class="pre">sock_read</span></code> timeout. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3053">#3053</a>)</li>
<li>When using a server-request body as the <cite>data=</cite> argument of a client request, iterate over the content with <cite>readany</cite> instead of <cite>readline</cite> to avoid <cite>Line too long</cite> errors. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3054">#3054</a>)</li>
<li>fix <cite>UrlDispatcher</cite> has no attribute <cite>add_options</cite>, add <cite>web.options</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3062">#3062</a>)</li>
<li>correct filename in content-disposition with multipart body (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3064">#3064</a>)</li>
<li>Many HTTP proxies has buggy keepalive support.
Let’s not reuse connection but close it after processing every response. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3070">#3070</a>)</li>
<li>raise 413 “Payload Too Large” rather than raising ValueError in request.post()
Add helpful debug message to 413 responses (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3087">#3087</a>)</li>
<li>Fix <cite>StreamResponse</cite> equality, now that they are <cite>MutableMapping</cite> objects. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3100">#3100</a>)</li>
<li>Fix server request objects comparison (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3116">#3116</a>)</li>
<li>Do not hang on <cite>206 Partial Content</cite> response with <cite>Content-Encoding: gzip</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3123">#3123</a>)</li>
<li>Fix timeout precondition checkers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3145">#3145</a>)</li>
</ul>
</div>
<div class="section" id="improved-documentation">
<h3>Improved Documentation<a class="headerlink" href="#improved-documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add a new FAQ entry that clarifies that you should not reuse response
objects in middleware functions. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3020">#3020</a>)</li>
<li>Add FAQ section “Why is creating a ClientSession outside of an event loop dangerous?” (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3072">#3072</a>)</li>
<li>Fix link to Rambler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3115">#3115</a>)</li>
<li>Fix TCPSite documentation on the Server Reference page. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3146">#3146</a>)</li>
<li>Fix documentation build configuration file for Windows. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3147">#3147</a>)</li>
<li>Remove no longer existing lingering_timeout parameter of Application.make_handler from documentation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3151">#3151</a>)</li>
<li>Mention that <code class="docutils literal notranslate"><span class="pre">app.make_handler</span></code> is deprecated, recommend to use runners
API instead. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3157">#3157</a>)</li>
</ul>
</div>
<div class="section" id="deprecations-and-removals">
<h3>Deprecations and Removals<a class="headerlink" href="#deprecations-and-removals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Drop <code class="docutils literal notranslate"><span class="pre">loop.current_task()</span></code> from <code class="docutils literal notranslate"><span class="pre">helpers.current_task()</span></code> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2826">#2826</a>)</li>
<li>Drop <code class="docutils literal notranslate"><span class="pre">reader</span></code> parameter from <code class="docutils literal notranslate"><span class="pre">request.multipart()</span></code>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3090">#3090</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id42">
<h2>3.3.2 (2018-06-12)<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Many HTTP proxies has buggy keepalive support. Let’s not reuse connection but
close it after processing every response. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3070">#3070</a>)</li>
<li>Provide vendor source files in tarball (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3076">#3076</a>)</li>
</ul>
</div>
<div class="section" id="id45">
<h2>3.3.1 (2018-06-05)<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <code class="docutils literal notranslate"><span class="pre">sock_read</span></code> timeout. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3053">#3053</a>)</li>
<li>When using a server-request body as the <code class="docutils literal notranslate"><span class="pre">data=</span></code> argument of a client request,
iterate over the content with <code class="docutils literal notranslate"><span class="pre">readany</span></code> instead of <code class="docutils literal notranslate"><span class="pre">readline</span></code> to avoid <code class="docutils literal notranslate"><span class="pre">Line</span>
<span class="pre">too</span> <span class="pre">long</span></code> errors. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3054">#3054</a>)</li>
</ul>
</div>
<div class="section" id="id48">
<h2>3.3.0 (2018-06-01)<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id49">
<h3>Features<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Raise <code class="docutils literal notranslate"><span class="pre">ConnectionResetError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">CancelledError</span></code> on trying to
write to a closed stream. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2499">#2499</a>)</li>
<li>Implement <code class="docutils literal notranslate"><span class="pre">ClientTimeout</span></code> class and support socket read timeout. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2768">#2768</a>)</li>
<li>Enable logging when <code class="docutils literal notranslate"><span class="pre">aiohttp.web</span></code> is used as a program (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2956">#2956</a>)</li>
<li>Add canonical property to resources (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2968">#2968</a>)</li>
<li>Forbid reading response BODY after release (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2983">#2983</a>)</li>
<li>Implement base protocol class to avoid a dependency from internal
<code class="docutils literal notranslate"><span class="pre">asyncio.streams.FlowControlMixin</span></code> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2986">#2986</a>)</li>
<li>Cythonize <code class="docutils literal notranslate"><span class="pre">&#64;helpers.reify</span></code>, 5% boost on macro benchmark (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2995">#2995</a>)</li>
<li>Optimize HTTP parser (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3015">#3015</a>)</li>
<li>Implement <code class="docutils literal notranslate"><span class="pre">runner.addresses</span></code> property. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3036">#3036</a>)</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> instead of a list of <code class="docutils literal notranslate"><span class="pre">bytes</span></code> in websocket reader. It
improves websocket message reading a little. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3039">#3039</a>)</li>
<li>Remove heartbeat on closing connection on keepalive timeout. The used hack
violates HTTP protocol. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3041">#3041</a>)</li>
<li>Limit websocket message size on reading to 4 MB by default. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3045">#3045</a>)</li>
</ul>
</div>
<div class="section" id="id62">
<h3>Bugfixes<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Don’t reuse a connection with the same URL but different proxy/TLS settings
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2981">#2981</a>)</li>
<li>When parsing the Forwarded header, the optional port number is now preserved.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3009">#3009</a>)</li>
</ul>
</div>
<div class="section" id="id65">
<h3>Improved Documentation<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Make Change Log more visible in docs (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3029">#3029</a>)</li>
<li>Make style and grammar improvements on the FAQ page. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3030">#3030</a>)</li>
<li>Document that signal handlers should be async functions since aiohttp 3.0
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3032">#3032</a>)</li>
</ul>
</div>
<div class="section" id="id69">
<h3>Deprecations and Removals<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deprecate custom application’s router. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/3021">#3021</a>)</li>
</ul>
</div>
<div class="section" id="misc">
<h3>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>#3008, #3011</li>
</ul>
</div>
</div>
<div class="section" id="id71">
<h2>3.2.1 (2018-05-10)<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Don’t reuse a connection with the same URL but different proxy/TLS settings
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2981">#2981</a>)</li>
</ul>
</div>
<div class="section" id="id73">
<h2>3.2.0 (2018-05-06)<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id74">
<h3>Features<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Raise <code class="docutils literal notranslate"><span class="pre">TooManyRedirects</span></code> exception when client gets redirected too many
times instead of returning last response. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2631">#2631</a>)</li>
<li>Extract route definitions into separate <code class="docutils literal notranslate"><span class="pre">web_routedef.py</span></code> file (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2876">#2876</a>)</li>
<li>Raise an exception on request body reading after sending response. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2895">#2895</a>)</li>
<li>ClientResponse and RequestInfo now have real_url property, which is request
url without fragment part being stripped (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2925">#2925</a>)</li>
<li>Speed up connector limiting (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2937">#2937</a>)</li>
<li>Added and links property for ClientResponse object (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2948">#2948</a>)</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">request.config_dict</span></code> for exposing nested applications data. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2949">#2949</a>)</li>
<li>Speed up HTTP headers serialization, server micro-benchmark runs 5% faster
now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2957">#2957</a>)</li>
<li>Apply assertions in debug mode only (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2966">#2966</a>)</li>
</ul>
</div>
<div class="section" id="id84">
<h3>Bugfixes<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>expose property <cite>app</cite> for TestClient (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2891">#2891</a>)</li>
<li>Call on_chunk_sent when write_eof takes as a param the last chunk (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2909">#2909</a>)</li>
<li>A closing bracket was added to <cite>__repr__</cite> of resources (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2935">#2935</a>)</li>
<li>Fix compression of FileResponse (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2942">#2942</a>)</li>
<li>Fixes some bugs in the limit connection feature (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2964">#2964</a>)</li>
</ul>
</div>
<div class="section" id="id90">
<h3>Improved Documentation<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Drop <code class="docutils literal notranslate"><span class="pre">async_timeout</span></code> usage from documentation for client API in favor of
<code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2865">#2865</a>)</li>
<li>Improve Gunicorn logging documentation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2921">#2921</a>)</li>
<li>Replace multipart writer <cite>.serialize()</cite> method with <cite>.write()</cite> in
documentation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2965">#2965</a>)</li>
</ul>
</div>
<div class="section" id="id94">
<h3>Deprecations and Removals<a class="headerlink" href="#id94" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deprecate Application.make_handler() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2938">#2938</a>)</li>
</ul>
</div>
<div class="section" id="id96">
<h3>Misc<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>#2958</li>
</ul>
</div>
</div>
<div class="section" id="id97">
<h2>3.1.3 (2018-04-12)<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix cancellation broadcast during DNS resolve (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2910">#2910</a>)</li>
</ul>
</div>
<div class="section" id="id99">
<h2>3.1.2 (2018-04-05)<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make <code class="docutils literal notranslate"><span class="pre">LineTooLong</span></code> exception more detailed about actual data size (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2863">#2863</a>)</li>
<li>Call <code class="docutils literal notranslate"><span class="pre">on_chunk_sent</span></code> when write_eof takes as a param the last chunk (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2909">#2909</a>)</li>
</ul>
</div>
<div class="section" id="id102">
<h2>3.1.1 (2018-03-27)<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Support <em>asynchronous iterators</em> (and <em>asynchronous generators</em> as
well) in both client and server API as request / response BODY
payloads. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2802">#2802</a>)</li>
</ul>
</div>
<div class="section" id="id104">
<h2>3.1.0 (2018-03-21)<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h2>
<p>Welcome to aiohttp 3.1 release.</p>
<p>This is an <em>incremental</em> release, fully backward compatible with <em>aiohttp 3.0</em>.</p>
<p>But we have added several new features.</p>
<p>The most visible one is <code class="docutils literal notranslate"><span class="pre">app.add_routes()</span></code> (an alias for existing
<code class="docutils literal notranslate"><span class="pre">app.router.add_routes()</span></code>. The addition is very important because
all <em>aiohttp</em> docs now uses <code class="docutils literal notranslate"><span class="pre">app.add_routes()</span></code> call in code
snippets. All your existing code still do register routes / resource
without any warning but you’ve got the idea for a favorite way: noisy
<code class="docutils literal notranslate"><span class="pre">app.router.add_get()</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">app.add_routes()</span></code>.</p>
<p>The library does not make a preference between decorators:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">routes</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">RouteTableDef</span><span class="p">()</span>

<span class="nd">@routes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">web</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello, world&quot;</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_routes</span><span class="p">(</span><span class="n">routes</span><span class="p">)</span>
</pre></div>
</div>
<p>and route tables as a list:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">web</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello, world&quot;</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_routes</span><span class="p">([</span><span class="n">web</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">hello</span><span class="p">)])</span>
</pre></div>
</div>
<p>Both ways are equal, user may decide basing on own code taste.</p>
<p>Also we have a lot of minor features, bug fixes and documentation
updates, see below.</p>
<div class="section" id="id105">
<h3>Features<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Relax JSON content-type checking in the <code class="docutils literal notranslate"><span class="pre">ClientResponse.json()</span></code> to allow
“application/xxx+json” instead of strict “application/json”. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2206">#2206</a>)</li>
<li>Bump C HTTP parser to version 2.8 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2730">#2730</a>)</li>
<li>Accept a coroutine as an application factory in <code class="docutils literal notranslate"><span class="pre">web.run_app</span></code> and gunicorn
worker. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2739">#2739</a>)</li>
<li>Implement application cleanup context (<code class="docutils literal notranslate"><span class="pre">app.cleanup_ctx</span></code> property). (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2747">#2747</a>)</li>
<li>Make <code class="docutils literal notranslate"><span class="pre">writer.write_headers</span></code> a coroutine. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2762">#2762</a>)</li>
<li>Add tracking signals for getting request/response bodies. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2767">#2767</a>)</li>
<li>Deprecate ClientResponseError.code in favor of .status to keep similarity
with response classes. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2781">#2781</a>)</li>
<li>Implement <code class="docutils literal notranslate"><span class="pre">app.add_routes()</span></code> method. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2787">#2787</a>)</li>
<li>Implement <code class="docutils literal notranslate"><span class="pre">web.static()</span></code> and <code class="docutils literal notranslate"><span class="pre">RouteTableDef.static()</span></code> API. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2795">#2795</a>)</li>
<li>Install a test event loop as default by <code class="docutils literal notranslate"><span class="pre">asyncio.set_event_loop()</span></code>. The
change affects aiohttp test utils but backward compatibility is not broken
for 99.99% of use cases. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2804">#2804</a>)</li>
<li>Refactor <code class="docutils literal notranslate"><span class="pre">ClientResponse</span></code> constructor: make logically required constructor
arguments mandatory, drop <code class="docutils literal notranslate"><span class="pre">_post_init()</span></code> method. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2820">#2820</a>)</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">app.add_routes()</span></code> in server docs everywhere (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2830">#2830</a>)</li>
<li>Websockets refactoring, all websocket writer methods are converted into
coroutines. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2836">#2836</a>)</li>
<li>Provide <code class="docutils literal notranslate"><span class="pre">Content-Range</span></code> header for <code class="docutils literal notranslate"><span class="pre">Range</span></code> requests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2844">#2844</a>)</li>
</ul>
</div>
<div class="section" id="id120">
<h3>Bugfixes<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix websocket client return EofStream. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2784">#2784</a>)</li>
<li>Fix websocket demo. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2789">#2789</a>)</li>
<li>Property <code class="docutils literal notranslate"><span class="pre">BaseRequest.http_range</span></code> now returns a python-like slice when
requesting the tail of the range. It’s now indicated by a negative value in
<code class="docutils literal notranslate"><span class="pre">range.start</span></code> rather then in <code class="docutils literal notranslate"><span class="pre">range.stop</span></code> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2805">#2805</a>)</li>
<li>Close a connection if an unexpected exception occurs while sending a request
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2827">#2827</a>)</li>
<li>Fix firing DNS tracing events. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2841">#2841</a>)</li>
</ul>
</div>
<div class="section" id="id126">
<h3>Improved Documentation<a class="headerlink" href="#id126" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Document behavior when cchardet detects encodings that are unknown to Python.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2732">#2732</a>)</li>
<li>Add diagrams for tracing request life style. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2748">#2748</a>)</li>
<li>Drop removed functionality for passing <code class="docutils literal notranslate"><span class="pre">StreamReader</span></code> as data at client
side. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2793">#2793</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id130">
<h2>3.0.9 (2018-03-14)<a class="headerlink" href="#id130" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Close a connection if an unexpected exception occurs while sending a request
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2827">#2827</a>)</li>
</ul>
</div>
<div class="section" id="id132">
<h2>3.0.8 (2018-03-12)<a class="headerlink" href="#id132" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use <code class="docutils literal notranslate"><span class="pre">asyncio.current_task()</span></code> on Python 3.7 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2825">#2825</a>)</li>
</ul>
</div>
<div class="section" id="id134">
<h2>3.0.7 (2018-03-08)<a class="headerlink" href="#id134" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix SSL proxy support by client. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2810">#2810</a>)</li>
<li>Restore a imperative check in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> for python version. The check
works in parallel to environment marker. As effect a error about unsupported
Python versions is raised even on outdated systems with very old
<code class="docutils literal notranslate"><span class="pre">setuptools</span></code> version installed. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2813">#2813</a>)</li>
</ul>
</div>
<div class="section" id="id137">
<h2>3.0.6 (2018-03-05)<a class="headerlink" href="#id137" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">_reuse_address</span></code> and <code class="docutils literal notranslate"><span class="pre">_reuse_port</span></code> to
<code class="docutils literal notranslate"><span class="pre">web_runner.TCPSite.__slots__</span></code>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2792">#2792</a>)</li>
</ul>
</div>
<div class="section" id="id139">
<h2>3.0.5 (2018-02-27)<a class="headerlink" href="#id139" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <code class="docutils literal notranslate"><span class="pre">InvalidStateError</span></code> on processing a sequence of two
<code class="docutils literal notranslate"><span class="pre">RequestHandler.data_received</span></code> calls on web server. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2773">#2773</a>)</li>
</ul>
</div>
<div class="section" id="id141">
<h2>3.0.4 (2018-02-26)<a class="headerlink" href="#id141" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> in HTTP request handling by server. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2752">#2752</a>)</li>
<li>Fix MultipartWriter.append* no longer returning part/payload. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2759">#2759</a>)</li>
</ul>
</div>
<div class="section" id="id144">
<h2>3.0.3 (2018-02-25)<a class="headerlink" href="#id144" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Relax <code class="docutils literal notranslate"><span class="pre">attrs</span></code> dependency to minimal actually supported version
17.0.3 The change allows to avoid version conflicts with currently
existing test tools.</li>
</ul>
</div>
<div class="section" id="id145">
<h2>3.0.2 (2018-02-23)<a class="headerlink" href="#id145" title="Permalink to this headline">¶</a></h2>
<div class="section" id="security-fix">
<h3>Security Fix<a class="headerlink" href="#security-fix" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Prevent Windows absolute URLs in static files.  Paths like
<code class="docutils literal notranslate"><span class="pre">/static/D:\path</span></code> and <code class="docutils literal notranslate"><span class="pre">/static/\\hostname\drive\path</span></code> are
forbidden.</li>
</ul>
</div>
</div>
<div class="section" id="id146">
<h2>3.0.1<a class="headerlink" href="#id146" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Technical release for fixing distribution problems.</li>
</ul>
</div>
<div class="section" id="id147">
<h2>3.0.0 (2018-02-12)<a class="headerlink" href="#id147" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id148">
<h3>Features<a class="headerlink" href="#id148" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Speed up the <cite>PayloadWriter.write</cite> method for large request bodies. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2126">#2126</a>)</li>
<li>StreamResponse and Response are now MutableMappings. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2246">#2246</a>)</li>
<li>ClientSession publishes a set of signals to track the HTTP request execution.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2313">#2313</a>)</li>
<li>Content-Disposition fast access in ClientResponse (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2455">#2455</a>)</li>
<li>Added support to Flask-style decorators with class-based Views. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2472">#2472</a>)</li>
<li>Signal handlers (registered callbacks) should be coroutines. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2480">#2480</a>)</li>
<li>Support <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span> <span class="pre">test_client.ws_connect(...)</span></code> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2525">#2525</a>)</li>
<li>Introduce <em>site</em> and <em>application runner</em> as underlying API for <cite>web.run_app</cite>
implementation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2530">#2530</a>)</li>
<li>Only quote multipart boundary when necessary and sanitize input (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2544">#2544</a>)</li>
<li>Make the <cite>aiohttp.ClientResponse.get_encoding</cite> method public with the
processing of invalid charset while detecting content encoding. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2549">#2549</a>)</li>
<li>Add optional configurable per message compression for
<cite>ClientWebSocketResponse</cite> and <cite>WebSocketResponse</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2551">#2551</a>)</li>
<li>Add hysteresis to <cite>StreamReader</cite> to prevent flipping between paused and
resumed states too often. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2555">#2555</a>)</li>
<li>Support <cite>.netrc</cite> by <cite>trust_env</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2581">#2581</a>)</li>
<li>Avoid to create a new resource when adding a route with the same name and
path of the last added resource (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2586">#2586</a>)</li>
<li><cite>MultipartWriter.boundary</cite> is <cite>str</cite> now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2589">#2589</a>)</li>
<li>Allow a custom port to be used by <cite>TestServer</cite> (and associated pytest
fixtures) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2613">#2613</a>)</li>
<li>Add param access_log_class to web.run_app function (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2615">#2615</a>)</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">ssl</span></code> parameter to client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2626">#2626</a>)</li>
<li>Fixes performance issue introduced by #2577. When there are no middlewares
installed by the user, no additional and useless code is executed. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2629">#2629</a>)</li>
<li>Rename PayloadWriter to StreamWriter (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2654">#2654</a>)</li>
<li>New options <em>reuse_port</em>, <em>reuse_address</em> are added to <cite>run_app</cite> and
<cite>TCPSite</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2679">#2679</a>)</li>
<li>Use custom classes to pass client signals parameters (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2686">#2686</a>)</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">attrs</span></code> library for data classes, replace <cite>namedtuple</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2690">#2690</a>)</li>
<li>Pytest fixtures renaming, add <code class="docutils literal notranslate"><span class="pre">aiohttp_</span></code> prefix (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2578">#2578</a>)</li>
<li>Add <code class="docutils literal notranslate"><span class="pre">aiohttp-</span></code> prefix for <code class="docutils literal notranslate"><span class="pre">pytest-aiohttp</span></code> command line
parameters (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2578">#2578</a>)</li>
</ul>
</div>
<div class="section" id="id174">
<h3>Bugfixes<a class="headerlink" href="#id174" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Correctly process upgrade request from server to HTTP2. <code class="docutils literal notranslate"><span class="pre">aiohttp</span></code> does not
support HTTP2 yet, the protocol is not upgraded but response is handled
correctly. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2277">#2277</a>)</li>
<li>Fix ClientConnectorSSLError and ClientProxyConnectionError for proxy
connector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2408">#2408</a>)</li>
<li>Fix connector convert OSError to ClientConnectorError (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2423">#2423</a>)</li>
<li>Fix connection attempts for multiple dns hosts (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2424">#2424</a>)</li>
<li>Fix writing to closed transport by raising <cite>asyncio.CancelledError</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2499">#2499</a>)</li>
<li>Fix warning in <cite>ClientSession.__del__</cite> by stopping to try to close it.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2523">#2523</a>)</li>
<li>Fixed race-condition for iterating addresses from the DNSCache. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2620">#2620</a>)</li>
<li>Fix default value of <cite>access_log_format</cite> argument in <cite>web.run_app</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2649">#2649</a>)</li>
<li>Freeze sub-application on adding to parent app (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2656">#2656</a>)</li>
<li>Do percent encoding for <cite>.url_for()</cite> parameters (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2668">#2668</a>)</li>
<li>Correctly process request start time and multiple request/response
headers in access log extra (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2641">#2641</a>)</li>
</ul>
</div>
<div class="section" id="id186">
<h3>Improved Documentation<a class="headerlink" href="#id186" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improve tutorial docs, using <cite>literalinclude</cite> to link to the actual files.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2396">#2396</a>)</li>
<li>Small improvement docs: better example for file uploads. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2401">#2401</a>)</li>
<li>Rename <cite>from_env</cite> to <cite>trust_env</cite> in client reference. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2451">#2451</a>)</li>
<li>﻿Fixed mistype in <cite>Proxy Support</cite> section where <cite>trust_env</cite> parameter was
used in <cite>session.get(“http://python.org”, trust_env=True)</cite> method instead of
aiohttp.ClientSession constructor as follows:
<cite>aiohttp.ClientSession(trust_env=True)</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2688">#2688</a>)</li>
<li>Fix issue with unittest example not compiling in testing docs. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2717">#2717</a>)</li>
</ul>
</div>
<div class="section" id="id192">
<h3>Deprecations and Removals<a class="headerlink" href="#id192" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Simplify HTTP pipelining implementation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2109">#2109</a>)</li>
<li>Drop <cite>StreamReaderPayload</cite> and <cite>DataQueuePayload</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2257">#2257</a>)</li>
<li>Drop <cite>md5</cite> and <cite>sha1</cite> finger-prints (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2267">#2267</a>)</li>
<li>Drop WSMessage.tp (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2321">#2321</a>)</li>
<li>Drop Python 3.4 and Python 3.5.0, 3.5.1, 3.5.2. Minimal supported Python
versions are 3.5.3 and 3.6.0. <cite>yield from</cite> is gone, use <cite>async/await</cite> syntax.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2343">#2343</a>)</li>
<li>Drop <cite>aiohttp.Timeout</cite> and use <cite>async_timeout.timeout</cite> instead. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2348">#2348</a>)</li>
<li>Drop <cite>resolve</cite> param from TCPConnector. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2377">#2377</a>)</li>
<li>Add DeprecationWarning for returning HTTPException (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2415">#2415</a>)</li>
<li><cite>send_str()</cite>, <cite>send_bytes()</cite>, <cite>send_json()</cite>, <cite>ping()</cite> and <cite>pong()</cite> are
genuine async functions now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2475">#2475</a>)</li>
<li>Drop undocumented <cite>app.on_pre_signal</cite> and <cite>app.on_post_signal</cite>. Signal
handlers should be coroutines, support for regular functions is dropped.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2480">#2480</a>)</li>
<li><cite>StreamResponse.drain()</cite> is not a part of public API anymore, just use <cite>await
StreamResponse.write()</cite>. <cite>StreamResponse.write</cite> is converted to async
function. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2483">#2483</a>)</li>
<li>Drop deprecated <cite>slow_request_timeout</cite> param and <cite>**kwargs`</cite> from
<cite>RequestHandler</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2500">#2500</a>)</li>
<li>Drop deprecated <cite>resource.url()</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2501">#2501</a>)</li>
<li>Remove <cite>%u</cite> and <cite>%l</cite> format specifiers from access log format. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2506">#2506</a>)</li>
<li>Drop deprecated <cite>request.GET</cite> property. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2547">#2547</a>)</li>
<li>Simplify stream classes: drop <cite>ChunksQueue</cite> and <cite>FlowControlChunksQueue</cite>,
merge <cite>FlowControlStreamReader</cite> functionality into <cite>StreamReader</cite>, drop
<cite>FlowControlStreamReader</cite> name. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2555">#2555</a>)</li>
<li>Do not create a new resource on <cite>router.add_get(…, allow_head=True)</cite>
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2585">#2585</a>)</li>
<li>Drop access to TCP tuning options from PayloadWriter and Response classes
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2604">#2604</a>)</li>
<li>Drop deprecated <cite>encoding</cite> parameter from client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2606">#2606</a>)</li>
<li>Deprecate <code class="docutils literal notranslate"><span class="pre">verify_ssl</span></code>, <code class="docutils literal notranslate"><span class="pre">ssl_context</span></code> and <code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> parameters in
client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2626">#2626</a>)</li>
<li>Get rid of the legacy class StreamWriter. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2651">#2651</a>)</li>
<li>Forbid non-strings in <cite>resource.url_for()</cite> parameters. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2668">#2668</a>)</li>
<li>Deprecate inheritance from <code class="docutils literal notranslate"><span class="pre">ClientSession</span></code> and <code class="docutils literal notranslate"><span class="pre">web.Application</span></code> and
custom user attributes for <code class="docutils literal notranslate"><span class="pre">ClientSession</span></code>, <code class="docutils literal notranslate"><span class="pre">web.Request</span></code> and
<code class="docutils literal notranslate"><span class="pre">web.Application</span></code> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2691">#2691</a>)</li>
<li>Drop <cite>resp = await aiohttp.request(…)</cite> syntax for sake of <cite>async with
aiohttp.request(…) as resp:</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2540">#2540</a>)</li>
<li>Forbid synchronous context managers for <cite>ClientSession</cite> and test
server/client. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2362">#2362</a>)</li>
</ul>
</div>
<div class="section" id="id218">
<h3>Misc<a class="headerlink" href="#id218" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>#2552</li>
</ul>
</div>
</div>
<div class="section" id="id219">
<h2>2.3.10 (2018-02-02)<a class="headerlink" href="#id219" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix 100% CPU usage on HTTP GET and websocket connection just after it (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1955">#1955</a>)</li>
<li>Patch broken <cite>ssl.match_hostname()</cite> on Python&lt;3.7 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2674">#2674</a>)</li>
</ul>
</div>
<div class="section" id="id222">
<h2>2.3.9 (2018-01-16)<a class="headerlink" href="#id222" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix colon handing in path for dynamic resources (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2670">#2670</a>)</li>
</ul>
</div>
<div class="section" id="id224">
<h2>2.3.8 (2018-01-15)<a class="headerlink" href="#id224" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not use <cite>yarl.unquote</cite> internal function in aiohttp.  Fix
incorrectly unquoted path part in URL dispatcher (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2662">#2662</a>)</li>
<li>Fix compatibility with <cite>yarl==1.0.0</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2662">#2662</a>)</li>
</ul>
</div>
<div class="section" id="id227">
<h2>2.3.7 (2017-12-27)<a class="headerlink" href="#id227" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed race-condition for iterating addresses from the DNSCache. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2620">#2620</a>)</li>
<li>Fix docstring for request.host (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2591">#2591</a>)</li>
<li>Fix docstring for request.remote (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2592">#2592</a>)</li>
</ul>
</div>
<div class="section" id="id231">
<h2>2.3.6 (2017-12-04)<a class="headerlink" href="#id231" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Correct <cite>request.app</cite> context (for handlers not just middlewares). (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2577">#2577</a>)</li>
</ul>
</div>
<div class="section" id="id233">
<h2>2.3.5 (2017-11-30)<a class="headerlink" href="#id233" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix compatibility with <cite>pytest</cite> 3.3+ (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2565">#2565</a>)</li>
</ul>
</div>
<div class="section" id="id235">
<h2>2.3.4 (2017-11-29)<a class="headerlink" href="#id235" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make <cite>request.app</cite> point to proper application instance when using nested
applications (with middlewares). (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2550">#2550</a>)</li>
<li>Change base class of ClientConnectorSSLError to ClientSSLError from
ClientConnectorError. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2563">#2563</a>)</li>
<li>Return client connection back to free pool on error in <cite>connector.connect()</cite>.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2567">#2567</a>)</li>
</ul>
</div>
<div class="section" id="id239">
<h2>2.3.3 (2017-11-17)<a class="headerlink" href="#id239" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Having a <cite>;</cite> in Response content type does not assume it contains a charset
anymore. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2197">#2197</a>)</li>
<li>Use <cite>getattr(asyncio, ‘async’)</cite> for keeping compatibility with Python 3.7.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2476">#2476</a>)</li>
<li>Ignore <cite>NotImplementedError</cite> raised by <cite>set_child_watcher</cite> from <cite>uvloop</cite>.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2491">#2491</a>)</li>
<li>Fix warning in <cite>ClientSession.__del__</cite> by stopping to try to close it.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2523">#2523</a>)</li>
<li>Fixed typo’s in Third-party libraries page. And added async-v20 to the list
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2510">#2510</a>)</li>
</ul>
</div>
<div class="section" id="id245">
<h2>2.3.2 (2017-11-01)<a class="headerlink" href="#id245" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix passing client max size on cloning request obj. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2385">#2385</a>)</li>
<li>Fix ClientConnectorSSLError and ClientProxyConnectionError for proxy
connector. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2408">#2408</a>)</li>
<li>Drop generated <cite>_http_parser</cite> shared object from tarball distribution. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2414">#2414</a>)</li>
<li>Fix connector convert OSError to ClientConnectorError. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2423">#2423</a>)</li>
<li>Fix connection attempts for multiple dns hosts. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2424">#2424</a>)</li>
<li>Fix ValueError for AF_INET6 sockets if a preexisting INET6 socket to the
<cite>aiohttp.web.run_app</cite> function. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2431">#2431</a>)</li>
<li><cite>_SessionRequestContextManager</cite> closes the session properly now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2441">#2441</a>)</li>
<li>Rename <cite>from_env</cite> to <cite>trust_env</cite> in client reference. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2451">#2451</a>)</li>
</ul>
</div>
<div class="section" id="id254">
<h2>2.3.1 (2017-10-18)<a class="headerlink" href="#id254" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Relax attribute lookup in warning about old-styled middleware (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2340">#2340</a>)</li>
</ul>
</div>
<div class="section" id="id256">
<h2>2.3.0 (2017-10-18)<a class="headerlink" href="#id256" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id257">
<h3>Features<a class="headerlink" href="#id257" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add SSL related params to <cite>ClientSession.request</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1128">#1128</a>)</li>
<li>Make enable_compression work on HTTP/1.0 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1828">#1828</a>)</li>
<li>Deprecate registering synchronous web handlers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1993">#1993</a>)</li>
<li>Switch to <cite>multidict 3.0</cite>. All HTTP headers preserve casing now but compared
in case-insensitive way. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1994">#1994</a>)</li>
<li>Improvement for <cite>normalize_path_middleware</cite>. Added possibility to handle URLs
with query string. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1995">#1995</a>)</li>
<li>Use towncrier for CHANGES.txt build (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1997">#1997</a>)</li>
<li>Implement <cite>trust_env=True</cite> param in <cite>ClientSession</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1998">#1998</a>)</li>
<li>Added variable to customize proxy headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2001">#2001</a>)</li>
<li>Implement <cite>router.add_routes</cite> and router decorators. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2004">#2004</a>)</li>
<li>Deprecated <cite>BaseRequest.has_body</cite> in favor of
<cite>BaseRequest.can_read_body</cite> Added <cite>BaseRequest.body_exists</cite>
attribute that stays static for the lifetime of the request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2005">#2005</a>)</li>
<li>Provide <cite>BaseRequest.loop</cite> attribute (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2024">#2024</a>)</li>
<li>Make <cite>_CoroGuard</cite> awaitable and fix <cite>ClientSession.close</cite> warning message
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2026">#2026</a>)</li>
<li>Responses to redirects without Location header are returned instead of
raising a RuntimeError (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2030">#2030</a>)</li>
<li>Added <cite>get_client</cite>, <cite>get_server</cite>, <cite>setUpAsync</cite> and <cite>tearDownAsync</cite> methods to
AioHTTPTestCase (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2032">#2032</a>)</li>
<li>Add automatically a SafeChildWatcher to the test loop (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2058">#2058</a>)</li>
<li>add ability to disable automatic response decompression (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2110">#2110</a>)</li>
<li>Add support for throttling DNS request, avoiding the requests saturation when
there is a miss in the DNS cache and many requests getting into the connector
at the same time. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2111">#2111</a>)</li>
<li>Use request for getting access log information instead of message/transport
pair. Add <cite>RequestBase.remote</cite> property for accessing to IP of client
initiated HTTP request. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2123">#2123</a>)</li>
<li>json() raises a ContentTypeError exception if the content-type does not meet
the requirements instead of raising a generic ClientResponseError. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2136">#2136</a>)</li>
<li>Make the HTTP client able to return HTTP chunks when chunked transfer
encoding is used. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2150">#2150</a>)</li>
<li>add <cite>append_version</cite> arg into <cite>StaticResource.url</cite> and
<cite>StaticResource.url_for</cite> methods for getting an url with hash (version) of
the file. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2157">#2157</a>)</li>
<li>Fix parsing the Forwarded header. * commas and semicolons are allowed inside
quoted-strings; * empty forwarded-pairs (as in for=_1;;by=_2) are allowed; *
non-standard parameters are allowed (although this alone could be easily done
in the previous parser). (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2173">#2173</a>)</li>
<li>Don’t require ssl module to run. aiohttp does not require SSL to function.
The code paths involved with SSL will only be hit upon SSL usage. Raise
<cite>RuntimeError</cite> if HTTPS protocol is required but ssl module is not present.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2221">#2221</a>)</li>
<li>Accept coroutine fixtures in pytest plugin (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2223">#2223</a>)</li>
<li>Call <cite>shutdown_asyncgens</cite> before event loop closing on Python 3.6. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2227">#2227</a>)</li>
<li>Speed up Signals when there are no receivers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2229">#2229</a>)</li>
<li>Raise <cite>InvalidURL</cite> instead of <cite>ValueError</cite> on fetches with invalid URL.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2241">#2241</a>)</li>
<li>Move <cite>DummyCookieJar</cite> into <cite>cookiejar.py</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2242">#2242</a>)</li>
<li><cite>run_app</cite>: Make <cite>print=None</cite> disable printing (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2260">#2260</a>)</li>
<li>Support <cite>brotli</cite> encoding (generic-purpose lossless compression algorithm)
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2270">#2270</a>)</li>
<li>Add server support for WebSockets Per-Message Deflate. Add client option to
add deflate compress header in WebSockets request header. If calling
ClientSession.ws_connect() with <cite>compress=15</cite> the client will support deflate
compress negotiation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2273">#2273</a>)</li>
<li>Support <cite>verify_ssl</cite>, <cite>fingerprint</cite>, <cite>ssl_context</cite> and <cite>proxy_headers</cite> by
<cite>client.ws_connect</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2292">#2292</a>)</li>
<li>Added <cite>aiohttp.ClientConnectorSSLError</cite> when connection fails due
<cite>ssl.SSLError</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2294">#2294</a>)</li>
<li><cite>aiohttp.web.Application.make_handler</cite> support <cite>access_log_class</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2315">#2315</a>)</li>
<li>Build HTTP parser extension in non-strict mode by default. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2332">#2332</a>)</li>
</ul>
</div>
<div class="section" id="id293">
<h3>Bugfixes<a class="headerlink" href="#id293" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Clear auth information on redirecting to other domain (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1699">#1699</a>)</li>
<li>Fix missing app.loop on startup hooks during tests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2060">#2060</a>)</li>
<li>Fix issue with synchronous session closing when using <cite>ClientSession</cite> as an
asynchronous context manager. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2063">#2063</a>)</li>
<li>Fix issue with <cite>CookieJar</cite> incorrectly expiring cookies in some edge cases.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2084">#2084</a>)</li>
<li>Force use of IPv4 during test, this will make tests run in a Docker container
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2104">#2104</a>)</li>
<li>Warnings about unawaited coroutines now correctly point to the user’s code.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2106">#2106</a>)</li>
<li>Fix issue with <cite>IndexError</cite> being raised by the <cite>StreamReader.iter_chunks()</cite>
generator. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2112">#2112</a>)</li>
<li>Support HTTP 308 Permanent redirect in client class. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2114">#2114</a>)</li>
<li>Fix <cite>FileResponse</cite> sending empty chunked body on 304. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2143">#2143</a>)</li>
<li>Do not add <cite>Content-Length: 0</cite> to GET/HEAD/TRACE/OPTIONS requests by default.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2167">#2167</a>)</li>
<li>Fix parsing the Forwarded header according to RFC 7239. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2170">#2170</a>)</li>
<li>Securely determining remote/scheme/host #2171 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2171">#2171</a>)</li>
<li>Fix header name parsing, if name is split into multiple lines (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2183">#2183</a>)</li>
<li>Handle session close during connection, <cite>KeyError:
&lt;aiohttp.connector._TransportPlaceholder&gt;</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2193">#2193</a>)</li>
<li>Fixes uncaught <cite>TypeError</cite> in <cite>helpers.guess_filename</cite> if <cite>name</cite> is not a
string (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2201">#2201</a>)</li>
<li>Raise OSError on async DNS lookup if resolved domain is an alias for another
one, which does not have an A or CNAME record. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2231">#2231</a>)</li>
<li>Fix incorrect warning in <cite>StreamReader</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2251">#2251</a>)</li>
<li>Properly clone state of web request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2284">#2284</a>)</li>
<li>Fix C HTTP parser for cases when status line is split into different TCP
packets. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2311">#2311</a>)</li>
<li>Fix <cite>web.FileResponse</cite> overriding user supplied Content-Type (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2317">#2317</a>)</li>
</ul>
</div>
<div class="section" id="id314">
<h3>Improved Documentation<a class="headerlink" href="#id314" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add a note about possible performance degradation in <cite>await resp.text()</cite> if
charset was not provided by <cite>Content-Type</cite> HTTP header. Pass explicit
encoding to solve it. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1811">#1811</a>)</li>
<li>Drop <cite>disqus</cite> widget from documentation pages. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2018">#2018</a>)</li>
<li>Add a graceful shutdown section to the client usage documentation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2039">#2039</a>)</li>
<li>Document <cite>connector_owner</cite> parameter. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2072">#2072</a>)</li>
<li>Update the doc of web.Application (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2081">#2081</a>)</li>
<li>Fix mistake about access log disabling. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2085">#2085</a>)</li>
<li>Add example usage of on_startup and on_shutdown signals by creating and
disposing an aiopg connection engine. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2131">#2131</a>)</li>
<li>Document <cite>encoded=True</cite> for <cite>yarl.URL</cite>, it disables all yarl transformations.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2198">#2198</a>)</li>
<li>Document that all app’s middleware factories are run for every request.
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2225">#2225</a>)</li>
<li>Reflect the fact that default resolver is threaded one starting from aiohttp
1.1 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2228">#2228</a>)</li>
</ul>
</div>
<div class="section" id="id325">
<h3>Deprecations and Removals<a class="headerlink" href="#id325" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Drop deprecated <cite>Server.finish_connections</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2006">#2006</a>)</li>
<li>Drop %O format from logging, use %b instead. Drop %e format from logging,
environment variables are not supported anymore. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2123">#2123</a>)</li>
<li>Drop deprecated secure_proxy_ssl_header support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2171">#2171</a>)</li>
<li>Removed TimeService in favor of simple caching. TimeService also had a bug
where it lost about 0.5 seconds per second. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2176">#2176</a>)</li>
<li>Drop unused response_factory from static files API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2290">#2290</a>)</li>
</ul>
</div>
<div class="section" id="id331">
<h3>Misc<a class="headerlink" href="#id331" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>#2013, #2014, #2048, #2094, #2149, #2187, #2214, #2225, #2243, #2248</li>
</ul>
</div>
</div>
<div class="section" id="id332">
<h2>2.2.5 (2017-08-03)<a class="headerlink" href="#id332" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Don’t raise deprecation warning on
<cite>loop.run_until_complete(client.close())</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2065">#2065</a>)</li>
</ul>
</div>
<div class="section" id="id334">
<h2>2.2.4 (2017-08-02)<a class="headerlink" href="#id334" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix issue with synchronous session closing when using ClientSession
as an asynchronous context manager.  (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2063">#2063</a>)</li>
</ul>
</div>
<div class="section" id="id336">
<h2>2.2.3 (2017-07-04)<a class="headerlink" href="#id336" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <cite>_CoroGuard</cite> for python 3.4</li>
</ul>
</div>
<div class="section" id="id337">
<h2>2.2.2 (2017-07-03)<a class="headerlink" href="#id337" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow <cite>await session.close()</cite> along with <cite>yield from session.close()</cite></li>
</ul>
</div>
<div class="section" id="id338">
<h2>2.2.1 (2017-07-02)<a class="headerlink" href="#id338" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Relax <cite>yarl</cite> requirement to 0.11+</li>
<li>Backport #2026: <cite>session.close</cite> <em>is</em> a coroutine (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/2029">#2029</a>)</li>
</ul>
</div>
<div class="section" id="id340">
<h2>2.2.0 (2017-06-20)<a class="headerlink" href="#id340" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add doc for add_head, update doc for add_get. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1944">#1944</a>)</li>
<li>Fixed consecutive calls for <cite>Response.write_eof</cite>.</li>
<li>Retain method attributes (e.g. <code class="code docutils literal notranslate"><span class="pre">__doc__</span></code>) when registering synchronous
handlers for resources. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1953">#1953</a>)</li>
<li>Added signal TERM handling in <cite>run_app</cite> to gracefully exit (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1932">#1932</a>)</li>
<li>Fix websocket issues caused by frame fragmentation. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1962">#1962</a>)</li>
<li>Raise RuntimeError is you try to set the Content Length and enable
chunked encoding at the same time (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1941">#1941</a>)</li>
<li>Small update for <cite>unittest_run_loop</cite></li>
<li>Use CIMultiDict for ClientRequest.skip_auto_headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1970">#1970</a>)</li>
<li>Fix wrong startup sequence: test server and <cite>run_app()</cite> are not raise
<cite>DeprecationWarning</cite> now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1947">#1947</a>)</li>
<li>Make sure cleanup signal is sent if startup signal has been sent (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1959">#1959</a>)</li>
<li>Fixed server keep-alive handler, could cause 100% cpu utilization (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1955">#1955</a>)</li>
<li>Connection can be destroyed before response get processed if
<cite>await aiohttp.request(..)</cite> is used (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1981">#1981</a>)</li>
<li>MultipartReader does not work with -OO (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1969">#1969</a>)</li>
<li>Fixed <cite>ClientPayloadError</cite> with blank <cite>Content-Encoding</cite> header (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1931">#1931</a>)</li>
<li>Support <cite>deflate</cite> encoding implemented in <cite>httpbin.org/deflate</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1918">#1918</a>)</li>
<li>Fix BadStatusLine caused by extra <cite>CRLF</cite> after <cite>POST</cite> data (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1792">#1792</a>)</li>
<li>Keep a reference to <cite>ClientSession</cite> in response object (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1985">#1985</a>)</li>
<li>Deprecate undocumented <cite>app.on_loop_available</cite> signal (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1978">#1978</a>)</li>
</ul>
</div>
<div class="section" id="id357">
<h2>2.1.0 (2017-05-26)<a class="headerlink" href="#id357" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added support for experimental <cite>async-tokio</cite> event loop written in Rust
<a class="reference external" href="https://github.com/PyO3/tokio">https://github.com/PyO3/tokio</a></li>
<li>Write to transport <code class="docutils literal notranslate"><span class="pre">\r\n</span></code> before closing after keepalive timeout,
otherwise client can not detect socket disconnection. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1883">#1883</a>)</li>
<li>Only call <cite>loop.close</cite> in <cite>run_app</cite> if the user did <em>not</em> supply a loop.
Useful for allowing clients to specify their own cleanup before closing the
asyncio loop if they wish to tightly control loop behavior</li>
<li>Content disposition with semicolon in filename (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/917">#917</a>)</li>
<li>Added <cite>request_info</cite> to response object and <cite>ClientResponseError</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1733">#1733</a>)</li>
<li>Added <cite>history</cite> to <cite>ClientResponseError</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1741">#1741</a>)</li>
<li>Allow to disable redirect url re-quoting (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1474">#1474</a>)</li>
<li>Handle RuntimeError from transport (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1790">#1790</a>)</li>
<li>Dropped “%O” in access logger (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1673">#1673</a>)</li>
<li>Added <cite>args</cite> and <cite>kwargs</cite> to <cite>unittest_run_loop</cite>. Useful with other
decorators, for example <cite>&#64;patch</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1803">#1803</a>)</li>
<li>Added <cite>iter_chunks</cite> to response.content object. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1805">#1805</a>)</li>
<li>Avoid creating TimerContext when there is no timeout to allow
compatibility with Tornado. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1817">#1817</a>) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1180">#1180</a>)</li>
<li>Add <cite>proxy_from_env</cite> to <cite>ClientRequest</cite> to read from environment
variables. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1791">#1791</a>)</li>
<li>Add DummyCookieJar helper. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1830">#1830</a>)</li>
<li>Fix assertion errors in Python 3.4 from noop helper. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1847">#1847</a>)</li>
<li>Do not unquote <cite>+</cite> in match_info values (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1816">#1816</a>)</li>
<li>Use Forwarded, X-Forwarded-Scheme and X-Forwarded-Host for better scheme and
host resolution. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1134">#1134</a>)</li>
<li>Fix sub-application middlewares resolution order (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1853">#1853</a>)</li>
<li>Fix applications comparison (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1866">#1866</a>)</li>
<li>Fix static location in index when prefix is used (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1662">#1662</a>)</li>
<li>Make test server more reliable (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1896">#1896</a>)</li>
<li>Extend list of web exceptions, add HTTPUnprocessableEntity,
HTTPFailedDependency, HTTPInsufficientStorage status codes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1920">#1920</a>)</li>
</ul>
</div>
<div class="section" id="id379">
<h2>2.0.7 (2017-04-12)<a class="headerlink" href="#id379" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <em>pypi</em> distribution</li>
<li>Fix exception description (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1807">#1807</a>)</li>
<li>Handle socket error in FileResponse (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1773">#1773</a>)</li>
<li>Cancel websocket heartbeat on close (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1793">#1793</a>)</li>
</ul>
</div>
<div class="section" id="id383">
<h2>2.0.6 (2017-04-04)<a class="headerlink" href="#id383" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Keeping blank values for <cite>request.post()</cite> and <cite>multipart.form()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1765">#1765</a>)</li>
<li>TypeError in data_received of ResponseHandler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1770">#1770</a>)</li>
<li>Fix <code class="docutils literal notranslate"><span class="pre">web.run_app</span></code> not to bind to default host-port pair if only socket is
passed (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1786">#1786</a>)</li>
</ul>
</div>
<div class="section" id="id387">
<h2>2.0.5 (2017-03-29)<a class="headerlink" href="#id387" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Memory leak with aiohttp.request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1756">#1756</a>)</li>
<li>Disable cleanup closed ssl transports by default.</li>
<li>Exception in request handling if the server responds before the body
is sent (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1761">#1761</a>)</li>
</ul>
</div>
<div class="section" id="id390">
<h2>2.0.4 (2017-03-27)<a class="headerlink" href="#id390" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Memory leak with aiohttp.request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1756">#1756</a>)</li>
<li>Encoding is always UTF-8 in POST data (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1750">#1750</a>)</li>
<li>Do not add “Content-Disposition” header by default (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1755">#1755</a>)</li>
</ul>
</div>
<div class="section" id="id394">
<h2>2.0.3 (2017-03-24)<a class="headerlink" href="#id394" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Call https website through proxy will cause error (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1745">#1745</a>)</li>
<li>Fix exception on multipart/form-data post if content-type is not set (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1743">#1743</a>)</li>
</ul>
</div>
<div class="section" id="id397">
<h2>2.0.2 (2017-03-21)<a class="headerlink" href="#id397" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed Application.on_loop_available signal (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1739">#1739</a>)</li>
<li>Remove debug code</li>
</ul>
</div>
<div class="section" id="id399">
<h2>2.0.1 (2017-03-21)<a class="headerlink" href="#id399" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix allow-head to include name on route (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1737">#1737</a>)</li>
<li>Fixed AttributeError in WebSocketResponse.can_prepare (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1736">#1736</a>)</li>
</ul>
</div>
<div class="section" id="id402">
<h2>2.0.0 (2017-03-20)<a class="headerlink" href="#id402" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added <cite>json</cite> to <cite>ClientSession.request()</cite> method (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1726">#1726</a>)</li>
<li>Added session’s <cite>raise_for_status</cite> parameter, automatically calls
raise_for_status() on any request. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1724">#1724</a>)</li>
<li><cite>response.json()</cite> raises <cite>ClientReponseError</cite> exception if response’s
content type does not match (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1723">#1723</a>)<ul>
<li>Cleanup timer and loop handle on any client exception.</li>
</ul>
</li>
<li>Deprecate <cite>loop</cite> parameter for Application’s constructor</li>
</ul>
</div>
<div class="section" id="rc1-2017-03-15">
<h2><cite>2.0.0rc1</cite> (2017-03-15)<a class="headerlink" href="#rc1-2017-03-15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Properly handle payload errors (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1710">#1710</a>)</li>
<li>Added <cite>ClientWebSocketResponse.get_extra_info()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1717">#1717</a>)</li>
<li>It is not possible to combine Transfer-Encoding and chunked parameter,
same for compress and Content-Encoding (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1655">#1655</a>)</li>
<li>Connector’s <cite>limit</cite> parameter indicates total concurrent connections.
New <cite>limit_per_host</cite> added, indicates total connections per endpoint. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1601">#1601</a>)</li>
<li>Use url’s <cite>raw_host</cite> for name resolution (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1685">#1685</a>)</li>
<li>Change <cite>ClientResponse.url</cite> to <cite>yarl.URL</cite> instance (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1654">#1654</a>)</li>
<li>Add max_size parameter to web.Request reading methods (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1133">#1133</a>)</li>
<li>Web Request.post() stores data in temp files (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1469">#1469</a>)</li>
<li>Add the <cite>allow_head=True</cite> keyword argument for <cite>add_get</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1618">#1618</a>)</li>
<li><cite>run_app</cite> and the Command Line Interface now support serving over
Unix domain sockets for faster inter-process communication.</li>
<li><cite>run_app</cite> now supports passing a preexisting socket object. This can be useful
e.g. for socket-based activated applications, when binding of a socket is
done by the parent process.</li>
<li>Implementation for Trailer headers parser is broken (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1619">#1619</a>)</li>
<li>Fix FileResponse to not fall on bad request (range out of file size)</li>
<li>Fix FileResponse to correct stream video to Chromes</li>
<li>Deprecate public low-level api (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1657">#1657</a>)</li>
<li>Deprecate <cite>encoding</cite> parameter for ClientSession.request() method</li>
<li>Dropped aiohttp.wsgi (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1108">#1108</a>)</li>
<li>Dropped <cite>version</cite> from ClientSession.request() method</li>
<li>Dropped websocket version 76 support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1160">#1160</a>)</li>
<li>Dropped: <cite>aiohttp.protocol.HttpPrefixParser</cite>  (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1590">#1590</a>)</li>
<li>Dropped: Servers response’s <cite>.started</cite>, <cite>.start()</cite> and
<cite>.can_start()</cite> method (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1591">#1591</a>)</li>
<li>Dropped:  Adding <cite>sub app</cite> via <cite>app.router.add_subapp()</cite> is deprecated
use <cite>app.add_subapp()</cite> instead (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1592">#1592</a>)</li>
<li>Dropped: <cite>Application.finish()</cite> and <cite>Application.register_on_finish()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1602">#1602</a>)</li>
<li>Dropped: <cite>web.Request.GET</cite> and <cite>web.Request.POST</cite></li>
<li>Dropped: aiohttp.get(), aiohttp.options(), aiohttp.head(),
aiohttp.post(), aiohttp.put(), aiohttp.patch(), aiohttp.delete(), and
aiohttp.ws_connect() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1593">#1593</a>)</li>
<li>Dropped: <cite>aiohttp.web.WebSocketResponse.receive_msg()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1605">#1605</a>)</li>
<li>Dropped: <cite>ServerHttpProtocol.keep_alive_timeout</cite> attribute and
<cite>keep-alive</cite>, <cite>keep_alive_on</cite>, <cite>timeout</cite>, <cite>log</cite> constructor parameters (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1606">#1606</a>)</li>
<li>Dropped: <cite>TCPConnector’s`</cite> <cite>.resolve</cite>, <cite>.resolved_hosts</cite>,
<cite>.clear_resolved_hosts()</cite> attributes and <cite>resolve</cite> constructor
parameter (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1607">#1607</a>)</li>
<li>Dropped <cite>ProxyConnector</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1609">#1609</a>)</li>
</ul>
</div>
<div class="section" id="id428">
<h2>1.3.5 (2017-03-16)<a class="headerlink" href="#id428" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed None timeout support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1720">#1720</a>)</li>
</ul>
</div>
<div class="section" id="id430">
<h2>1.3.4 (2017-03-14)<a class="headerlink" href="#id430" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Revert timeout handling in client request</li>
<li>Fix StreamResponse representation after eof</li>
<li>Fix file_sender to not fall on bad request (range out of file size)</li>
<li>Fix file_sender to correct stream video to Chromes</li>
<li>Fix NotImplementedError server exception (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1703">#1703</a>)</li>
<li>Clearer error message for URL without a host name. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1691">#1691</a>)</li>
<li>Silence deprecation warning in __repr__ (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1690">#1690</a>)</li>
<li>IDN + HTTPS = <cite>ssl.CertificateError</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1685">#1685</a>)</li>
</ul>
</div>
<div class="section" id="id435">
<h2>1.3.3 (2017-02-19)<a class="headerlink" href="#id435" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed memory leak in time service (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1656">#1656</a>)</li>
</ul>
</div>
<div class="section" id="id437">
<h2>1.3.2 (2017-02-16)<a class="headerlink" href="#id437" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Awaiting on WebSocketResponse.send_* does not work (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1645">#1645</a>)</li>
<li>Fix multiple calls to client ws_connect when using a shared header
dict (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1643">#1643</a>)</li>
<li>Make CookieJar.filter_cookies() accept plain string parameter. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1636">#1636</a>)</li>
</ul>
</div>
<div class="section" id="id441">
<h2>1.3.1 (2017-02-09)<a class="headerlink" href="#id441" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Handle CLOSING in WebSocketResponse.__anext__</li>
<li>Fixed AttributeError ‘drain’ for server websocket handler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1613">#1613</a>)</li>
</ul>
</div>
<div class="section" id="id443">
<h2>1.3.0 (2017-02-08)<a class="headerlink" href="#id443" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Multipart writer validates the data on append instead of on a
request send (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/920">#920</a>)</li>
<li>Multipart reader accepts multipart messages with or without their epilogue
to consistently handle valid and legacy behaviors (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1526">#1526</a>) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1581">#1581</a>)</li>
<li>Separate read + connect + request timeouts # 1523</li>
<li>Do not swallow Upgrade header (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1587">#1587</a>)</li>
<li>Fix polls demo run application (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1487">#1487</a>)</li>
<li>Ignore unknown 1XX status codes in client (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1353">#1353</a>)</li>
<li>Fix sub-Multipart messages missing their headers on serialization (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1525">#1525</a>)</li>
<li>Do not use readline when reading the content of a part
in the multipart reader (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1535">#1535</a>)</li>
<li>Add optional flag for quoting <cite>FormData</cite> fields (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/916">#916</a>)</li>
<li>416 Range Not Satisfiable if requested range end &gt; file size (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1588">#1588</a>)</li>
<li>Having a <cite>:</cite> or <cite>&#64;</cite> in a route does not work (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1552">#1552</a>)</li>
<li>Added <cite>receive_timeout</cite> timeout for websocket to receive complete
message. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1325">#1325</a>)</li>
<li>Added <cite>heartbeat</cite> parameter for websocket to automatically send
<cite>ping</cite> message. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1024">#1024</a>) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/777">#777</a>)</li>
<li>Remove <cite>web.Application</cite> dependency from <cite>web.UrlDispatcher</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1510">#1510</a>)</li>
<li>Accepting back-pressure from slow websocket clients (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1367">#1367</a>)</li>
<li>Do not pause transport during set_parser stage (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1211">#1211</a>)</li>
<li>Lingering close does not terminate before timeout (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1559">#1559</a>)</li>
<li><cite>setsockopt</cite> may raise <cite>OSError</cite> exception if socket is closed already (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1595">#1595</a>)</li>
<li>Lots of CancelledError when requests are interrupted (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1565">#1565</a>)</li>
<li>Allow users to specify what should happen to decoding errors
when calling a responses <cite>text()</cite> method (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1542">#1542</a>)</li>
<li>Back port std module <cite>http.cookies</cite> for python3.4.2 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1566">#1566</a>)</li>
<li>Maintain url’s fragment in client response (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1314">#1314</a>)</li>
<li>Allow concurrently close WebSocket connection (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/754">#754</a>)</li>
<li>Gzipped responses with empty body raises ContentEncodingError (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/609">#609</a>)</li>
<li>Return 504 if request handle raises TimeoutError.</li>
<li>Refactor how we use keep-alive and close lingering timeouts.</li>
<li>Close response connection if we can not consume whole http
message during client response release</li>
<li>Abort closed ssl client transports, broken servers can keep socket
open un-limit time (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1568">#1568</a>)</li>
<li>Log warning instead of <cite>RuntimeError</cite> is websocket connection is closed.</li>
<li>Deprecated: <cite>aiohttp.protocol.HttpPrefixParser</cite>
will be removed in 1.4 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1590">#1590</a>)</li>
<li>Deprecated: Servers response’s <cite>.started</cite>, <cite>.start()</cite> and
<cite>.can_start()</cite> method will be removed in 1.4 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1591">#1591</a>)</li>
<li>Deprecated: Adding <cite>sub app</cite> via <cite>app.router.add_subapp()</cite> is deprecated
use <cite>app.add_subapp()</cite> instead, will be removed in 1.4 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1592">#1592</a>)</li>
<li>Deprecated: aiohttp.get(), aiohttp.options(), aiohttp.head(), aiohttp.post(),
aiohttp.put(), aiohttp.patch(), aiohttp.delete(), and aiohttp.ws_connect()
will be removed in 1.4 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1593">#1593</a>)</li>
<li>Deprecated: <cite>Application.finish()</cite> and <cite>Application.register_on_finish()</cite>
will be removed in 1.4 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1602">#1602</a>)</li>
</ul>
</div>
<div class="section" id="id475">
<h2>1.2.0 (2016-12-17)<a class="headerlink" href="#id475" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Extract <cite>BaseRequest</cite> from <cite>web.Request</cite>, introduce <cite>web.Server</cite>
(former <cite>RequestHandlerFactory</cite>), introduce new low-level web server
which is not coupled with <cite>web.Application</cite> and routing (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1362">#1362</a>)</li>
<li>Make <cite>TestServer.make_url</cite> compatible with <cite>yarl.URL</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1389">#1389</a>)</li>
<li>Implement range requests for static files (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1382">#1382</a>)</li>
<li>Support task attribute for StreamResponse (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1410">#1410</a>)</li>
<li>Drop <cite>TestClient.app</cite> property, use <cite>TestClient.server.app</cite> instead
(BACKWARD INCOMPATIBLE)</li>
<li>Drop <cite>TestClient.handler</cite> property, use <cite>TestClient.server.handler</cite> instead
(BACKWARD INCOMPATIBLE)</li>
<li><cite>TestClient.server</cite> property returns a test server instance, was
<cite>asyncio.AbstractServer</cite> (BACKWARD INCOMPATIBLE)</li>
<li>Follow gunicorn’s signal semantics in <cite>Gunicorn[UVLoop]WebWorker</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1201">#1201</a>)</li>
<li>Call worker_int and worker_abort callbacks in
<cite>Gunicorn[UVLoop]WebWorker</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1202">#1202</a>)</li>
<li>Has functional tests for client proxy (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1218">#1218</a>)</li>
<li>Fix bugs with client proxy target path and proxy host with port (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1413">#1413</a>)</li>
<li>Fix bugs related to the use of unicode hostnames (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1444">#1444</a>)</li>
<li>Preserve cookie quoting/escaping (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1453">#1453</a>)</li>
<li>FileSender will send gzipped response if gzip version available (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1426">#1426</a>)</li>
<li>Don’t override <cite>Content-Length</cite> header in <cite>web.Response</cite> if no body
was set (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1400">#1400</a>)</li>
<li>Introduce <cite>router.post_init()</cite> for solving (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1373">#1373</a>)</li>
<li>Fix raise error in case of multiple calls of <cite>TimeServive.stop()</cite></li>
<li>Allow to raise web exceptions on router resolving stage (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1460">#1460</a>)</li>
<li>Add a warning for session creation outside of coroutine (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1468">#1468</a>)</li>
<li>Avoid a race when application might start accepting incoming requests
but startup signals are not processed yet e98e8c6</li>
<li>Raise a <cite>RuntimeError</cite> when trying to change the status of the HTTP response
after the headers have been sent (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1480">#1480</a>)</li>
<li>Fix bug with https proxy acquired cleanup (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1340">#1340</a>)</li>
<li>Use UTF-8 as the default encoding for multipart text parts (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1484">#1484</a>)</li>
</ul>
</div>
<div class="section" id="id494">
<h2>1.1.6 (2016-11-28)<a class="headerlink" href="#id494" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix <cite>BodyPartReader.read_chunk</cite> bug about returns zero bytes before
<cite>EOF</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1428">#1428</a>)</li>
</ul>
</div>
<div class="section" id="id496">
<h2>1.1.5 (2016-11-16)<a class="headerlink" href="#id496" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix static file serving in fallback mode (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1401">#1401</a>)</li>
</ul>
</div>
<div class="section" id="id498">
<h2>1.1.4 (2016-11-14)<a class="headerlink" href="#id498" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make <cite>TestServer.make_url</cite> compatible with <cite>yarl.URL</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1389">#1389</a>)</li>
<li>Generate informative exception on redirects from server which
does not provide redirection headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1396">#1396</a>)</li>
</ul>
</div>
<div class="section" id="id501">
<h2>1.1.3 (2016-11-10)<a class="headerlink" href="#id501" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Support <em>root</em> resources for sub-applications (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1379">#1379</a>)</li>
</ul>
</div>
<div class="section" id="id503">
<h2>1.1.2 (2016-11-08)<a class="headerlink" href="#id503" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow starting variables with an underscore (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1379">#1379</a>)</li>
<li>Properly process UNIX sockets by gunicorn worker (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1375">#1375</a>)</li>
<li>Fix ordering for <cite>FrozenList</cite></li>
<li>Don’t propagate pre and post signals to sub-application (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1377">#1377</a>)</li>
</ul>
</div>
<div class="section" id="id507">
<h2>1.1.1 (2016-11-04)<a class="headerlink" href="#id507" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix documentation generation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1120">#1120</a>)</li>
</ul>
</div>
<div class="section" id="id509">
<h2>1.1.0 (2016-11-03)<a class="headerlink" href="#id509" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Drop deprecated <cite>WSClientDisconnectedError</cite> (BACKWARD INCOMPATIBLE)</p>
</li>
<li><p class="first">Use <cite>yarl.URL</cite> in client API. The change is 99% backward compatible
but <cite>ClientResponse.url</cite> is an <cite>yarl.URL</cite> instance now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1217">#1217</a>)</p>
</li>
<li><p class="first">Close idle keep-alive connections on shutdown (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1222">#1222</a>)</p>
</li>
<li><p class="first">Modify regex in AccessLogger to accept underscore and numbers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1225">#1225</a>)</p>
</li>
<li><p class="first">Use <cite>yarl.URL</cite> in web server API. <cite>web.Request.rel_url</cite> and
<cite>web.Request.url</cite> are added. URLs and templates are percent-encoded
now. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1224">#1224</a>)</p>
</li>
<li><p class="first">Accept <cite>yarl.URL</cite> by server redirections (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1278">#1278</a>)</p>
</li>
<li><p class="first">Return <cite>yarl.URL</cite> by <cite>.make_url()</cite> testing utility (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1279">#1279</a>)</p>
</li>
<li><p class="first">Properly format IPv6 addresses by <cite>aiohttp.web.run_app</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1139">#1139</a>)</p>
</li>
<li><p class="first">Use <cite>yarl.URL</cite> by server API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1288">#1288</a>)</p>
<ul class="simple">
<li>Introduce <cite>resource.url_for()</cite>, deprecate <cite>resource.url()</cite>.</li>
<li>Implement <cite>StaticResource</cite>.</li>
<li>Inherit <cite>SystemRoute</cite> from <cite>AbstractRoute</cite></li>
<li>Drop old-style routes: <cite>Route</cite>, <cite>PlainRoute</cite>, <cite>DynamicRoute</cite>,
<cite>StaticRoute</cite>, <cite>ResourceAdapter</cite>.</li>
</ul>
</li>
<li><p class="first">Revert <cite>resp.url</cite> back to <cite>str</cite>, introduce <cite>resp.url_obj</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1292">#1292</a>)</p>
</li>
<li><p class="first">Raise ValueError if BasicAuth login has a “:” character (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1307">#1307</a>)</p>
</li>
<li><p class="first">Fix bug when ClientRequest send payload file with opened as
open(‘filename’, ‘r+b’) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1306">#1306</a>)</p>
</li>
<li><p class="first">Enhancement to AccessLogger (pass <em>extra</em> dict) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1303">#1303</a>)</p>
</li>
<li><p class="first">Show more verbose message on import errors (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1319">#1319</a>)</p>
</li>
<li><p class="first">Added save and load functionality for <cite>CookieJar</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1219">#1219</a>)</p>
</li>
<li><p class="first">Added option on <cite>StaticRoute</cite> to follow symlinks (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1299">#1299</a>)</p>
</li>
<li><p class="first">Force encoding of <cite>application/json</cite> content type to utf-8 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1339">#1339</a>)</p>
</li>
<li><p class="first">Fix invalid invocations of <cite>errors.LineTooLong</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1335">#1335</a>)</p>
</li>
<li><p class="first">Websockets: Stop <cite>async for</cite> iteration when connection is closed (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1144">#1144</a>)</p>
</li>
<li><p class="first">Ensure TestClient HTTP methods return a context manager (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1318">#1318</a>)</p>
</li>
<li><p class="first">Raise <cite>ClientDisconnectedError</cite> to <cite>FlowControlStreamReader</cite> read function
if <cite>ClientSession</cite> object is closed by client when reading data. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1323">#1323</a>)</p>
</li>
<li><p class="first">Document deployment without <cite>Gunicorn</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1120">#1120</a>)</p>
</li>
<li><p class="first">Add deprecation warning for MD5 and SHA1 digests when used for fingerprint
of site certs in TCPConnector. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1186">#1186</a>)</p>
</li>
<li><p class="first">Implement sub-applications (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1301">#1301</a>)</p>
</li>
<li><p class="first">Don’t inherit <cite>web.Request</cite> from <cite>dict</cite> but implement
<cite>MutableMapping</cite> protocol.</p>
</li>
<li><p class="first">Implement frozen signals</p>
</li>
<li><p class="first">Don’t inherit <cite>web.Application</cite> from <cite>dict</cite> but implement
<cite>MutableMapping</cite> protocol.</p>
</li>
<li><p class="first">Support freezing for web applications</p>
</li>
<li><p class="first">Accept access_log parameter in <cite>web.run_app</cite>, use <cite>None</cite> to disable logging</p>
</li>
<li><p class="first">Don’t flap <cite>tcp_cork</cite> and <cite>tcp_nodelay</cite> in regular request handling.
<cite>tcp_nodelay</cite> is still enabled by default.</p>
</li>
<li><p class="first">Improve performance of web server by removing premature computing of
Content-Type if the value was set by <cite>web.Response</cite> constructor.</p>
<p>While the patch boosts speed of trivial <cite>web.Response(text=’OK’,
content_type=’text/plain)</cite> very well please don’t expect significant
boost of your application – a couple DB requests and business logic
is still the main bottleneck.</p>
</li>
<li><p class="first">Boost performance by adding a custom time service (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1350">#1350</a>)</p>
</li>
<li><p class="first">Extend <cite>ClientResponse</cite> with <cite>content_type</cite> and <cite>charset</cite>
properties like in <cite>web.Request</cite>. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1349">#1349</a>)</p>
</li>
<li><p class="first">Disable aiodns by default (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/559">#559</a>)</p>
</li>
<li><p class="first">Don’t flap <cite>tcp_cork</cite> in client code, use TCP_NODELAY mode by default.</p>
</li>
<li><p class="first">Implement <cite>web.Request.clone()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1361">#1361</a>)</p>
</li>
</ul>
</div>
<div class="section" id="id537">
<h2>1.0.5 (2016-10-11)<a class="headerlink" href="#id537" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix StreamReader._read_nowait to return all available
data up to the requested amount (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1297">#1297</a>)</li>
</ul>
</div>
<div class="section" id="id539">
<h2>1.0.4 (2016-09-22)<a class="headerlink" href="#id539" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix FlowControlStreamReader.read_nowait so that it checks
whether the transport is paused (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1206">#1206</a>)</li>
</ul>
</div>
<div class="section" id="id541">
<h2>1.0.2 (2016-09-22)<a class="headerlink" href="#id541" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make CookieJar compatible with 32-bit systems (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1188">#1188</a>)</li>
<li>Add missing <cite>WSMsgType</cite> to <cite>web_ws.__all__</cite>, see (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1200">#1200</a>)</li>
<li>Fix <cite>CookieJar</cite> ctor when called with <cite>loop=None</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1203">#1203</a>)</li>
<li>Fix broken upper-casing in wsgi support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1197">#1197</a>)</li>
</ul>
</div>
<div class="section" id="id546">
<h2>1.0.1 (2016-09-16)<a class="headerlink" href="#id546" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Restore <cite>aiohttp.web.MsgType</cite> alias for <cite>aiohttp.WSMsgType</cite> for sake
of backward compatibility (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1178">#1178</a>)</li>
<li>Tune alabaster schema.</li>
<li>Use <cite>text/html</cite> content type for displaying index pages by static
file handler.</li>
<li>Fix <cite>AssertionError</cite> in static file handling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1177">#1177</a>)</li>
<li>Fix access log formats <cite>%O</cite> and <cite>%b</cite> for static file handling</li>
<li>Remove <cite>debug</cite> setting of GunicornWorker, use <cite>app.debug</cite>
to control its debug-mode instead</li>
</ul>
</div>
<div class="section" id="id549">
<h2>1.0.0 (2016-09-16)<a class="headerlink" href="#id549" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Change default size for client session’s connection pool from
unlimited to 20 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/977">#977</a>)</li>
<li>Add IE support for cookie deletion. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/994">#994</a>)</li>
<li>Remove deprecated <cite>WebSocketResponse.wait_closed</cite> method (BACKWARD
INCOMPATIBLE)</li>
<li>Remove deprecated <cite>force</cite> parameter for <cite>ClientResponse.close</cite>
method (BACKWARD INCOMPATIBLE)</li>
<li>Avoid using of mutable CIMultiDict kw param in make_mocked_request
(<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/997">#997</a>)</li>
<li>Make WebSocketResponse.close a little bit faster by avoiding new
task creating just for timeout measurement</li>
<li>Add <cite>proxy</cite> and <cite>proxy_auth</cite> params to <cite>client.get()</cite> and family,
deprecate <cite>ProxyConnector</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/998">#998</a>)</li>
<li>Add support for websocket send_json and receive_json, synchronize
server and client API for websockets (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/984">#984</a>)</li>
<li>Implement router shourtcuts for most useful HTTP methods, use
<cite>app.router.add_get()</cite>, <cite>app.router.add_post()</cite> etc. instead of
<cite>app.router.add_route()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/986">#986</a>)</li>
<li>Support SSL connections for gunicorn worker (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1003">#1003</a>)</li>
<li>Move obsolete examples to legacy folder</li>
<li>Switch to multidict 2.0 and title-cased strings (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1015">#1015</a>)</li>
<li><cite>{FOO}e</cite> logger format is case-sensitive now</li>
<li>Fix logger report for unix socket 8e8469b</li>
<li>Rename aiohttp.websocket to aiohttp._ws_impl</li>
<li>Rename aiohttp.MsgType tp aiohttp.WSMsgType</li>
<li>Introduce aiohttp.WSMessage officially</li>
<li>Rename Message -&gt; WSMessage</li>
<li>Remove deprecated decode param from resp.read(decode=True)</li>
<li>Use 5min default client timeout (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1028">#1028</a>)</li>
<li>Relax HTTP method validation in UrlDispatcher (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1037">#1037</a>)</li>
<li>Pin minimal supported asyncio version to 3.4.2+ (<cite>loop.is_close()</cite>
should be present)</li>
<li>Remove aiohttp.websocket module (BACKWARD INCOMPATIBLE)
Please use high-level client and server approaches</li>
<li>Link header for 451 status code is mandatory</li>
<li>Fix test_client fixture to allow multiple clients per test (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1072">#1072</a>)</li>
<li>make_mocked_request now accepts dict as headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1073">#1073</a>)</li>
<li>Add Python 3.5.2/3.6+ compatibility patch for async generator
protocol change (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1082">#1082</a>)</li>
<li>Improvement test_client can accept instance object (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1083">#1083</a>)</li>
<li>Simplify ServerHttpProtocol implementation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1060">#1060</a>)</li>
<li>Add a flag for optional showing directory index for static file
handling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/921">#921</a>)</li>
<li>Define <cite>web.Application.on_startup()</cite> signal handler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1103">#1103</a>)</li>
<li>Drop ChunkedParser and LinesParser (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1111">#1111</a>)</li>
<li>Call <cite>Application.startup</cite> in GunicornWebWorker (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1105">#1105</a>)</li>
<li>Fix client handling hostnames with 63 bytes when a port is given in
the url (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1044">#1044</a>)</li>
<li>Implement proxy support for ClientSession.ws_connect (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1025">#1025</a>)</li>
<li>Return named tuple from WebSocketResponse.can_prepare (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1016">#1016</a>)</li>
<li>Fix access_log_format in <cite>GunicornWebWorker</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1117">#1117</a>)</li>
<li>Setup Content-Type to application/octet-stream by default (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1124">#1124</a>)</li>
<li>Deprecate debug parameter from app.make_handler(), use
<cite>Application(debug=True)</cite> instead (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1121">#1121</a>)</li>
<li>Remove fragment string in request path (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/846">#846</a>)</li>
<li>Use aiodns.DNSResolver.gethostbyname() if available (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1136">#1136</a>)</li>
<li>Fix static file sending on uvloop when sendfile is available (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1093">#1093</a>)</li>
<li>Make prettier urls if query is empty dict (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1143">#1143</a>)</li>
<li>Fix redirects for HEAD requests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1147">#1147</a>)</li>
<li>Default value for <cite>StreamReader.read_nowait</cite> is -1 from now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1150">#1150</a>)</li>
<li><cite>aiohttp.StreamReader</cite> is not inherited from <cite>asyncio.StreamReader</cite> from now
(BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1150">#1150</a>)</li>
<li>Streams documentation added (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1150">#1150</a>)</li>
<li>Add <cite>multipart</cite> coroutine method for web Request object (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1067">#1067</a>)</li>
<li>Publish ClientSession.loop property (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1149">#1149</a>)</li>
<li>Fix static file with spaces (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1140">#1140</a>)</li>
<li>Fix piling up asyncio loop by cookie expiration callbacks (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1061">#1061</a>)</li>
<li>Drop <cite>Timeout</cite> class for sake of <cite>async_timeout</cite> external library.
<cite>aiohttp.Timeout</cite> is an alias for <cite>async_timeout.timeout</cite></li>
<li><cite>use_dns_cache</cite> parameter of <cite>aiohttp.TCPConnector</cite> is <cite>True</cite> by
default (BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1152">#1152</a>)</li>
<li><cite>aiohttp.TCPConnector</cite> uses asynchronous DNS resolver if available by
default (BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1152">#1152</a>)</li>
<li>Conform to RFC3986 - do not include url fragments in client requests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1174">#1174</a>)</li>
<li>Drop <cite>ClientSession.cookies</cite> (BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1173">#1173</a>)</li>
<li>Refactor <cite>AbstractCookieJar</cite> public API (BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1173">#1173</a>)</li>
<li>Fix clashing cookies with have the same name but belong to different
domains (BACKWARD INCOMPATIBLE) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1125">#1125</a>)</li>
<li>Support binary Content-Transfer-Encoding (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1169">#1169</a>)</li>
</ul>
</div>
<div class="section" id="id594">
<h2>0.22.5 (08-02-2016)<a class="headerlink" href="#id594" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pin miltidict version to &gt;=1.2.2</li>
</ul>
</div>
<div class="section" id="id595">
<h2>0.22.3 (07-26-2016)<a class="headerlink" href="#id595" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not filter cookies if unsafe flag provided (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/1005">#1005</a>)</li>
</ul>
</div>
<div class="section" id="id597">
<h2>0.22.2 (07-23-2016)<a class="headerlink" href="#id597" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Suppress CancelledError when Timeout raises TimeoutError (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/970">#970</a>)</li>
<li>Don’t expose <cite>aiohttp.__version__</cite></li>
<li>Add unsafe parameter to CookieJar (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/968">#968</a>)</li>
<li>Use unsafe cookie jar in test client tools</li>
<li>Expose aiohttp.CookieJar name</li>
</ul>
</div>
<div class="section" id="id600">
<h2>0.22.1 (07-16-2016)<a class="headerlink" href="#id600" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Large cookie expiration/max-age does not break an event loop from now
(fixes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/967">#967</a>))</li>
</ul>
</div>
<div class="section" id="id602">
<h2>0.22.0 (07-15-2016)<a class="headerlink" href="#id602" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix bug in serving static directory (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/803">#803</a>)</li>
<li>Fix command line arg parsing (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/797">#797</a>)</li>
<li>Fix a documentation chapter about cookie usage (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/790">#790</a>)</li>
<li>Handle empty body with gzipped encoding (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/758">#758</a>)</li>
<li>Support 451 Unavailable For Legal Reasons http status  (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/697">#697</a>)</li>
<li>Fix Cookie share example and few small typos in docs (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/817">#817</a>)</li>
<li>UrlDispatcher.add_route with partial coroutine handler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/814">#814</a>)</li>
<li>Optional support for aiodns (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/728">#728</a>)</li>
<li>Add ServiceRestart and TryAgainLater websocket close codes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/828">#828</a>)</li>
<li>Fix prompt message for <cite>web.run_app</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/832">#832</a>)</li>
<li>Allow to pass None as a timeout value to disable timeout logic (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/834">#834</a>)</li>
<li>Fix leak of connection slot during connection error (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/835">#835</a>)</li>
<li>Gunicorn worker with uvloop support
<cite>aiohttp.worker.GunicornUVLoopWebWorker</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/878">#878</a>)</li>
<li>Don’t send body in response to HEAD request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/838">#838</a>)</li>
<li>Skip the preamble in MultipartReader (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/881">#881</a>)</li>
<li>Implement BasicAuth decode classmethod. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/744">#744</a>)</li>
<li>Don’t crash logger when transport is None (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/889">#889</a>)</li>
<li>Use a create_future compatibility wrapper instead of creating
Futures directly (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/896">#896</a>)</li>
<li>Add test utilities to aiohttp (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/902">#902</a>)</li>
<li>Improve Request.__repr__ (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/875">#875</a>)</li>
<li>Skip DNS resolving if provided host is already an ip address (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/874">#874</a>)</li>
<li>Add headers to ClientSession.ws_connect (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/785">#785</a>)</li>
<li>Document that server can send pre-compressed data (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/906">#906</a>)</li>
<li>Don’t add Content-Encoding and Transfer-Encoding if no body (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/891">#891</a>)</li>
<li>Add json() convenience methods to websocket message objects (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/897">#897</a>)</li>
<li>Add client_resp.raise_for_status() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/908">#908</a>)</li>
<li>Implement cookie filter (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/799">#799</a>)</li>
<li>Include an example of middleware to handle error pages (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/909">#909</a>)</li>
<li>Fix error handling in StaticFileMixin (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/856">#856</a>)</li>
<li>Add mocked request helper (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/900">#900</a>)</li>
<li>Fix empty ALLOW Response header for cls based View (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/929">#929</a>)</li>
<li>Respect CONNECT method to implement a proxy server (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/847">#847</a>)</li>
<li>Add pytest_plugin (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/914">#914</a>)</li>
<li>Add tutorial</li>
<li>Add backlog option to support more than 128 (default value in
“create_server” function) concurrent connections (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/892">#892</a>)</li>
<li>Allow configuration of header size limits (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/912">#912</a>)</li>
<li>Separate sending file logic from StaticRoute dispatcher (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/901">#901</a>)</li>
<li>Drop deprecated share_cookies connector option (BACKWARD INCOMPATIBLE)</li>
<li>Drop deprecated support for tuple as auth parameter.
Use aiohttp.BasicAuth instead (BACKWARD INCOMPATIBLE)</li>
<li>Remove deprecated <cite>request.payload</cite> property, use <cite>content</cite> instead.
(BACKWARD INCOMPATIBLE)</li>
<li>Drop all mentions about api changes in documentation for versions
older than 0.16</li>
<li>Allow to override default cookie jar (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/963">#963</a>)</li>
<li>Add manylinux wheel builds</li>
<li>Dup a socket for sendfile usage (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/964">#964</a>)</li>
</ul>
</div>
<div class="section" id="id641">
<h2>0.21.6 (05-05-2016)<a class="headerlink" href="#id641" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Drop initial query parameters on redirects (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/853">#853</a>)</li>
</ul>
</div>
<div class="section" id="id643">
<h2>0.21.5 (03-22-2016)<a class="headerlink" href="#id643" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix command line arg parsing (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/797">#797</a>)</li>
</ul>
</div>
<div class="section" id="id645">
<h2>0.21.4 (03-12-2016)<a class="headerlink" href="#id645" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix ResourceAdapter: don’t add method to allowed if resource is not
match (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/826">#826</a>)</li>
<li>Fix Resource: append found method to returned allowed methods</li>
</ul>
</div>
<div class="section" id="id647">
<h2>0.21.2 (02-16-2016)<a class="headerlink" href="#id647" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix a regression: support for handling ~/path in static file routes was
broken (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/782">#782</a>)</li>
</ul>
</div>
<div class="section" id="id649">
<h2>0.21.1 (02-10-2016)<a class="headerlink" href="#id649" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make new resources classes public (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/767">#767</a>)</li>
<li>Add <cite>router.resources()</cite> view</li>
<li>Fix cmd-line parameter names in doc</li>
</ul>
</div>
<div class="section" id="id651">
<h2>0.21.0 (02-04-2016)<a class="headerlink" href="#id651" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Introduce on_shutdown signal (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/722">#722</a>)</p>
</li>
<li><p class="first">Implement raw input headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/726">#726</a>)</p>
</li>
<li><p class="first">Implement web.run_app utility function (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/734">#734</a>)</p>
</li>
<li><p class="first">Introduce on_cleanup signal</p>
</li>
<li><p class="first">Deprecate Application.finish() / Application.register_on_finish() in favor of
on_cleanup.</p>
</li>
<li><p class="first">Get rid of bare aiohttp.request(), aiohttp.get() and family in docs (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/729">#729</a>)</p>
</li>
<li><p class="first">Deprecate bare aiohttp.request(), aiohttp.get() and family (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/729">#729</a>)</p>
</li>
<li><p class="first">Refactor keep-alive support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/737">#737</a>):</p>
<ul>
<li><p class="first">Enable keepalive for HTTP 1.0 by default</p>
</li>
<li><p class="first">Disable it for HTTP 0.9 (who cares about 0.9, BTW?)</p>
</li>
<li><p class="first">For keepalived connections</p>
<blockquote>
<div><ul class="simple">
<li>Send <cite>Connection: keep-alive</cite> for HTTP 1.0 only</li>
<li>don’t send <cite>Connection</cite> header for HTTP 1.1</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">For non-keepalived connections</p>
<blockquote>
<div><ul class="simple">
<li>Send <cite>Connection: close</cite> for HTTP 1.1 only</li>
<li>don’t send <cite>Connection</cite> header for HTTP 1.0</li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">Add version parameter to ClientSession constructor,
deprecate it for session.request() and family (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/736">#736</a>)</p>
</li>
<li><p class="first">Enable access log by default (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/735">#735</a>)</p>
</li>
<li><p class="first">Deprecate app.router.register_route() (the method was not documented
intentionally BTW).</p>
</li>
<li><p class="first">Deprecate app.router.named_routes() in favor of app.router.named_resources()</p>
</li>
<li><p class="first">route.add_static accepts pathlib.Path now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/743">#743</a>)</p>
</li>
<li><p class="first">Add command line support: <cite>$ python -m aiohttp.web package.main</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/740">#740</a>)</p>
</li>
<li><p class="first">FAQ section was added to docs. Enjoy and fill free to contribute new topics</p>
</li>
<li><p class="first">Add async context manager support to ClientSession</p>
</li>
<li><p class="first">Document ClientResponse’s host, method, url properties</p>
</li>
<li><p class="first">Use CORK/NODELAY in client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/748">#748</a>)</p>
</li>
<li><p class="first">ClientSession.close and Connector.close are coroutines now</p>
</li>
<li><p class="first">Close client connection on exception in ClientResponse.release()</p>
</li>
<li><p class="first">Allow to read multipart parts without content-length specified (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/750">#750</a>)</p>
</li>
<li><p class="first">Add support for unix domain sockets to gunicorn worker (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/470">#470</a>)</p>
</li>
<li><p class="first">Add test for default Expect handler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/601">#601</a>)</p>
</li>
<li><p class="first">Add the first demo project</p>
</li>
<li><p class="first">Rename <cite>loader</cite> keyword argument in <cite>web.Request.json</cite> method. (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/646">#646</a>)</p>
</li>
<li><p class="first">Add local socket binding for TCPConnector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/678">#678</a>)</p>
</li>
</ul>
</div>
<div class="section" id="id668">
<h2>0.20.2 (01-07-2016)<a class="headerlink" href="#id668" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Enable use of <cite>await</cite> for a class based view (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/717">#717</a>)</li>
<li>Check address family to fill wsgi env properly (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/718">#718</a>)</li>
<li>Fix memory leak in headers processing (thanks to Marco Paolini) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/723">#723</a>)</li>
</ul>
</div>
<div class="section" id="id672">
<h2>0.20.1 (12-30-2015)<a class="headerlink" href="#id672" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Raise RuntimeError is Timeout context manager was used outside of
task context.</li>
<li>Add number of bytes to stream.read_nowait (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/700">#700</a>)</li>
<li>Use X-FORWARDED-PROTO for wsgi.url_scheme when available</li>
</ul>
</div>
<div class="section" id="id674">
<h2>0.20.0 (12-28-2015)<a class="headerlink" href="#id674" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Extend list of web exceptions, add HTTPMisdirectedRequest,
HTTPUpgradeRequired, HTTPPreconditionRequired, HTTPTooManyRequests,
HTTPRequestHeaderFieldsTooLarge, HTTPVariantAlsoNegotiates,
HTTPNotExtended, HTTPNetworkAuthenticationRequired status codes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/644">#644</a>)</li>
<li>Do not remove AUTHORIZATION header by WSGI handler (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/649">#649</a>)</li>
<li>Fix broken support for https proxies with authentication (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/617">#617</a>)</li>
<li>Get REMOTE_* and SEVER_* http vars from headers when listening on
unix socket (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/654">#654</a>)</li>
<li>Add HTTP 308 support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/663">#663</a>)</li>
<li>Add Tf format (time to serve request in seconds, %06f format) to
access log (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/669">#669</a>)</li>
<li>Remove one and a half years long deprecated
ClientResponse.read_and_close() method</li>
<li>Optimize chunked encoding: use a single syscall instead of 3 calls
on sending chunked encoded data</li>
<li>Use TCP_CORK and TCP_NODELAY to optimize network latency and
throughput (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/680">#680</a>)</li>
<li>Websocket XOR performance improved (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/687">#687</a>)</li>
<li>Avoid sending cookie attributes in Cookie header (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/613">#613</a>)</li>
<li>Round server timeouts to seconds for grouping pending calls.  That
leads to less amount of poller syscalls e.g. epoll.poll(). (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/702">#702</a>)</li>
<li>Close connection on websocket handshake error (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/703">#703</a>)</li>
<li>Implement class based views (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/684">#684</a>)</li>
<li>Add <em>headers</em> parameter to ws_connect() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/709">#709</a>)</li>
<li>Drop unused function <cite>parse_remote_addr()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/708">#708</a>)</li>
<li>Close session on exception (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/707">#707</a>)</li>
<li>Store http code and headers in WSServerHandshakeError (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/706">#706</a>)</li>
<li>Make some low-level message properties readonly (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/710">#710</a>)</li>
</ul>
</div>
<div class="section" id="id692">
<h2>0.19.0 (11-25-2015)<a class="headerlink" href="#id692" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Memory leak in ParserBuffer (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/579">#579</a>)</li>
<li>Support gunicorn’s <cite>max_requests</cite> settings in gunicorn worker</li>
<li>Fix wsgi environment building (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/573">#573</a>)</li>
<li>Improve access logging (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/572">#572</a>)</li>
<li>Drop unused host and port from low-level server (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/586">#586</a>)</li>
<li>Add Python 3.5 <cite>async for</cite> implementation to server websocket (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/543">#543</a>)</li>
<li>Add Python 3.5 <cite>async for</cite> implementation to client websocket</li>
<li>Add Python 3.5 <cite>async with</cite> implementation to client websocket</li>
<li>Add charset parameter to web.Response constructor (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/593">#593</a>)</li>
<li>Forbid passing both Content-Type header and content_type or charset
params into web.Response constructor</li>
<li>Forbid duplicating of web.Application and web.Request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/602">#602</a>)</li>
<li>Add an option to pass Origin header in ws_connect (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/607">#607</a>)</li>
<li>Add json_response function (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/592">#592</a>)</li>
<li>Make concurrent connections respect limits (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/581">#581</a>)</li>
<li>Collect history of responses if redirects occur (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/614">#614</a>)</li>
<li>Enable passing pre-compressed data in requests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/621">#621</a>)</li>
<li>Expose named routes via UrlDispatcher.named_routes() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/622">#622</a>)</li>
<li>Allow disabling sendfile by environment variable AIOHTTP_NOSENDFILE (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/629">#629</a>)</li>
<li>Use ensure_future if available</li>
<li>Always quote params for Content-Disposition (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/641">#641</a>)</li>
<li>Support async for in multipart reader (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/640">#640</a>)</li>
<li>Add Timeout context manager (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/611">#611</a>)</li>
</ul>
</div>
<div class="section" id="id710">
<h2>0.18.4 (13-11-2015)<a class="headerlink" href="#id710" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Relax rule for router names again by adding dash to allowed
characters: they may contain identifiers, dashes, dots and columns</li>
</ul>
</div>
<div class="section" id="id711">
<h2>0.18.3 (25-10-2015)<a class="headerlink" href="#id711" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix formatting for _RequestContextManager helper (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/590">#590</a>)</li>
</ul>
</div>
<div class="section" id="id713">
<h2>0.18.2 (22-10-2015)<a class="headerlink" href="#id713" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix regression for OpenSSL &lt; 1.0.0 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/583">#583</a>)</li>
</ul>
</div>
<div class="section" id="id715">
<h2>0.18.1 (20-10-2015)<a class="headerlink" href="#id715" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Relax rule for router names: they may contain dots and columns
starting from now</li>
</ul>
</div>
<div class="section" id="id716">
<h2>0.18.0 (19-10-2015)<a class="headerlink" href="#id716" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Use errors.HttpProcessingError.message as HTTP error reason and
message (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/459">#459</a>)</p>
</li>
<li><p class="first">Optimize cythonized multidict a bit</p>
</li>
<li><p class="first">Change repr’s of multidicts and multidict views</p>
</li>
<li><p class="first">default headers in ClientSession are now case-insensitive</p>
</li>
<li><p class="first">Make ‘=’ char and ‘wss://’ schema safe in urls (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/477">#477</a>)</p>
</li>
<li><p class="first"><cite>ClientResponse.close()</cite> forces connection closing by default from now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/479">#479</a>)</p>
<p>N.B. Backward incompatible change: was <cite>.close(force=False) Using
`force</cite> parameter for the method is deprecated: use <cite>.release()</cite>
instead.</p>
</li>
<li><p class="first">Properly requote URL’s path (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/480">#480</a>)</p>
</li>
<li><p class="first">add <cite>skip_auto_headers</cite> parameter for client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/486">#486</a>)</p>
</li>
<li><p class="first">Properly parse URL path in aiohttp.web.Request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/489">#489</a>)</p>
</li>
<li><p class="first">Raise RuntimeError when chunked enabled and HTTP is 1.0 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/488">#488</a>)</p>
</li>
<li><p class="first">Fix a bug with processing io.BytesIO as data parameter for client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/500">#500</a>)</p>
</li>
<li><p class="first">Skip auto-generation of Content-Type header (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/507">#507</a>)</p>
</li>
<li><p class="first">Use sendfile facility for static file handling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/503">#503</a>)</p>
</li>
<li><p class="first">Default <cite>response_factory</cite> in <cite>app.router.add_static</cite> now is
<cite>StreamResponse</cite>, not <cite>None</cite>. The functionality is not changed if
default is not specified.</p>
</li>
<li><p class="first">Drop <cite>ClientResponse.message</cite> attribute, it was always implementation detail.</p>
</li>
<li><p class="first">Streams are optimized for speed and mostly memory in case of a big
HTTP message sizes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/496">#496</a>)</p>
</li>
<li><p class="first">Fix a bug for server-side cookies for dropping cookie and setting it
again without Max-Age parameter.</p>
</li>
<li><p class="first">Don’t trim redirect URL in client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/499">#499</a>)</p>
</li>
<li><p class="first">Extend precision of access log “D” to milliseconds (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/527">#527</a>)</p>
</li>
<li><p class="first">Deprecate <cite>StreamResponse.start()</cite> method in favor of
<cite>StreamResponse.prepare()</cite> coroutine (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/525">#525</a>)</p>
<p><cite>.start()</cite> is still supported but responses begun with <cite>.start()</cite>
does not call signal for response preparing to be sent.</p>
</li>
<li><p class="first">Add <cite>StreamReader.__repr__</cite></p>
</li>
<li><p class="first">Drop Python 3.3 support, from now minimal required version is Python
3.4.1 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/541">#541</a>)</p>
</li>
<li><p class="first">Add <cite>async with</cite> support for <cite>ClientSession.request()</cite> and family (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/536">#536</a>)</p>
</li>
<li><p class="first">Ignore message body on 204 and 304 responses (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/505">#505</a>)</p>
</li>
<li><p class="first"><cite>TCPConnector</cite> processed both IPv4 and IPv6 by default (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/559">#559</a>)</p>
</li>
<li><p class="first">Add <cite>.routes()</cite> view for urldispatcher (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/519">#519</a>)</p>
</li>
<li><p class="first">Route name should be a valid identifier name from now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/567">#567</a>)</p>
</li>
<li><p class="first">Implement server signals (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/562">#562</a>)</p>
</li>
<li><p class="first">Drop a year-old deprecated <em>files</em> parameter from client API.</p>
</li>
<li><p class="first">Added <cite>async for</cite> support for aiohttp stream (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/542">#542</a>)</p>
</li>
</ul>
</div>
<div class="section" id="id739">
<h2>0.17.4 (09-29-2015)<a class="headerlink" href="#id739" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Properly parse URL path in aiohttp.web.Request (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/489">#489</a>)</li>
<li>Add missing coroutine decorator, the client api is await-compatible now</li>
</ul>
</div>
<div class="section" id="id741">
<h2>0.17.3 (08-28-2015)<a class="headerlink" href="#id741" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Remove Content-Length header on compressed responses (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/450">#450</a>)</li>
<li>Support Python 3.5</li>
<li>Improve performance of transport in-use list (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/472">#472</a>)</li>
<li>Fix connection pooling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/473">#473</a>)</li>
</ul>
</div>
<div class="section" id="id745">
<h2>0.17.2 (08-11-2015)<a class="headerlink" href="#id745" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Don’t forget to pass <cite>data</cite> argument forward (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/462">#462</a>)</li>
<li>Fix multipart read bytes count (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/463">#463</a>)</li>
</ul>
</div>
<div class="section" id="id748">
<h2>0.17.1 (08-10-2015)<a class="headerlink" href="#id748" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix multidict comparison to arbitrary abc.Mapping</li>
</ul>
</div>
<div class="section" id="id749">
<h2>0.17.0 (08-04-2015)<a class="headerlink" href="#id749" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make StaticRoute support Last-Modified and If-Modified-Since headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/386">#386</a>)</li>
<li>Add Request.if_modified_since and Stream.Response.last_modified properties</li>
<li>Fix deflate compression when writing a chunked response (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/395">#395</a>)</li>
<li>Request`s content-length header is cleared now after redirect from
POST method (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/391">#391</a>)</li>
<li>Return a 400 if server received a non HTTP content (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/405">#405</a>)</li>
<li>Fix keep-alive support for aiohttp clients (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/406">#406</a>)</li>
<li>Allow gzip compression in high-level server response interface (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/403">#403</a>)</li>
<li>Rename TCPConnector.resolve and family to dns_cache (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/415">#415</a>)</li>
<li>Make UrlDispatcher ignore quoted characters during url matching (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/414">#414</a>)
Backward-compatibility warning: this may change the url matched by
your queries if they send quoted character (like %2F for /) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/414">#414</a>)</li>
<li>Use optional cchardet accelerator if present (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/418">#418</a>)</li>
<li>Borrow loop from Connector in ClientSession if loop is not set</li>
<li>Add context manager support to ClientSession for session closing.</li>
<li>Add toplevel get(), post(), put(), head(), delete(), options(),
patch() coroutines.</li>
<li>Fix IPv6 support for client API (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/425">#425</a>)</li>
<li>Pass SSL context through proxy connector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/421">#421</a>)</li>
<li>Make the rule: path for add_route should start with slash</li>
<li>Don’t process request finishing by low-level server on closed event loop</li>
<li>Don’t override data if multiple files are uploaded with same key (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/433">#433</a>)</li>
<li>Ensure multipart.BodyPartReader.read_chunk read all the necessary data
to avoid false assertions about malformed multipart payload</li>
<li>Don’t send body for 204, 205 and 304 http exceptions (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/442">#442</a>)</li>
<li>Correctly skip Cython compilation in MSVC not found (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/453">#453</a>)</li>
<li>Add response factory to StaticRoute (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/456">#456</a>)</li>
<li>Don’t append trailing CRLF for multipart.BodyPartReader (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/454">#454</a>)</li>
</ul>
</div>
<div class="section" id="id767">
<h2>0.16.6 (07-15-2015)<a class="headerlink" href="#id767" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Skip compilation on Windows if vcvarsall.bat cannot be found (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/438">#438</a>)</li>
</ul>
</div>
<div class="section" id="id769">
<h2>0.16.5 (06-13-2015)<a class="headerlink" href="#id769" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Get rid of all comprehensions and yielding in _multidict (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/410">#410</a>)</li>
</ul>
</div>
<div class="section" id="id771">
<h2>0.16.4 (06-13-2015)<a class="headerlink" href="#id771" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Don’t clear current exception in multidict’s <cite>__repr__</cite> (cythonized
versions) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/410">#410</a>)</li>
</ul>
</div>
<div class="section" id="id773">
<h2>0.16.3 (05-30-2015)<a class="headerlink" href="#id773" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix StaticRoute vulnerability to directory traversal attacks (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/380">#380</a>)</li>
</ul>
</div>
<div class="section" id="id775">
<h2>0.16.2 (05-27-2015)<a class="headerlink" href="#id775" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Update python version required for <cite>__del__</cite> usage: it’s actually
3.4.1 instead of 3.4.0</li>
<li>Add check for presence of loop.is_closed() method before call the
former (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/378">#378</a>)</li>
</ul>
</div>
<div class="section" id="id777">
<h2>0.16.1 (05-27-2015)<a class="headerlink" href="#id777" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix regression in static file handling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/377">#377</a>)</li>
</ul>
</div>
<div class="section" id="id779">
<h2>0.16.0 (05-26-2015)<a class="headerlink" href="#id779" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Unset waiter future after cancellation (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/363">#363</a>)</li>
<li>Update request url with query parameters (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/372">#372</a>)</li>
<li>Support new <cite>fingerprint</cite> param of TCPConnector to enable verifying
SSL certificates via MD5, SHA1, or SHA256 digest (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/366">#366</a>)</li>
<li>Setup uploaded filename if field value is binary and transfer
encoding is not specified (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/349">#349</a>)</li>
<li>Implement <cite>ClientSession.close()</cite> method</li>
<li>Implement <cite>connector.closed</cite> readonly property</li>
<li>Implement <cite>ClientSession.closed</cite> readonly property</li>
<li>Implement <cite>ClientSession.connector</cite> readonly property</li>
<li>Implement <cite>ClientSession.detach</cite> method</li>
<li>Add <cite>__del__</cite> to client-side objects: sessions, connectors,
connections, requests, responses.</li>
<li>Refactor connections cleanup by connector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/357">#357</a>)</li>
<li>Add <cite>limit</cite> parameter to connector constructor (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/358">#358</a>)</li>
<li>Add <cite>request.has_body</cite> property (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/364">#364</a>)</li>
<li>Add <cite>response_class</cite> parameter to <cite>ws_connect()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/367">#367</a>)</li>
<li><cite>ProxyConnector</cite> does not support keep-alive requests by default
starting from now (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/368">#368</a>)</li>
<li>Add <cite>connector.force_close</cite> property</li>
<li>Add ws_connect to ClientSession (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/374">#374</a>)</li>
<li>Support optional <cite>chunk_size</cite> parameter in <cite>router.add_static()</cite></li>
</ul>
</div>
<div class="section" id="id790">
<h2>0.15.3 (04-22-2015)<a class="headerlink" href="#id790" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix graceful shutdown handling</li>
<li>Fix <cite>Expect</cite> header handling for not found and not allowed routes (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/340">#340</a>)</li>
</ul>
</div>
<div class="section" id="id792">
<h2>0.15.2 (04-19-2015)<a class="headerlink" href="#id792" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Flow control subsystem refactoring</li>
<li>HTTP server performance optimizations</li>
<li>Allow to match any request method with <cite>*</cite></li>
<li>Explicitly call drain on transport (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/316">#316</a>)</li>
<li>Make chardet module dependency mandatory (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/318">#318</a>)</li>
<li>Support keep-alive for HTTP 1.0 (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/325">#325</a>)</li>
<li>Do not chunk single file during upload (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/327">#327</a>)</li>
<li>Add ClientSession object for cookie storage and default headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/328">#328</a>)</li>
<li>Add <cite>keep_alive_on</cite> argument for HTTP server handler.</li>
</ul>
</div>
<div class="section" id="id798">
<h2>0.15.1 (03-31-2015)<a class="headerlink" href="#id798" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pass Autobahn Testsuite tests</li>
<li>Fixed websocket fragmentation</li>
<li>Fixed websocket close procedure</li>
<li>Fixed parser buffer limits</li>
<li>Added <cite>timeout</cite> parameter to WebSocketResponse ctor</li>
<li>Added <cite>WebSocketResponse.close_code</cite> attribute</li>
</ul>
</div>
<div class="section" id="id799">
<h2>0.15.0 (03-27-2015)<a class="headerlink" href="#id799" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Client WebSockets support</li>
<li>New Multipart system (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/273">#273</a>)</li>
<li>Support for “Except” header (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/287">#287</a>) (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/267">#267</a>)</li>
<li>Set default Content-Type for post requests (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/184">#184</a>)</li>
<li>Fix issue with construction dynamic route with regexps and trailing slash (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/266">#266</a>)</li>
<li>Add repr to web.Request</li>
<li>Add repr to web.Response</li>
<li>Add repr for NotFound and NotAllowed match infos</li>
<li>Add repr for web.Application</li>
<li>Add repr to UrlMappingMatchInfo (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/217">#217</a>)</li>
<li>Gunicorn 19.2.x compatibility</li>
</ul>
</div>
<div class="section" id="id806">
<h2>0.14.4 (01-29-2015)<a class="headerlink" href="#id806" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix issue with error during constructing of url with regex parts (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/264">#264</a>)</li>
</ul>
</div>
<div class="section" id="id808">
<h2>0.14.3 (01-28-2015)<a class="headerlink" href="#id808" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use path=’/’ by default for cookies (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/261">#261</a>)</li>
</ul>
</div>
<div class="section" id="id810">
<h2>0.14.2 (01-23-2015)<a class="headerlink" href="#id810" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Connections leak in BaseConnector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/253">#253</a>)</li>
<li>Do not swallow websocket reader exceptions (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/255">#255</a>)</li>
<li>web.Request’s read, text, json are memorized (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/250">#250</a>)</li>
</ul>
</div>
<div class="section" id="id814">
<h2>0.14.1 (01-15-2015)<a class="headerlink" href="#id814" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>HttpMessage._add_default_headers does not overwrite existing headers (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/216">#216</a>)</li>
<li>Expose multidict classes at package level</li>
<li>add <cite>aiohttp.web.WebSocketResponse</cite></li>
<li>According to RFC 6455 websocket subprotocol preference order is
provided by client, not by server</li>
<li>websocket’s ping and pong accept optional message parameter</li>
<li>multidict views do not accept <cite>getall</cite> parameter anymore, it
returns the full body anyway.</li>
<li>multidicts have optional Cython optimization, cythonized version of
multidicts is about 5 times faster than pure Python.</li>
<li>multidict.getall() returns <cite>list</cite>, not <cite>tuple</cite>.</li>
<li>Backward incompatible change: now there are two mutable multidicts
(<cite>MultiDict</cite>, <cite>CIMultiDict</cite>) and two immutable multidict proxies
(<cite>MultiDictProxy</cite> and <cite>CIMultiDictProxy</cite>). Previous edition of
multidicts was not a part of public API BTW.</li>
<li>Router refactoring to push Not Allowed and Not Found in middleware processing</li>
<li>Convert <cite>ConnectionError</cite> to <cite>aiohttp.DisconnectedError</cite> and don’t
eat <cite>ConnectionError</cite> exceptions from web handlers.</li>
<li>Remove hop headers from Response class, wsgi response still uses hop headers.</li>
<li>Allow to send raw chunked encoded response.</li>
<li>Allow to encode output bytes stream into chunked encoding.</li>
<li>Allow to compress output bytes stream with <cite>deflate</cite> encoding.</li>
<li>Server has 75 seconds keepalive timeout now, was non-keepalive by default.</li>
<li>Application does not accept <cite>**kwargs</cite> anymore ((<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/243">#243</a>)).</li>
<li>Request is inherited from dict now for making per-request storage to
middlewares ((<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/242">#242</a>)).</li>
</ul>
</div>
<div class="section" id="id818">
<h2>0.13.1 (12-31-2014)<a class="headerlink" href="#id818" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add <cite>aiohttp.web.StreamResponse.started</cite> property (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/213">#213</a>)</li>
<li>HTML escape traceback text in <cite>ServerHttpProtocol.handle_error</cite></li>
<li>Mention handler and middlewares in <cite>aiohttp.web.RequestHandler.handle_request</cite>
on error ((<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/218">#218</a>))</li>
</ul>
</div>
<div class="section" id="id821">
<h2>0.13.0 (12-29-2014)<a class="headerlink" href="#id821" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><cite>StreamResponse.charset</cite> converts value to lower-case on assigning.</li>
<li>Chain exceptions when raise <cite>ClientRequestError</cite>.</li>
<li>Support custom regexps in route variables (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/204">#204</a>)</li>
<li>Fixed graceful shutdown, disable keep-alive on connection closing.</li>
<li>Decode HTTP message with <cite>utf-8</cite> encoding, some servers send headers
in utf-8 encoding (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/207">#207</a>)</li>
<li>Support <cite>aiohtt.web</cite> middlewares (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/209">#209</a>)</li>
<li>Add ssl_context to TCPConnector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/206">#206</a>)</li>
</ul>
</div>
<div class="section" id="id826">
<h2>0.12.0 (12-12-2014)<a class="headerlink" href="#id826" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Deep refactoring of <cite>aiohttp.web</cite> in backward-incompatible manner.
Sorry, we have to do this.</li>
<li>Automatically force aiohttp.web handlers to coroutines in
<cite>UrlDispatcher.add_route()</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/186">#186</a>)</li>
<li>Rename <cite>Request.POST()</cite> function to <cite>Request.post()</cite></li>
<li>Added POST attribute</li>
<li>Response processing refactoring: constructor does not accept Request
instance anymore.</li>
<li>Pass application instance to finish callback</li>
<li>Exceptions refactoring</li>
<li>Do not unquote query string in <cite>aiohttp.web.Request</cite></li>
<li>Fix concurrent access to payload in <cite>RequestHandle.handle_request()</cite></li>
<li>Add access logging to <cite>aiohttp.web</cite></li>
<li>Gunicorn worker for <cite>aiohttp.web</cite></li>
<li>Removed deprecated <cite>AsyncGunicornWorker</cite></li>
<li>Removed deprecated HttpClient</li>
</ul>
</div>
<div class="section" id="id828">
<h2>0.11.0 (11-29-2014)<a class="headerlink" href="#id828" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Support named routes in <cite>aiohttp.web.UrlDispatcher</cite> (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/179">#179</a>)</li>
<li>Make websocket subprotocols conform to spec (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/181">#181</a>)</li>
</ul>
</div>
<div class="section" id="id831">
<h2>0.10.2 (11-19-2014)<a class="headerlink" href="#id831" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Don’t unquote <cite>environ[‘PATH_INFO’]</cite> in wsgi.py (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/177">#177</a>)</li>
</ul>
</div>
<div class="section" id="id833">
<h2>0.10.1 (11-17-2014)<a class="headerlink" href="#id833" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>aiohttp.web.HTTPException and descendants now files response body
with string like <cite>404: NotFound</cite></li>
<li>Fix multidict <cite>__iter__</cite>, the method should iterate over keys, not
(key, value) pairs.</li>
</ul>
</div>
<div class="section" id="id834">
<h2>0.10.0 (11-13-2014)<a class="headerlink" href="#id834" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add aiohttp.web subpackage for highlevel HTTP server support.</li>
<li>Add <em>reason</em> optional parameter to aiohttp.protocol.Response ctor.</li>
<li>Fix aiohttp.client bug for sending file without content-type.</li>
<li>Change error text for connection closed between server responses
from ‘Can not read status line’ to explicit ‘Connection closed by
server’</li>
<li>Drop closed connections from connector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/173">#173</a>)</li>
<li>Set server.transport to None on .closing() (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/172">#172</a>)</li>
</ul>
</div>
<div class="section" id="id837">
<h2>0.9.3 (10-30-2014)<a class="headerlink" href="#id837" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix compatibility with asyncio 3.4.1+ (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/170">#170</a>)</li>
</ul>
</div>
<div class="section" id="id839">
<h2>0.9.2 (10-16-2014)<a class="headerlink" href="#id839" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Improve redirect handling (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/157">#157</a>)</li>
<li>Send raw files as is (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/153">#153</a>)</li>
<li>Better websocket support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/150">#150</a>)</li>
</ul>
</div>
<div class="section" id="id843">
<h2>0.9.1 (08-30-2014)<a class="headerlink" href="#id843" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added MultiDict support for client request params and data (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/114">#114</a>).</li>
<li>Fixed parameter type for IncompleteRead exception (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/118">#118</a>).</li>
<li>Strictly require ASCII headers names and values (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/137">#137</a>)</li>
<li>Keep port in ProxyConnector (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/128">#128</a>).</li>
<li>Python 3.4.1 compatibility (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/131">#131</a>).</li>
</ul>
</div>
<div class="section" id="id849">
<h2>0.9.0 (07-08-2014)<a class="headerlink" href="#id849" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Better client basic authentication support (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/112">#112</a>).</li>
<li>Fixed incorrect line splitting in HttpRequestParser (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/97">#97</a>).</li>
<li>Support StreamReader and DataQueue as request data.</li>
<li>Client files handling refactoring (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/20">#20</a>).</li>
<li>Backward incompatible: Replace DataQueue with StreamReader for
request payload (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/87">#87</a>).</li>
</ul>
</div>
<div class="section" id="id854">
<h2>0.8.4 (07-04-2014)<a class="headerlink" href="#id854" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Change ProxyConnector authorization parameters.</li>
</ul>
</div>
<div class="section" id="id855">
<h2>0.8.3 (07-03-2014)<a class="headerlink" href="#id855" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Publish TCPConnector properties: verify_ssl, family, resolve, resolved_hosts.</li>
<li>Don’t parse message body for HEAD responses.</li>
<li>Refactor client response decoding.</li>
</ul>
</div>
<div class="section" id="id856">
<h2>0.8.2 (06-22-2014)<a class="headerlink" href="#id856" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make ProxyConnector.proxy immutable property.</li>
<li>Make UnixConnector.path immutable property.</li>
<li>Fix resource leak for aiohttp.request() with implicit connector.</li>
<li>Rename Connector’s reuse_timeout to keepalive_timeout.</li>
</ul>
</div>
<div class="section" id="id857">
<h2>0.8.1 (06-18-2014)<a class="headerlink" href="#id857" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use case insensitive multidict for server request/response headers.</li>
<li>MultiDict.getall() accepts default value.</li>
<li>Catch server ConnectionError.</li>
<li>Accept MultiDict (and derived) instances in aiohttp.request header argument.</li>
<li>Proxy ‘CONNECT’ support.</li>
</ul>
</div>
<div class="section" id="id858">
<h2>0.8.0 (06-06-2014)<a class="headerlink" href="#id858" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Add support for utf-8 values in HTTP headers</li>
<li>Allow to use custom response class instead of HttpResponse</li>
<li>Use MultiDict for client request headers</li>
<li>Use MultiDict for server request/response headers</li>
<li>Store response headers in ClientResponse.headers attribute</li>
<li>Get rid of timeout parameter in aiohttp.client API</li>
<li>Exceptions refactoring</li>
</ul>
</div>
<div class="section" id="id859">
<h2>0.7.3 (05-20-2014)<a class="headerlink" href="#id859" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Simple HTTP proxy support.</li>
</ul>
</div>
<div class="section" id="id860">
<h2>0.7.2 (05-14-2014)<a class="headerlink" href="#id860" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Get rid of <cite>__del__</cite> methods</li>
<li>Use ResourceWarning instead of logging warning record.</li>
</ul>
</div>
<div class="section" id="id861">
<h2>0.7.1 (04-28-2014)<a class="headerlink" href="#id861" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not unquote client request urls.</li>
<li>Allow multiple waiters on transport drain.</li>
<li>Do not return client connection to pool in case of exceptions.</li>
<li>Rename SocketConnector to TCPConnector and UnixSocketConnector to
UnixConnector.</li>
</ul>
</div>
<div class="section" id="id862">
<h2>0.7.0 (04-16-2014)<a class="headerlink" href="#id862" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Connection flow control.</li>
<li>HTTP client session/connection pool refactoring.</li>
<li>Better handling for bad server requests.</li>
</ul>
</div>
<div class="section" id="id863">
<h2>0.6.5 (03-29-2014)<a class="headerlink" href="#id863" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added client session reuse timeout.</li>
<li>Better client request cancellation support.</li>
<li>Better handling responses without content length.</li>
<li>Added HttpClient verify_ssl parameter support.</li>
</ul>
</div>
<div class="section" id="id864">
<h2>0.6.4 (02-27-2014)<a class="headerlink" href="#id864" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Log content-length missing warning only for put and post requests.</li>
</ul>
</div>
<div class="section" id="id865">
<h2>0.6.3 (02-27-2014)<a class="headerlink" href="#id865" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Better support for server exit.</li>
<li>Read response body until EOF if content-length is not defined (<a class="reference external" href="https://github.com/aio-libs/aiohttp/pull/14">#14</a>)</li>
</ul>
</div>
<div class="section" id="id867">
<h2>0.6.2 (02-18-2014)<a class="headerlink" href="#id867" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix trailing char in allowed_methods.</li>
<li>Start slow request timer for first request.</li>
</ul>
</div>
<div class="section" id="id868">
<h2>0.6.1 (02-17-2014)<a class="headerlink" href="#id868" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added utility method HttpResponse.read_and_close()</li>
<li>Added slow request timeout.</li>
<li>Enable socket SO_KEEPALIVE if available.</li>
</ul>
</div>
<div class="section" id="id869">
<h2>0.6.0 (02-12-2014)<a class="headerlink" href="#id869" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Better handling for process exit.</li>
</ul>
</div>
<div class="section" id="id870">
<h2>0.5.0 (01-29-2014)<a class="headerlink" href="#id870" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow to use custom HttpRequest client class.</li>
<li>Use gunicorn keepalive setting for asynchronous worker.</li>
<li>Log leaking responses.</li>
<li>python 3.4 compatibility</li>
</ul>
</div>
<div class="section" id="id871">
<h2>0.4.4 (11-15-2013)<a class="headerlink" href="#id871" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Resolve only AF_INET family, because it is not clear how to pass
extra info to asyncio.</li>
</ul>
</div>
<div class="section" id="id872">
<h2>0.4.3 (11-15-2013)<a class="headerlink" href="#id872" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Allow to wait completion of request with <cite>HttpResponse.wait_for_close()</cite></li>
</ul>
</div>
<div class="section" id="id873">
<h2>0.4.2 (11-14-2013)<a class="headerlink" href="#id873" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Handle exception in client request stream.</li>
<li>Prevent host resolving for each client request.</li>
</ul>
</div>
<div class="section" id="id874">
<h2>0.4.1 (11-12-2013)<a class="headerlink" href="#id874" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added client support for <cite>expect: 100-continue</cite> header.</li>
</ul>
</div>
<div class="section" id="id875">
<h2>0.4 (11-06-2013)<a class="headerlink" href="#id875" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added custom wsgi application close procedure</li>
<li>Fixed concurrent host failure in HttpClient</li>
</ul>
</div>
<div class="section" id="id876">
<h2>0.3 (11-04-2013)<a class="headerlink" href="#id876" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added PortMapperWorker</li>
<li>Added HttpClient</li>
<li>Added TCP connection timeout to HTTP client</li>
<li>Better client connection errors handling</li>
<li>Gracefully handle process exit</li>
</ul>
</div>
<div class="section" id="id877">
<h2>0.2<a class="headerlink" href="#id877" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix packaging</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2013-2018, Aiohttp contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      
      |
      <a href="_sources/changes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>